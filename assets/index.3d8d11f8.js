var Ae=Object.defineProperty,je=Object.defineProperties;var $e=Object.getOwnPropertyDescriptors;var K=Object.getOwnPropertySymbols;var fe=Object.prototype.hasOwnProperty,pe=Object.prototype.propertyIsEnumerable;var ee=(t,e,n)=>e in t?Ae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_=(t,e)=>{for(var n in e||(e={}))fe.call(e,n)&&ee(t,n,e[n]);if(K)for(var n of K(e))pe.call(e,n)&&ee(t,n,e[n]);return t},S=(t,e)=>je(t,$e(e));var de=(t,e)=>{var n={};for(var s in t)fe.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&K)for(var s of K(t))e.indexOf(s)<0&&pe.call(t,s)&&(n[s]=t[s]);return n};var I=(t,e,n)=>(ee(t,typeof e!="symbol"?e+"":e,n),n);import{r as h,u as ge,a as he,p as Be,b as qe,c as Fe,d as He,E as b,P as u,N as g,e as M,f as te,j as i,g as H,T as G,l as $,h as me,i as be,F as B,k as ne,m as se,n as re,o as Q,R as z,q as D,s as Ve,t as c,v as O,w as ye,x as A,y as Ue,z as ve,A as Ke,B as Ge,_ as V,C as xe,D as oe,G as _e,H as ke,I as we,J as Qe,K as We,L as Ye,M as Je,O as Xe,S as Ze,Q as et,U as Te,V as tt,W as nt}from"./vendor.f83cff95.js";const st=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}};st();class rt{constructor(e,n){I(this,"getMarkdownProcessor",ge().use(he).use(Be).use(qe,{bullet:"-",listItemIndent:"one",fence:"`",rule:"-"}));I(this,"setMarkdownProcessor",ge().use(he).use(Fe).use(He));this.editor=e,this.setValue=n,this.getMarkdownProcessor.freeze(),this.setMarkdownProcessor.freeze()}get markdown(){return this.getMarkdownProcessor.stringify(this.getMarkdownProcessor.runSync({type:"root",children:this.editor.children}))}set markdown(e){this.setValue(this.setMarkdownProcessor.processSync(e).result),setTimeout(()=>{b.normalize(this.editor,{force:!0})},0)}}function ot(t){const[e,n]=h.exports.useState([{type:"paragraph",children:[{text:""}]}]);return[h.exports.useMemo(()=>new rt(t,n),[t]),e,n]}var v;(function(t){t[t.flow=16]="flow",t[t.list=32]="list",t[t.phrasing=48]="phrasing",t[t.staticPhrasing=49]="staticPhrasing",t[t.value=64]="value"})(v||(v={}));function Ne(t,e){return t===e||t<e&&(t^e)<16}function L(t){return S(_({},t),{register(e){e.define(t)}})}function at(t,{at:e,match:n}){for(const s of u.ancestors(e,{reverse:!0}))if(n(g.get(t,s),s))return!0;return!1}function N(t,e){return M.isElement(t)?e instanceof Array?e.indexOf(t.type)>=0:t.type===e:!1}function it(t,e){const n=u.previous(e),s=g.get(t,n);return n.concat(s.children.length)}function Pe({icon:t,active:e,disabled:n,action:s,tips:r}){const o=te(),l=h.exports.useCallback(d=>{s&&d.button===0&&(d.preventDefault(),d.stopPropagation(),n||b.withoutNormalizing(o,()=>{s(d)}))},[s]),m=i("span",{className:H("toolbar-item",{active:e,disabled:n}),onMouseDown:l,children:t});return r?i(G,{content:i("span",{className:"toolbar-item-tips",children:r}),children:m}):m}$.add(me,be);function lt({isEmpty:t,element:e,items:n,setActive:s}){return i(G,{appendTo:"parent",content:ct(n),hideOnClick:!1,interactive:!0,onHide:()=>s(!1),onShow:()=>s(!0),children:i("span",{className:"line-operations",contentEditable:!1,children:i(B,{icon:t?be:me})})})}const ct=t=>i("div",{className:"block-toolbar",children:t.map(e=>i(Pe,{action:e.action,active:e.active,disabled:e.disabled,icon:e.icon,tips:e.tips},e.key))});$.add(ne,se,re,Q);function ut(t,e){const n=e==null?void 0:e.current;return t.factory.blockConfigs.flatMap(r=>r.toolbarItems).map(({key:r,isDisabled:o,isActive:l,action:m,icon:d,tips:k})=>({key:r,disabled:n?o(t,n):!1,active:n?l(t,n):!1,icon:d,action:n?a=>m(t,n,a):()=>{},tips:k}))}function Ee(){const[t,e]=h.exports.useState(0);return()=>{e(n=>n+1)}}function W({element:t,children:e}){const[n,s]=h.exports.useState(null),r=h.exports.useRef(),o=te(),l=ut(o,r.current),m=Ee();h.exports.useLayoutEffect(()=>{var f,p;if(n){const y=document.createRange();y.selectNode(n.childNodes.item(0));const P=z.toSlateRange(o,y,{exactMatch:!1});let w=u.common(P.anchor.path,P.focus.path);for(;w.length!==0;){if(b.isBlock(o,g.get(o,w))){r.current=b.pathRef(o,w);break}w=u.parent(w)}}else r.current&&((p=(f=r.current).unref)==null||p.call(f)),r.current=void 0},[n]);const[d,k]=h.exports.useState(!1),a=(()=>{const f=t.children[0];return t.children.length===1&&D.isText(f)&&f.text===""})();return i(Ve,{appendTo:document.body,arrow:!1,hideOnClick:!1,interactive:!0,interactiveBorder:12,offset:[0,8],onTrigger:m,placement:"left",popperOptions:{modifiers:[{name:"flip",options:{allowedAutoPlacements:["left"]}}]},ref:s,render:()=>i(lt,{element:t,isEmpty:a,items:l,setActive:k}),children:typeof e=="function"?e({active:d,pathRef:r.current}):e})}const ft=["markdown","javascript","typescript","jsx","tsx","sql","bash","go","rust","json","log"],U=Symbol("prism_token"),ae=L({type:"code",isInline:!1,isLeaf:!1,isVoid:!1,isDisallowTextDecorators:!0,isHiddenHoverToolbar:!0,wrappingParagraph:!1,contentType:v.flow,contentModelType:v.flow,render:(t,{element:e,children:n,attributes:s})=>i(W,{element:e,children:({active:r,pathRef:o})=>i(G,{appendTo:document.body,content:i("select",{className:"lang-selector",contentEditable:!1,onChange:l=>{(o==null?void 0:o.current)&&c.setNodes(t,{lang:l.currentTarget.value},{at:o.current})},tabIndex:void 0,value:e.lang||void 0,children:ft.map(l=>i("option",{children:l},l))}),interactive:!0,placement:"top-start",children:i("pre",S(_({},s),{className:H({active:r},e.lang?`language-${e.lang}`:void 0),children:i("code",{className:"prism-code",children:n})}))})}),toggle:{prefix:/^`{3}(?: (\w+))?$/,toggle:(t,e,n)=>{if(n){const s=g.string(g.get(t,e));c.removeNodes(t,{at:e}),c.insertNodes(t,S(_({type:"code"},n),{children:[{text:s}]}),{at:e}),c.select(t,e.concat(0))}else c.unsetNodes(t,["meta","lang"],{at:e}),c.setNodes(t,{type:"paragraph"},{at:e})},onTrigger:(t,e,n)=>{if(n.length>1)return;const s=/^`{3}(?: (\w+))?$/.exec(t);return s?{lang:s[1]||"markdown",meta:void 0}:{lang:"markdown",meta:void 0}}},events:{},toolbarItems:[{key:"code-block",icon:i(B,{icon:Q}),isActive:(t,e)=>R(t,e,"code"),isDisabled:(t,e)=>e.length>1,tips:i(O,{children:"\u4EE3\u7801\u5757"}),action:(t,e,n)=>{R(t,e,"code")?ae.toggle.toggle(t,e,!1):ae.toggle.toggle(t,e,{lang:"markdown",meta:void 0})}}],decorate:(t,[e,n],s)=>{if(D.isText(e)&&s.lang){const r=ye.languages[s.lang];if(!r)return[];const o=[],l=ye.tokenize(e.text,r);let m=0;for(const d of l){const k=Me(d),a=m+k;typeof d!="string"&&o.push({[U]:d.type,anchor:{path:n,offset:m},focus:{path:n,offset:a}}),m=a}return o}return[]}}),Me=t=>typeof t=="string"?t.length:typeof t.content=="string"?t.content.length:t.content.reduce((e,n)=>e+Me(n),0);var pt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",SYMBOL_PRISM_TOKEN:U,default:ae}),C;(function(t){t.strong="strong",t.emphasis="emphasis",t.delete="delete",t.inlineCode="inlineCode"})(C||(C={}));const F=L({isLeaf:!0,contentType:v.staticPhrasing,contentModelType:v.value,canContainsContentModelTypeOf:t=>t.inlineCode?v.value:(t.strong||t.emphasis||t.delete,v.phrasing),normalize:(t,e,n,s)=>{if(e.text===""){const r=[C.strong,C.emphasis,C.delete,C.inlineCode].filter(o=>!!e[o]);r.length>0&&c.unsetNodes(t,r,{at:n})}},render(t,{leaf:e,children:n,attributes:s}){let r=n;return e[U]&&(r=i("span",{className:H(e[U]?`token ${e[U]}`:void 0,s.className),children:r})),e.delete&&(r=i("del",{children:r})),e.emphasis&&(r=i("em",{children:r})),e.strong&&(r=i("strong",{children:r})),e.inlineCode&&(r=i("code",{children:r})),i("span",S(_({},s),{children:r}))},toggleDecorator:(t,e,n)=>{const s=Se(t),r=o=>s(g.get(t,o.anchor.path),o.anchor.path);ie(t,e,n)?A.isCollapsed(e)?r(e)&&b.addMark(t,n,!1):c.setNodes(t,{[n]:!1},{match:s,split:!0}):A.isCollapsed(e)?r(e)&&b.addMark(t,n,!0):c.setNodes(t,{[n]:!0},{match:s,split:!0})},toolbarItems:[{key:C.strong,icon:ne,tips:i(O,{children:"\u52A0\u7C97"})},{key:C.emphasis,icon:se,tips:i(O,{children:"\u659C\u4F53"})},{key:C.inlineCode,icon:Q,tips:i(O,{children:"\u884C\u5185\u4EE3\u7801"})},{key:C.delete,icon:re,tips:i(O,{children:"\u5220\u9664"})}].map(({key:t,icon:e,tips:n})=>({key:t,icon:i(B,{icon:e}),isActive:(s,r)=>ie(s,r,t),isDisabled:(s,r)=>!Y(s,r),action:(s,r,o)=>{F.toggleDecorator(s,r,t)},tips:n}))});function ie(t,e,n){if(!z.hasRange(t,e))return!1;const s=b.marks(t);return s?!!s[n]:!1}const Y=(t,e)=>{const n=Ce(t),[s]=b.nodes(t,{at:e,match:n});return!s},Se=t=>(e,n)=>{if(!D.isText(e))return!1;const s=g.parent(t,n);if(M.isElement(s)){const r=t.factory.customElementMap.get(s.type);return r?!r.isDisallowTextDecorators:!1}else return!1},Ce=t=>(e,n)=>{if(!D.isText(e))return!1;const s=g.parent(t,n);if(M.isElement(s)){const r=t.factory.customElementMap.get(s.type);return r?!!r.isDisallowTextDecorators:!0}else return!0};function R(t,e,n,s){if(A.isRange(e)){if(!z.hasRange(t,e))return!1}else if(u.isPath(e)){if(!b.hasPath(t,e))return!1}else if(!z.hasRange(t,{anchor:e,focus:e}))return!1;if(u.isPath(e)){const o=g.get(t,e);return N(o,n)&&(s?s(o):!0)}const[r]=b.nodes(t,{at:A.isRange(e)?b.unhangRange(t,e):e,match:o=>!b.isEditor(o)&&N(o,n)&&(s?s(o):!0)});return!!r}var dt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",get TextNodeDecorator(){return C},isDecoratorActive:ie,isRangeCustomTextPropsEnabled:Y,isCustomTextPropsEnabled:Se,isCustomTextPropsNotEnabled:Ce,isElementActive:R,default:F});function gt({schema:t,onSubmit:e,defaultValues:n}){return i("div",{contentEditable:!1,children:i(Ue,{className:"action-form",formData:n,onSubmit:s=>e(s.formData),schema:t})})}function ht(t,e){return h.exports.useCallback(()=>t.selection?z.toDOMRange(t,t.selection).getBoundingClientRect():e.getBoundingClientRect(),[t,e])}function mt(t,e){return h.exports.useCallback(()=>{t("user canceled"),e.current&&e.current.hide()},[t])}function bt(){const t=h.exports.useRef(),e=h.exports.useCallback(n=>{t.current=n},[t]);return[t,e]}function yt(t,e,n,s){const r=h.exports.useCallback(o=>{var l;e(o),(l=s.current)==null||l.hide()},[e,s]);return h.exports.useMemo(()=>i(gt,{defaultValues:n,onSubmit:r,schema:t}),[t,r])}function vt({editor:t,el:e,reject:n,resolve:s,schema:r,defaultValues:o}){const[l,m]=bt(),d=ht(t,e),k=mt(n,l),a=yt(r,s,o,l);return i(G,{content:a,getReferenceClientRect:d,interactive:!0,onClickOutside:k,onMount:m,placement:"right-start",visible:!0,children:i("span",{})})}function Ie(t,e,n,s){return new Promise((r,o)=>{t.setActionForm(i(vt,{defaultValues:s,editor:t,el:e,reject:o,resolve:r,schema:n}))}).catch(r=>{if(r==="user canceled")return Promise.resolve(void 0);throw r})}const xt="\u6DFB\u52A0\u8D85\u94FE\u63A5",_t="object",kt={src:{title:"\u94FE\u63A5",type:"string",format:"url"},text:{title:"\u663E\u793A\u6587\u672C",type:"string"}},wt=["src","text"];var Tt={title:xt,type:_t,properties:kt,required:wt};$.add(ve);const le=L({type:"link",isInline:!0,isVoid:!1,isLeaf:!1,contentType:v.phrasing,contentModelType:v.staticPhrasing,normalize:(t,e,n,s)=>{g.string(e).trim().length===0&&(c.removeNodes(t,{at:n}),s())},render:(t,{element:e,attributes:n,children:s})=>i("a",S(_({href:e.url,onClick:()=>window.open(e.url,"_blank"),style:{display:"inline-flex",cursor:"pointer"}},n),{children:s})),insert:(t,e,r)=>{var o=r,{text:n}=o,s=de(o,["text"]);c.insertNodes(t,[_({type:"link",children:[{text:n}]},s),{text:" "}],{at:e,select:!0}),Ke.isPoint(e)&&c.move(t,{distance:1})},match:{regexp:Ge()},toolbarItems:[{key:"link",icon:i(B,{icon:ve}),tips:i(O,{children:"\u8D85\u94FE\u63A5"}),isActive:(t,e)=>R(t,e,"link"),isDisabled:(t,e)=>!u.equals(u.parent(e.focus.path),u.parent(e.anchor.path))||!Y(t,e),action:(t,e,n)=>{R(t,e,"link")?c.unwrapNodes(t,{at:b.unhangRange(t,e),match:s=>!b.isEditor(s)&&M.isElement(s)&&s.type==="link"}):Ie(t,n.target,Tt,{text:b.string(t,e),src:""}).then(s=>{if(s){const{src:r,text:o}=s;b.withoutNormalizing(t,()=>{le.insert(t,e,{url:r,title:"",text:o})})}})}}]});var Nt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:le});class Pt{constructor(e,n){I(this,"state",[]);this.factory=e,this.editor=n}process(e){const[n,s]=e;if(b.isEditor(n))return this.state=[],[];if(M.isElement(n)){const r=this.factory.customElementMap.get(n.type);if(r&&!r.isInline){const o=r;if(o.decorate)return this.state.push({element:n,path:s,config:o}),[]}}if(this.state.length>0){for(const r of this.state.reverse())if(u.isAncestor(r.path,s))return r.config.decorate(this.editor,e,r.element)}return[]}}class Et{constructor(){I(this,"blockConfigs",[]);I(this,"inlineConfigs",[]);I(this,"textConfig");I(this,"inlineSet",new Set);I(this,"voidSet",new Set);I(this,"customElementMap",new Map);I(this,"contentTypeMap",new Map);I(this,"contentModelTypeMap",new Map)}define(e){return e.isLeaf?this.textConfig=e:(e.isInline?(this.inlineSet.add(e.type),this.inlineConfigs.push(e)):this.blockConfigs.push(e),this.customElementMap.set(e.type,e),e.isVoid&&this.voidSet.add(e.type)),this}wrapEditor(e){const{isVoid:n,isInline:s,normalizeNode:r}=e;return e.factory=this,e.updatePopper=e.hidePopper=e.togglePopper=()=>{},e.isContent=(o,l)=>M.isElement(o)?this.contentTypeMap.get(o.type)===l:D.isText(o)?this.textConfig.contentType===l:!1,e.canContainsContent=(o,l)=>{if(b.isEditor(o))return l===v.flow;if(M.isElement(o)){const m=this.contentModelTypeMap.get(o.type);return m?Ne(l,m):!1}else return D.isText(o)?Ne(l,F.canContainsContentModelTypeOf(o)):!1},e.isVoid=o=>this.voidSet.has(o.type)||n(o),e.isInline=o=>this.inlineSet.has(o.type)||s(o),e.normalizeNode=o=>{let l=!0;const m=()=>{l=!1};b.withoutNormalizing(e,()=>{var a;const[d,k]=o;if(M.isElement(d)){const f=(a=this.customElementMap.get(d.type))==null?void 0:a.normalize;f&&f(e,d,k,m)}D.isText(d)&&this.textConfig.normalize&&this.textConfig.normalize(e,d,k,m)}),l&&r(o)},e}createDefaultEditableProps(e){const n=a=>{var p;const{selection:f}=e;if(f&&A.isCollapsed(f)){const y=f.anchor,P=g.get(e,y.path),w=g.parent(e,y.path);if(D.isText(P)&&M.isElement(w)&&w.type==="paragraph"&&a.data===" "&&!u.hasPrevious(y.path)){const E=P.text.slice(0,y.offset);for(const{toggle:x}of this.blockConfigs)if(!(typeof x.estimatePrefixLength=="number"&&E.length>x.estimatePrefixLength)&&((p=x.prefix)==null?void 0:p.test(E))){const T=x.onTrigger(E,e,u.parent(y.path));if(typeof T!="undefined"){c.delete(e,{at:{path:y.path,offset:0},distance:y.offset}),x.toggle(e,u.parent(y.path),T),a.preventDefault();return}}}if(D.isText(P)&&!N(w,"link")&&a.data===" "){for(const E of this.inlineConfigs)if(E.match){const x=E.match.regexp.exec(P.text.slice(0,y.offset));if(x){const T=x[0],j=x.index,Re=x.index+T.length,ze={anchor:{path:y.path,offset:j},focus:{path:y.path,offset:Re}};le.insert(e,ze,{url:T,title:"",text:T}),a.preventDefault();return}}}if(b.isInline(e,w)){const E=u.parent(y.path).concat(w.children.length);c.insertNodes(e,{text:a.data||""},{at:E}),c.move(e,{distance:1}),a.preventDefault();return}}},s=a=>f=>{const{selection:p}=e;if(p&&A.isCollapsed(p)){const y=p.anchor;if(Mt(e,y)){const P=u.parent(y.path),w=g.get(e,P);if(M.isElement(w)){const E=this.customElementMap.get(w.type);if(E){const x=a(E.events);if(x&&x(e,y.path)){f.preventDefault();return}}if(w.type==="paragraph"){const x=g.parent(e,P);if(!u.hasPrevious(P)&&M.isElement(x)){const T=this.customElementMap.get(x.type);if(T==null?void 0:T.wrappingParagraph){const j=a(T.events);if(j&&j(e,y.path)){f.preventDefault();return}}}}}}}},r=s(a=>a.onStartDelete),o=s(a=>a.onStartEnter),m=(a=>f=>{const{selection:p}=e;if(p&&A.isCollapsed(p)){const y=p.anchor,P=u.parent(y.path),w=g.parent(e,y.path);if(M.isElement(w)){const E=this.customElementMap.get(w.type);if(E){const x=a(E.events);if(x&&x(e,y.path)){f.preventDefault();return}}if(w.type==="paragraph"){const x=g.parent(e,P);if(M.isElement(x)){const T=this.customElementMap.get(x.type);if(T==null?void 0:T.wrappingParagraph){const j=a(T.events);if(j&&j(e,y.path)){f.preventDefault();return}}}}}}})(a=>a.onTab),d=new Pt(this,e);return{renderElement:a=>{const f=this.customElementMap.get(a.element.type);return f?f.render(e,a):(console.warn(`${a.element.type} not impl`),h.exports.createElement("div",a.attributes,a.children))},renderLeaf:a=>this.textConfig?this.textConfig.render(e,a):h.exports.createElement("span",a.attributes,a.children),decorate:a=>d.process(a),onDOMBeforeInput:a=>{De(e,()=>{switch(console.log(a.inputType),a.inputType){case"insertText":n(a);break;case"deleteContentBackward":r(a);break;case"insertParagraph":o(a);break;case"insertFromPaste":console.log(a);break}})},onKeyDown:a=>{De(e,()=>{if(V("tab",a)){m(a);return}if(V(["ctrl+enter"],a)){c.insertText(e,`
`);return}if(V("enter",a)&&e.selection){const f=g.parent(e,e.selection.anchor.path);if(b.isBlock(e,f)&&!/paragraph|heading/.test(f.type)){c.insertText(e,`
`),a.preventDefault();return}}if(e.selection){if(V("meta+b",a)){F.toggleDecorator(e,e.selection,C.strong),a.preventDefault();return}if(V("meta+i",a)){F.toggleDecorator(e,e.selection,C.emphasis),a.preventDefault();return}}})},onSelect:a=>{const f=window.getSelection();f&&(f.isCollapsed?e.hidePopper():f.rangeCount>0&&e.updatePopper(f.getRangeAt(0)))},onBlur:a=>{e.hidePopper()},onClick:()=>{const a=window.getSelection();if(a&&a.isCollapsed&&a.rangeCount>0){const f=a.getRangeAt(0),p=z.toSlateRange(e,f,{exactMatch:!0});p&&e.selection&&A.equals(p,e.selection)&&e.togglePopper(f)}}}}}function Mt(t,e){return e.offset===0&&!u.hasPrevious(e.path)&&D.isText(g.get(t,e.path))}function De(t,e){let n=!0;b.withoutNormalizing(t,()=>{e(()=>{n=!1})}),n||b.normalize(t)}$.add(xe);const J=L({type:"blockquote",isInline:!1,isLeaf:!1,isVoid:!1,wrappingParagraph:!0,contentType:v.flow,contentModelType:v.flow,render:(t,{children:e,attributes:n})=>i("blockquote",S(_({},n),{children:e})),toggle:{prefix:/^>$/,toggle:(t,e,n)=>{n?c.wrapNodes(t,{type:"blockquote",children:[]},{at:e}):c.unwrapNodes(t,{at:u.parent(e)})},onTrigger(){return!0}},events:{onStartDelete:(t,e)=>{const n=g.parent(t,u.parent(e));return N(n,"blockquote")?(J.toggle.toggle(t,u.parent(e),!1),!0):!1}},toolbarItems:[{key:"blockquote",icon:i(B,{icon:xe}),isActive:ce,isDisabled:(t,e)=>!N(g.get(t,e),["heading","paragraph"]),tips:i(O,{children:"\u5F15\u7528"}),action:(t,e,n)=>{ce(t,e)?J.toggle.toggle(t,e,!1):J.toggle.toggle(t,e,!0)}}]});function ce(t,e){return at(t,{at:e,match:n=>N(n,"blockquote")})}var St=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",isBlockquoteActive:ce,default:J});const X=L({type:"heading",isInline:!1,isLeaf:!1,isVoid:!1,wrappingParagraph:!1,contentType:v.flow,contentModelType:v.phrasing,render:(t,{element:e,children:n,attributes:s})=>i(W,{element:e,children:({active:r})=>h.exports.createElement(`h${e.depth}`,Object.assign(s,{className:H({active:r})}),n)}),toggle:{prefix:/^#{1,6}$/,estimatePrefixLength:6,toggle:(t,e,n)=>{n?c.setNodes(t,_({type:"heading"},n),{at:e}):(c.unsetNodes(t,"depth",{at:e}),c.setNodes(t,{type:"paragraph"},{at:e}))},onTrigger:t=>({depth:t.length})},events:{onStartEnter:(t,e)=>{const n=g.parent(t,e);return N(n,"heading")?(X.toggle.toggle(t,u.parent(e),!1),!0):!1}},toolbarItems:[1,2,3,4,5,6].map(t=>{const e=(n,s)=>R(n,s,"heading",r=>r.depth===t);return{key:`heading-level-${t}`,icon:oe(O,{children:["H",t]}),isActive:e,isDisabled:(n,s)=>!N(g.get(n,s),["paragraph","heading"]),action:(n,s,r)=>{e(n,s)?X.toggle.toggle(n,s,!1):X.toggle.toggle(n,s,{depth:t})}}})});var Ct=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:X});const It="\u6DFB\u52A0\u56FE\u7247",Dt="object",Lt={src:{title:"\u94FE\u63A5",type:"string",format:"url"},alt:{title:"\u66FF\u4EE3\u6587\u672C\uFF08alt\uFF09",type:"string"}},Ot=["src","alt"];var Rt={title:It,type:Dt,properties:Lt,required:Ot};$.add(_e);const Le=L({type:"image",isInline:!0,isVoid:!1,isLeaf:!1,contentType:v.staticPhrasing,contentModelType:null,render:(t,{element:e,attributes:n})=>i("img",_({alt:e.alt,src:e.url,title:e.title},n)),insert:(t,e,n)=>{c.insertNodes(t,[{text:" "},_({type:"image",children:[]},n),{text:" "}],{at:e})},toolbarItems:[{key:"image",icon:i(B,{icon:_e}),tips:i(O,{children:"\u8D85\u94FE\u63A5"}),isActive:(t,e)=>R(t,e,"image"),isDisabled:(t,e)=>!u.equals(u.parent(e.focus.path),u.parent(e.anchor.path))||!Y(t,e),action:(t,e,n)=>{R(t,e,"image")?c.removeNodes(t,{at:b.unhangRange(t,e),match:s=>!b.isEditor(s)&&M.isElement(s)&&s.type==="image"}):Ie(t,n.target,Rt,{alt:b.string(t,e),src:""}).then(s=>{if(s){const{src:r,alt:o}=s;b.withoutNormalizing(t,()=>{Le.insert(t,e,{url:r,title:"",alt:o})})}})}}]});var zt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Le});$.add(ke,we);const At=L({type:"list",isLeaf:!1,isInline:!1,isVoid:!1,wrappingParagraph:!0,contentType:v.flow,contentModelType:v.list,normalize:(t,e,n,s)=>{if(e.children.length===0){c.removeNodes(t,{at:n}),s();return}if(u.hasPrevious(n)){const r=g.get(t,u.previous(n));if(N(r,"list")&&r.ordered===e.ordered&&r.spread===e.spread&&r.start===void 0){c.mergeNodes(t,{at:n}),s();return}}},render(t,{element:e,attributes:n,children:s}){return e.ordered?i("ol",S(_({},n),{start:e.start,children:s})):i("ul",S(_({},n),{children:s}))},toggle:{prefix:/^(?:-|\d+\.)$/,indent:ue,toggle:q,onTrigger:t=>t==="-"?{ordered:!1,start:void 0,spread:void 0}:{ordered:!0,start:parseInt(t),spread:void 0}},events:{},toolbarItems:[!0,!1].map(t=>{const e=(n,s)=>s.length>2&&R(n,u.parent(u.parent(s)),"list",r=>r.ordered===t);return{key:`list-${t?"ordered":"unordered"}`,icon:i(B,{icon:t?ke:we}),isActive:e,isDisabled:(n,s)=>!N(g.get(n,s),["paragraph","heading","listItem"]),action:(n,s,r)=>{e(n,s)?q(n,s,!1):q(n,s,{ordered:t,start:void 0,spread:void 0})}}})});function ue(t,e,n){if(n<0)return q(t,e,!1);{const s=u.parent(e),r=g.get(t,s);if(N(r,"listItem")&&u.hasPrevious(s)){const o=g.parent(t,s),l=it(t,s);c.moveNodes(t,{at:s,to:l}),c.wrapNodes(t,{type:"list",children:[],ordered:o.ordered,start:void 0,spread:void 0},{at:l})}}}function q(t,e,n){if(!N(g.get(t,e),["paragraph","heading"]))throw new Error("can only call ListNode.toggle on a paragraph or heading node.");if(n===!1){const s=u.parent(e),r=u.next(u.parent(s));c.splitNodes(t,{at:s}),c.moveNodes(t,{at:r.concat(0),to:r}),c.unwrapNodes(t,{at:r}),c.select(t,{path:r,offset:0})}else{const s=u.parent(e),r=g.get(t,s);N(r,"listItem")?c.setNodes(t,_({type:"list"},n),{at:u.parent(s)}):(c.wrapNodes(t,{type:"listItem",checked:void 0,spread:n.spread,children:[]},{at:e}),c.wrapNodes(t,_({type:"list",children:[]},n),{at:e}))}}var jt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",indentList:ue,toggleList:q,default:At});const $t=L({type:"listItem",isLeaf:!1,isInline:!1,isVoid:!1,wrappingParagraph:!0,contentType:v.list,contentModelType:v.flow,normalize:(t,e,n)=>{const s=e.children.length-1;if(e.children.length>1&&N(e.children[s],"paragraph")){const r=u.next(n);c.moveNodes(t,{at:n.concat(s),to:r}),c.wrapNodes(t,{type:"listItem",checked:e.checked,spread:e.spread,children:[]},{at:r})}e.children.length===1&&!N(e.children[s],["paragraph","heading"])&&c.unwrapNodes(t,{at:n})},render(t,{element:e,attributes:n,children:s}){return i("li",S(_({},n),{children:s}))},toggle:{},events:{onStartDelete:(t,e)=>(q(t,u.parent(e),!1),!0),onStartEnter:(t,e)=>g.string(g.get(t,e))?!1:(q(t,u.parent(e),!1),!0),onTab:(t,e)=>{const n=g.parent(t,u.parent(u.parent(e)));return N(n,"list")?(ue(t,u.parent(e),1),!0):(console.warn(`bad structure, expect a list at ${e}-2`),!1)}},toolbarItems:[]});var Bt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$t});const qt=L({type:"paragraph",isLeaf:!1,isInline:!1,isVoid:!1,wrappingParagraph:!1,contentType:v.flow,contentModelType:v.flow,toggle:{},events:{},render(t,{element:e,attributes:n,children:s}){return i(W,{element:e,children:({active:r})=>i("p",S(_({className:H({active:r})},n),{children:s}))})},toolbarItems:[]});var Ft=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:qt});const Oe=h.exports.forwardRef(function({children:t},e){return i("div",{className:"void-element",contentEditable:!1,ref:e,children:t})});Oe.displayName="VoidElement";var Ht=L({type:"thematicBreak",isLeaf:!1,isInline:!1,isVoid:!0,wrappingParagraph:!1,contentType:v.flow,contentModelType:null,isDisallowTextDecorators:!0,isHiddenHoverToolbar:!0,render(t,{element:e,children:n,attributes:s}){return i(W,{element:e,children:oe(Oe,{children:[i("hr",_({},s)),n]})})},toggle:{prefix:/^---$/,estimatePrefixLength:3,toggle:(t,e,n)=>{n?(c.removeNodes(t,{at:e}),c.insertNodes(t,{type:"paragraph",children:[{text:""}]},{at:e}),c.insertNodes(t,{type:"thematicBreak",children:[]},{at:e}),z.deselect(t),c.select(t,b.start(t,u.next(e)))):c.setNodes(t,{type:"thematicBreak",children:[{text:""}]},{at:e})},onTrigger:(t,e,n)=>{if(!(n.length>1))return!0}},events:{},toolbarItems:[]}),Vt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ht});const Ut={"./blockquote/BlockquoteNode.tsx":St,"./code/CodeNode.tsx":pt,"./heading/HeadingNode.tsx":Ct,"./image/ImageNode.tsx":zt,"./link/LinkNode.tsx":Nt,"./list/ListItemNode.tsx":Bt,"./list/ListNode.tsx":jt,"./paragraph/ParagraphNode.tsx":Ft,"./text/TextNode.tsx":dt,"./thematic-break/ThematicBreakNode.tsx":Vt};function Kt(t){for(const[e,{default:n}]of Object.entries(Ut))typeof(n==null?void 0:n.register)=="function"&&(console.debug("auto detected",e),n.register(t))}$.add(ne,se,re,Q);function Gt(t,e){var r;if(!e)return[];const n=(r=z.toSlateRange(t,e,{exactMatch:!0}))!=null?r:t.selection;if(n){const[o]=b.nodes(t,{at:n,match:l=>{const m=l.type;if(m){const d=t.factory.customElementMap.get(m);if(d&&d.isHiddenHoverToolbar)return!0}return!1}});if(o)return[]}return F.toolbarItems.concat(t.factory.inlineConfigs.flatMap(o=>o.toolbarItems)).map(({key:o,isDisabled:l,isActive:m,action:d,icon:k,tips:a})=>({key:o,disabled:n?l(t,n):!1,active:n?m(t,n):!1,icon:k,action:n?f=>d(t,n,f):()=>{},tips:a}))}function Qt(){const t=te(),e=h.exports.useRef(null),n=h.exports.useRef(),[s,r]=h.exports.useState(!0),o=Ee(),[l,m]=h.exports.useState([]);t.hidePopper=()=>r(!0);const d=h.exports.useMemo(()=>({getBoundingClientRect(){return n.current?n.current.getBoundingClientRect():{width:0,height:0}}}),[t,n]),{styles:k,attributes:a,update:f}=Qe(d,e.current,{placement:"top",modifiers:[{name:"computeStyles",options:{adaptive:!1}},{name:"offset",options:{offset:[0,8]}}]});return t.updatePopper=p=>{if(p){const P=!n.current;n.current=p,P&&setTimeout(()=>{t.updatePopper()},0)}const y=Gt(t,n.current);m(y),y.length>0?(r(!1),f&&f()):r(!0),o()},t.togglePopper=p=>{s?t.updatePopper(p):t.hidePopper()},i("div",S(_({className:"ti-hovering-toolbar",ref:e,style:S(_({},k.popper),{opacity:s?0:1,pointerEvents:s?"none":"initial"})},a.popper),{children:l.map(p=>i(Pe,{action:p.action,active:p.active,disabled:p.disabled,icon:p.icon,tips:p.tips},p.key))}))}const Z=h.exports.forwardRef(({disabled:t=!1,initialMarkdown:e=""},n)=>{const s=h.exports.useMemo(()=>{const p=new Et;return Kt(p),p},[]),r=h.exports.useMemo(()=>{const p=We(Ye(Je()));return s.wrapEditor(p)},[]),o=h.exports.useMemo(()=>s.createDefaultEditableProps(r),[]),[l,m,d]=ot(r);h.exports.useEffect(()=>{n&&(typeof n=="function"?n(l):n.current=l),l.markdown=e},[r]);const[k,a]=h.exports.useState();r.setActionForm=a;const f=h.exports.useMemo(()=>{if(k)return Xe.exports.createPortal(k,document.body)},[k]);return oe(Ze,{editor:r,onChange:d,value:m,children:[i(Qt,{}),i(et,_({as:"article",className:"ti-community-editor markdown-body"},o)),f]})});Z.displayName="TiEditor";Z.propTypes={disabled:Te.bool,initialMarkdown:Te.string};Z.defaultProps={disabled:!1,initialMarkdown:""};const Wt=`### \u5F15\u7528 (blockquote)

\`\`\`markdown
> blockquote
> 
> yeah
\`\`\`

> blockquote
> 
> yeah

- \u6DFB\u52A0\u5F15\u7528
  - \u8F93\u5165 \`>\` \u5E76\u8F93\u5165\u7A7A\u683C
- \u5220\u9664\u5F15\u7528
  - \u5728\u5F15\u7528\u8D77\u59CB\u5904\u70B9\u51FB \`<Backspace>\`
`;var Yt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:Wt});const Jt=`### Codes

### Usage

- \u8F93\u5165 \\\`\\\`\\\` \u52A0\u7A7A\u683C

### Examples

\`\`\`javascript
console.log('hello world')
\`\`\`

\`\`\`sql
SELECT * FROM hello_world;
\`\`\`

`;var Xt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:Jt});const Zt=`### \u6807\u9898

\`\`\`markdown
# h1
## h2
### h3
#### h4
##### h5
###### h6
\`\`\`

> # h1
> ## h2
> ### h3
> #### h4
> ##### h5
> ###### h6

- \u521B\u5EFA\u6807\u9898
  1. \u8F93\u5165 1-6 \u4E2A \`#\` \u5E76\u8F93\u5165\u7A7A\u683C
  2. \u5728\u6807\u9898\u4E2D\u95F4\u6216\u7ED3\u5C3E\u70B9\u51FB \`<Enter>\`
- \u5220\u9664\u6807\u9898
  - \u5728\u6807\u9898\u8D77\u59CB\u5904\u70B9\u51FB \`<Enter>\` \u4EE5\u5C06\u6807\u9898\u8F6C\u6362\u6210\u6BB5\u843D
`;var en=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:Zt});const tn=`### \u94FE\u63A5

\`\`\`
[title](url)
\`\`\`

> [title](#)

- \u521B\u5EFA\u94FE\u63A5
  - \u8F93\u5165\u94FE\u63A5 url \u5E76\u8F93\u5165\u7A7A\u683C\u4F1A\u81EA\u52A8\u8F6C\u6362
`;var nn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:tn});const sn=`### \u5217\u8868

\`\`\`markdown
- \u65E0\u5E8F\u5217\u8868
- ...
  - \u7F29\u8FDB\u5217\u8868

1. \u6709\u5E8F\u5217\u8868
\`\`\`

> - \u65E0\u5E8F\u5217\u8868
> - ...
>   - \u7F29\u8FDB\u5217\u8868
> 
> 1. \u6709\u5E8F\u5217\u8868 1
> 2. \u6709\u5E8F\u5217\u8868 2

\u4F7F\u7528\u4EE5\u4E0B\u65B9\u5F0F\u63A7\u5236 Markdown \u5217\u8868\uFF1A
- \u65B0\u5EFA\u5217\u8868\uFF1A
  1. \u8F93\u5165 \`-\` \u52A0\u7A7A\u683C\u63D2\u5165\u65E0\u5E8F\u5217\u8868
  2. \u8F93\u5165 \`number.\` \u52A0\u7A7A\u683C\u63D2\u5165\u6709\u5E8F\u5217\u8868
- \u5217\u8868\u7F29\u8FDB\uFF1A
  1. \u5728\u5217\u8868\u9879\u4E2D\u8F93\u5165 \`<Tab>\` \u751F\u6210\u4E0B\u7EA7\u5217\u8868 
  2. \u5728\u5217\u8868\u9879\u4E2D\u8F93\u5165 \`-\` \u6216 \`<number>\`\u3002
- \u53D6\u6D88\u5217\u8868
  1. \u5728\u7A7A\u5217\u8868\u9879\u4E2D\u76F4\u63A5\u8F93\u5165 \`<Enter>\`
`;var rn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:sn});const on=`# a-editor

## \u6280\u672F\u6808

- core
  - [slate](https://www.slatejs.org/)
  - [remark](https://remark.js.org/)
  - [remark-slate-transformer](https://github.com/inokawa/remark-slate-transformer)
- code highlight
  - [prism](https://prismjs.com/)

## \u6837\u5F0F\u914D\u7F6E

### \u4EE3\u7801\u9AD8\u4EAE

\u5728 \`src/slate-markdown/elements/code/style.less\` \u6DFB\u52A0\u5BF9\u5E94 token \u6837\u5F0F\u3002

## \u7528\u6CD5
`,an={"./slate-markdown/elements/blockquote/instructions.md":Yt,"./slate-markdown/elements/code/instructions.md":Xt,"./slate-markdown/elements/heading/instructions.md":en,"./slate-markdown/elements/link/instructions.md":nn,"./slate-markdown/elements/list/instructions.md":rn},ln=on+`

`+Object.values(an).map(t=>t.plainText).join(`

`);function cn(){return i("div",{children:i(Z,{initialMarkdown:ln})})}tt.render(i(nt.StrictMode,{children:i(cn,{})}),document.getElementById("root"));
