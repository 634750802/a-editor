var xt=Object.defineProperty,wt=Object.defineProperties;var vt=Object.getOwnPropertyDescriptors;var ae=Object.getOwnPropertySymbols;var Ie=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable;var _e=(t,e,n)=>e in t?xt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,N=(t,e)=>{for(var n in e||(e={}))Ie.call(e,n)&&_e(t,n,e[n]);if(ae)for(var n of ae(e))Be.call(e,n)&&_e(t,n,e[n]);return t},O=(t,e)=>wt(t,vt(e));var xe=(t,e)=>{var n={};for(var r in t)Ie.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&ae)for(var r of ae(t))e.indexOf(r)<0&&Be.call(t,r)&&(n[r]=t[r]);return n};var j=(t,e,n)=>(_e(t,typeof e!="symbol"?e+"":e,n),n);import{E as D,u as le,r as y,a as g,j as c,c as J,T as ie,l as W,f as je,b as Fe,d as L,F as I,e as we,g as ve,h as Te,i as ce,R as K,P as S,N as x,k as F,m as Le,n as Tt,o as m,p as $e,q as U,s as qe,t as St,v as Et,_ as ue,w as pe,x as Se,y as He,z as kt,A as We,B as Ue,C as Ve,D as Ke,G as Qe,I as Mt,H as Ct,J as Pt,K as Nt,L as fe,M as At,O as Rt,Q as Z,S as Ge,U as ee,V as Ye,W as Xe,X as Ee,Y as Ot,Z as Dt,$ as zt,a0 as It,a1 as Bt,a2 as jt,a3 as Ft,a4 as Lt,a5 as $t,a6 as Je,a7 as ke,a8 as qt,a9 as Ht,aa as Wt,ab as Me,ac as Ut,ad as Ce}from"./vendor.c48daabd.js";const Vt=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerpolicy&&(l.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?l.credentials="include":o.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}};Vt();var T;(function(t){t[t.flow=16]="flow",t[t.list=32]="list",t[t.phrasing=48]="phrasing",t[t.staticPhrasing=49]="staticPhrasing",t[t.value=64]="value",t[t.table=80]="table",t[t.tableRow=96]="tableRow"})(T||(T={}));function Q(t,e){return t===e||t<e&&(t^e)<16}function B(t){return O(N({},t),{register(e){e.define(O(N({},t),{isEditable:typeof t.isEditable=="boolean"?t.isEditable:!0}))}})}function R(t,e){return D.isElement(t)?e instanceof Array?e.indexOf(t.type)>=0:t.type===e:!1}function Ze({icon:t,active:e,disabled:n,action:r,tips:o}){const l=le(),s=y.exports.useCallback(i=>{r&&i.button===0&&(i.preventDefault(),i.stopPropagation(),n||g.withoutNormalizing(l,()=>{r(i)}))},[r]),a=c("span",{className:J("a-editor-toolbar-item",{active:e,disabled:n}),onMouseDown:s,children:t});return o?c(ie,{content:c("span",{className:"toolbar-item-tips",children:o}),children:a}):a}W.add(je,Fe);function Kt({extraWidth:t,isEmpty:e,element:n,items:r,setActive:o}){return c(ie,{appendTo:"parent",arrow:!1,content:Qt(r),hideOnClick:!1,interactive:!0,onHide:()=>o(!1),onShow:()=>o(!0),children:L("div",{className:"line-operations",contentEditable:!1,children:[c("span",{className:"icon",children:c(I,{icon:e?Fe:je})}),c("div",{className:"spacer",style:{width:t,height:"100%"}})]})})}const Qt=t=>c("div",{className:"block-toolbar",children:t.map((e,n)=>c("div",{className:"toolbar-group",children:e.map(r=>c(Ze,{action:r.action,active:r.active,disabled:r.disabled,icon:r.icon,tips:r.tips},r.key))},n))});W.add(we,ve,Te,ce);function et(t,e){if(!!e)return typeof e=="function"?e(t):e}function Gt(t,e){const n=e==null?void 0:e.current;return n?t.factory.lineActions.map(r=>t.getActions(n,r).map(({action:{key:o,icon:l,tips:s},state:a})=>({key:o,disabled:a.disabled,active:a.active,icon:et(a,l),tips:et(a,s),action:i=>{t.runAction(o,n,i)}}))):[]}function tt(){const[t,e]=y.exports.useState(0);return()=>{e(n=>n+1)}}const nt=y.exports.createContext({getEditorDOMRect:()=>new DOMRect});function te({element:t,children:e}){const[n,r]=y.exports.useState(null),o=y.exports.useRef(),l=le(),s=Gt(l,o.current),a=tt(),[i,p]=y.exports.useState(0),{getEditorDOMRect:b}=y.exports.useContext(nt),w=y.exports.useCallback(()=>{var M;const d=(M=n==null?void 0:n.getBoundingClientRect())!=null?M:new DOMRect,{x:h=0}=d,{x:_}=b();return p(h-_),d},[b,n]);y.exports.useLayoutEffect(()=>{var d,h;if(n){const _=document.createRange();_.selectNode(n.childNodes.item(0));const M=K.toSlateRange(l,_,{exactMatch:!1});let C=S.common(M.anchor.path,M.focus.path);for(;C.length!==0;){if(g.isBlock(l,x.get(l,C))){o.current=g.pathRef(l,C);break}C=S.parent(C)}}else o.current&&((h=(d=o.current).unref)==null||h.call(d)),o.current=void 0},[n]);const[v,E]=y.exports.useState(!1),u=(()=>{const d=t.children[0];return t.children.length===1&&F.isText(d)&&d.text===""})();return Le()?typeof e=="function"?e({active:v,pathRef:o.current}):e:c(Tt,{appendTo:document.body,arrow:!1,getReferenceClientRect:w,hideOnClick:!1,interactive:!0,interactiveBorder:12,offset:[0,8],onTrigger:a,placement:"left",popperOptions:{modifiers:[{name:"flip",options:{allowedAutoPlacements:["left"]}}]},ref:r,render:()=>c(Kt,{element:t,extraWidth:i,isEmpty:u,items:s,setActive:E}),children:typeof e=="function"?e({active:v,pathRef:o.current}):e})}const Yt=["markdown","javascript","typescript","jsx","tsx","sql","bash","go","rust","json","log"],ne=Symbol("prism_token"),rt=({attributes:t,element:e,children:n},r)=>c("pre",O(N({},t),{className:J({active:r},e.lang?`language-${e.lang}`:void 0),children:c("code",{className:"prism-code",children:n})})),ot=B({type:"code",isInline:!1,isLeaf:!1,wrappingParagraph:!1,contentType:T.flow,contentModelType:T.value,render:(t,e)=>{const{element:n}=e;return Le()?rt(e,!1):c(te,{element:n,children:({active:o,pathRef:l})=>c(ie,{appendTo:document.body,content:c("select",{className:"lang-selector",contentEditable:!1,onChange:s=>{(l==null?void 0:l.current)&&m.setNodes(t,{lang:s.currentTarget.value},{at:l.current})},tabIndex:void 0,value:n.lang||void 0,children:Yt.map(s=>c("option",{children:s},s))}),interactive:!0,placement:"top-start",children:rt(e,o)})})},toggle:{prefix:/^`{3}(?: (\w+))?$/,toggle:(t,e,n)=>t.runAction("toggle-codeblock",e),onTrigger:(t,e,n)=>{if(n.length>1)return;const r=/^`{3}(?: (\w+))?$/.exec(t);return r?{lang:r[1]||"markdown",meta:void 0}:{lang:"markdown",meta:void 0}}},events:{},decorate:(t,[e,n],r)=>{if(F.isText(e)&&r.lang){const o=$e.languages[r.lang];if(!o)return[];const l=[],s=$e.tokenize(e.text,o);let a=0;for(const i of s){const p=st(i),b=a+p;typeof i!="string"&&l.push({[ne]:i.type,anchor:{path:n,offset:a},focus:{path:n,offset:b}}),a=b}return l}return[]}}),st=t=>typeof t=="string"?t.length:typeof t.content=="string"?t.content.length:t.content.reduce((e,n)=>e+st(n),0);var Xt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",SYMBOL_PRISM_TOKEN:ne,default:ot}),P;(function(t){t.strong="strong",t.emphasis="emphasis",t.delete="delete",t.inlineCode="inlineCode"})(P||(P={}));const re=B({isLeaf:!0,contentType:T.staticPhrasing,contentModelType:T.value,canContainsContentModelTypeOf:t=>t.inlineCode?T.value:(t.strong||t.emphasis||t.delete,T.phrasing),normalize:(t,e,n,r)=>{if(e.text===""){const o=[P.strong,P.emphasis,P.delete,P.inlineCode].filter(l=>!!e[l]);o.length>0&&m.unsetNodes(t,o,{at:n})}},render(t,{leaf:e,children:n,attributes:r}){let o=n;return e[ne]&&(o=c("span",{className:J(e[ne]?`token ${e[ne]}`:void 0,r.className),children:o})),e.delete&&(o=c("del",{children:o})),e.emphasis&&(o=c("em",{children:o})),e.strong&&(o=c("strong",{children:o})),e.inlineCode&&(o=c("code",{children:o})),c("span",O(N({},r),{children:o}))},toggleDecorator:(t,e,n)=>{const r=lt(t),o=l=>r(x.get(t,l.anchor.path),l.anchor.path);Pe(t,e,n)?U.isCollapsed(e)?o(e)&&g.addMark(t,n,!1):m.setNodes(t,{[n]:!1},{match:r,split:!0}):U.isCollapsed(e)?o(e)&&(g.addMark(t,n,!0),n===P.inlineCode?(g.addMark(t,P.inlineCode,!1),g.addMark(t,P.emphasis,!1),g.addMark(t,P.delete,!1)):g.addMark(t,P.inlineCode,!1)):(m.setNodes(t,{[n]:!0},{match:r,split:!0}),n===P.inlineCode?m.unsetNodes(t,[P.delete,P.emphasis,P.strong],{match:r,split:!0}):m.unsetNodes(t,P.inlineCode,{match:r,split:!0}))}});function Pe(t,e,n){if(!K.hasRange(t,e))return!1;const r=g.marks(t);return r?!!r[n]:!1}const at=(t,e)=>{const[n]=g.nodes(t,{at:e,match:r=>!t.isEditable(r)});return!n},de=(t,e)=>{const n=Ne(t),[r]=g.nodes(t,{at:e,match:n});return!!r},lt=t=>(e,n)=>{const r=Ne(t);if(!F.isText(e))return!1;const o=x.parent(t,n);return D.isElement(o)?r(o,S.parent(n)):!1},Ne=t=>(e,n)=>{if(D.isElement(e)){const r=t.factory.customElementMap.get(e.type);return r&&r.contentModelType?Q(r.contentModelType,T.phrasing):!1}else return!1};function Ae(t,e,n,r){if(U.isRange(e)){if(!K.hasRange(t,e))return!1}else if(S.isPath(e)){if(!g.hasPath(t,e))return!1}else if(!K.hasRange(t,{anchor:e,focus:e}))return!1;if(S.isPath(e)){const l=x.get(t,e);return R(l,n)&&(r?r(l):!0)}const[o]=g.nodes(t,{at:U.isRange(e)?g.unhangRange(t,e):e,match:l=>!g.isEditor(l)&&R(l,n)&&(r?r(l):!0)});return!!o}var Jt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",get TextNodeDecorator(){return P},isDecoratorActive:Pe,isRangeEditable:at,isRangeCustomTextPropsEnabled:de,isCustomTextPropsEnabled:lt,isPhrasing:Ne,isElementActive:Ae,default:re});W.add(qe);const Re=B({type:"link",isInline:!0,isLeaf:!1,contentType:T.phrasing,contentModelType:T.staticPhrasing,normalize:(t,e,n,r)=>{x.string(e).trim().length===0&&(m.removeNodes(t,{at:n}),r())},render:(t,{element:e,attributes:n,children:r})=>c("a",O(N({href:e.url,onClick:()=>window.open(e.url,"_blank"),style:{display:"inline-flex",cursor:"pointer"}},n),{children:r})),insert:(t,e,o)=>{var l=o,{text:n}=l,r=xe(l,["text"]);m.insertNodes(t,[N({type:"link",children:[{text:n}]},r),{text:" "}],{at:e,select:!0}),St.isPoint(e)&&m.move(t,{distance:1})},match:{regexp:Et()}});var Zt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Re});class en{constructor(e,n){j(this,"state",[]);this.factory=e,this.editor=n}process(e){const[n,r]=e;if(g.isEditor(n))return this.state=[],[];if(D.isElement(n)){const o=this.factory.customElementMap.get(n.type);if(o&&!o.isInline){const l=o;if(l.decorate)return this.state.push({element:n,path:r,config:l}),[]}}if(this.state.length>0){for(const o of this.state.reverse())if(S.isAncestor(o.path,r))return o.config.decorate(this.editor,e,o.element)}return[]}}class tn{constructor(){j(this,"blockConfigs",[]);j(this,"inlineConfigs",[]);j(this,"textConfig");j(this,"inlineSet",new Set);j(this,"voidSet",new Set);j(this,"nonEditableSet",new Set);j(this,"customElementMap",new Map);j(this,"contentTypeMap",new Map);j(this,"contentModelTypeMap",new Map);j(this,"editorWrapHandlers",[]);j(this,"editorMountedHandlers",[])}use(e){return console.debug("factory.use",e.name),e(this),this}define(e){return e.isLeaf?this.textConfig=e:(e.isInline?(this.inlineSet.add(e.type),this.inlineConfigs.push(e)):this.blockConfigs.push(e),this.customElementMap.set(e.type,e),this.contentModelTypeMap.set(e.type,e.contentModelType),this.contentTypeMap.set(e.type,e.contentType),e.contentModelType===null&&this.voidSet.add(e.type),e.isEditable&&this.nonEditableSet.add(e.type)),this}onWrapEditor(e){this.editorWrapHandlers.push(e)}onEditorMounted(e){this.editorMountedHandlers.push(e)}triggerEditorMounted(e){this.editorMountedHandlers.forEach(n=>n(e))}wrapEditor(e){const{isVoid:n,isInline:r,normalizeNode:o,insertBreak:l}=e;e.factory=this;function s(a){g.isEditor(a)?(console.group("#root"),a.children.forEach(s),console.groupEnd()):D.isElement(a)?(console.group(a.type),a.children.forEach(s),console.groupEnd()):console.debug("text")}return window.debugPrintTree=()=>s(e),window.debugEditor=e,e.isContent=(a,i)=>D.isElement(a)?this.contentTypeMap.get(a.type)===i:F.isText(a)?this.textConfig.contentType===i:!1,e.canContainsContent=(a,i)=>{if(g.isEditor(a))return i===T.flow;if(D.isElement(a)){const p=this.contentModelTypeMap.get(a.type);return p?Q(i,p):!1}else return F.isText(a)?Q(i,re.canContainsContentModelTypeOf(a)):!1},e.getContentType=a=>D.isElement(a)?this.contentTypeMap.get(a.type)||null:F.isText(a)&&this.textConfig.contentType||null,e.getContentModelType=a=>g.isEditor(a)?T.flow:D.isElement(a)?this.contentModelTypeMap.get(a.type)||null:F.isText(a)?this.textConfig.contentModelType:null,e.getContentTypePair=a=>D.isElement(a)?[this.contentTypeMap.get(a.type)||null,this.contentModelTypeMap.get(a.type)||null]:F.isText(a)?[this.textConfig.contentType||null,this.textConfig.contentModelType||null]:[null,null],e.toggle=(a,i,p)=>{const b=e.canToggle(a,i,!0);if(!b)return!1;const[[w,v],E]=b,u=typeof p=="object"?p:{};switch(E){case G.replace:return m.unsetNodes(e,Object.keys(x.extractProps(w)),{at:v}),m.setNodes(e,O(N({type:i.type},u),{children:[]}),{at:v}),!0;case G.wrap:return m.wrapNodes(e,N({type:i.type},u),{at:v}),!0;case G.custom:throw new Error("TODO: ToggleStrategy.custom");default:throw new Error("unknown ToggleStrategy: "+E)}},e.canToggle=(a,i,p)=>{const[b]=a,[w,v]=e.getContentTypePair(b);if(i.contentType!==w)return!1;if(i.contentModelType===v)return[a,G.replace];if(i.contentModelType===w)return[a,G.wrap];if(!p)return!1;const E=x.ancestors(e,a[1],{reverse:!0});for(const u of E){const f=e.canToggle(u,i,!1);if(f)return f}return!1},e.unwrap=(a,i)=>{if(!e.canUnwrap(a,i))return!1;const[p,b]=a,w=[[[]]];let v=[[p,[]]],E=0;for(;E<i.length-1;){const u=[];for(const[f,d]of v)for(const[h,_]of f.children.entries())u.push([_,d.concat(h)]);E+=1,v=u,w.push(u.map(([,f])=>f))}for(const u of w.reverse())for(const f of u.reverse())m.unwrapNodes(e,{at:b.concat(f),split:!0});return!0},e.canUnwrap=([a,i],p)=>{if(p.length===0)return!0;const b=e.getContentModelType(x.parent(e,i)),w=p[p.length-1].contentModelType;if(!b||!w||!Q(w,b))return!1;let v=[[a,[]]],E=0;for(;E<p.length;){const u=[];for(const[f,d]of v){if(!R(f,p[E].type))return!1;for(const[h,_]of f.children.entries())u.push([_,d.concat(h)])}E+=1,v=u}return!0},e.wrap=(a,i,p)=>{if(!e.canWrap(a,i,p))return!1;const[,b]=a;let w=i.length-1;for(;w>=0;){const v=i[w],E=p[w];m.wrapNodes(e,Object.assign({type:v.type,children:[]},E),{at:b}),w--}return!0},e.canWrap=(a,i,p)=>{console.assert(i.length===p.length,"editor.canWrap: configs.length should be equals to params.length");const[b,w]=a,v=x.parent(e,w);let E=0,u=e.getContentModelType(v);for(;E<i.length;){const d=i[E];if(u===null||!Q(d.contentType,u))return!1;u=d.contentModelType,E+=1}if(u===null)return!1;const f=e.getContentType(b);return f?Q(f,u):!1},e.nearest=(a,i)=>{const[p,b]=a;if(R(p,i.type))return a;for(const w of x.ancestors(e,b,{reverse:!0}))if(R(w[0],i.type))return w},e.isVoid=a=>this.voidSet.has(a.type)||n(a),e.isInline=a=>this.inlineSet.has(a.type)||r(a),e.isEditable=a=>D.isElement(a)?this.nonEditableSet.has(a.type):!0,e.normalizeNode=a=>{let i=!0;const p=()=>{i=!1};g.withoutNormalizing(e,()=>{var v;const[b,w]=a;if(D.isElement(b)){const E=(v=this.customElementMap.get(b.type))==null?void 0:v.normalize;E&&E(e,b,w,p)}F.isText(b)&&this.textConfig.normalize&&this.textConfig.normalize(e,b,w,p),g.isEditor(b)&&(b.children.length===0?m.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:[0]}):R(b.children[b.children.length-1],"paragraph")||m.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:[b.children.length]}))}),i&&o(a)},e.insertBreak=()=>{if(e.selection){const a=x.parent(e,e.selection.anchor.path);if(e.getContentModelType(a)!==T.phrasing){m.insertText(e,`
`);return}}l()},this.editorWrapHandlers.forEach(a=>a(e)),e}createDefaultEditableProps(e){const n=u=>{var d;const{selection:f}=e;if(f&&U.isCollapsed(f)){const h=f.anchor,_=x.get(e,h.path),M=x.parent(e,h.path);if(F.isText(_)&&D.isElement(M)&&M.type==="paragraph"&&u.data===" "&&!S.hasPrevious(h.path)){const C=_.text.slice(0,h.offset);for(const{toggle:A}of this.blockConfigs)if(!(typeof A.estimatePrefixLength=="number"&&C.length>A.estimatePrefixLength)&&((d=A.prefix)==null?void 0:d.test(C))){const z=A.onTrigger(C,e,S.parent(h.path));if(typeof z!="undefined"){m.delete(e,{at:{path:h.path,offset:0},distance:h.offset}),A.toggle(e,S.parent(h.path),z),u.preventDefault();return}}}if(F.isText(_)&&!R(M,"link")&&u.data===" "){for(const C of this.inlineConfigs)if(C.match){const A=C.match.regexp.exec(_.text.slice(0,h.offset));if(A){const z=A[0],H=A.index,Y=A.index+z.length,se={anchor:{path:h.path,offset:H},focus:{path:h.path,offset:Y}};Re.insert(e,se,{url:z,title:"",text:z}),u.preventDefault();return}}}if(g.isInline(e,M)){const C=S.parent(h.path).concat(M.children.length);m.insertNodes(e,{text:u.data||""},{at:C}),m.move(e,{distance:1}),u.preventDefault();return}}},r=(u,f)=>d=>{const{selection:h}=e;if(h&&U.isCollapsed(h)){const _=h.anchor,M=S.parent(_.path),C=x.get(e,M);if(D.isElement(C)){const A=this.customElementMap.get(C.type);if(!A||A.isInline)return;const z=f(A.events);if(z&&z(e,_.path)){d.preventDefault();return}if(nn(e,_)){if(A){const H=u(A.events);if(H&&H(e,_.path)){d.preventDefault();return}}if(C.type==="paragraph"){const H=x.parent(e,M);if(!S.hasPrevious(M)&&D.isElement(H)){const Y=this.customElementMap.get(H.type);if(Y==null?void 0:Y.wrappingParagraph){const se=u(Y.events);if(se&&se(e,_.path)){d.preventDefault();return}}}}}}}},o=r(u=>u.onStartDelete,u=>u.onDeleteText),l=r(u=>u.onStartEnter,u=>u.onInsertParagraph),a=(u=>f=>{const{selection:d}=e;if(d&&U.isCollapsed(d)){const h=d.anchor,_=S.parent(h.path),M=x.parent(e,h.path);if(D.isElement(M)){const C=this.customElementMap.get(M.type);if(C){const A=u(C.events);if(A&&A(e,h.path)){f.preventDefault();return}}if(M.type==="paragraph"){const A=x.parent(e,_);if(D.isElement(A)){const z=this.customElementMap.get(A.type);if(z==null?void 0:z.wrappingParagraph){const H=u(z.events);if(H&&H(e,h.path)){f.preventDefault();return}}}}}}})(u=>u.onTab),i=new en(this,e),p=u=>i.process(u),b=(u,f)=>{const d=f?g.rangeRef(e,f):null;e.uploadFile&&Promise.all(u.map(e.uploadFile)).then(h=>h.map((_,M)=>({type:"image",url:_,title:void 0,alt:u[M].name,children:[{text:""}]}))).then(h=>{var _;m.insertNodes(e,h,{at:(_=d==null?void 0:d.current)!=null?_:g.last(e,[])[1]})}).catch(console.error)},w=(u,f)=>{const d=[...u.files].filter(h=>/image\/*/.test(h.type));d.length>0&&b(d,f)};return{renderElement:u=>{const f=this.customElementMap.get(u.element.type);return f?f.render(e,u):(console.warn(`${u.element.type} not impl`),y.exports.createElement("div",u.attributes,u.children))},renderLeaf:u=>this.textConfig?this.textConfig.render(e,u):y.exports.createElement("span",u.attributes,u.children),decorate:p,onDOMBeforeInput:u=>{it(e,()=>{switch(console.log(u.inputType),u.inputType){case"insertText":n(u);break;case"deleteContentBackward":o(u);break;case"insertParagraph":l(u);break}})},onKeyDown:u=>{it(e,()=>{if(ue("tab",u)){a(u);return}if(ue(["ctrl+enter"],u)){m.insertText(e,`
`);return}if(e.selection){if(ue("meta+b",u)){re.toggleDecorator(e,e.selection,P.strong),u.preventDefault();return}if(ue("meta+i",u)){re.toggleDecorator(e,e.selection,P.emphasis),u.preventDefault();return}}})},onSelect:u=>{const f=window.getSelection();f&&(f.isCollapsed?e.hideSelectionToolbar():f.rangeCount>0&&e.updateSelectionToolbar(f.getRangeAt(0)))},onBlur:u=>{e.hideSelectionToolbar()},onClick:()=>{},onPaste:u=>{const f=u.clipboardData;!f||w(f,e.selection)},onDrop:u=>{w(u.dataTransfer,K.findEventRange(e,u))}}}createDefaultChildren(e){return[]}}function nn(t,e){return e.offset===0&&!S.hasPrevious(e.path)&&F.isText(x.get(t,e.path))}function it(t,e){let n=!0;g.withoutNormalizing(t,()=>{e(()=>{n=!1})}),n||g.normalize(t)}W.add(pe);const $=B({type:"blockquote",isInline:!1,isLeaf:!1,wrappingParagraph:!0,contentType:T.flow,contentModelType:T.flow,render:(t,{children:e,attributes:n})=>c("blockquote",O(N({},n),{children:e})),toggle:{prefix:/^>$/,toggle:(t,e,n)=>n?t.runAction("indent-blockquote",e):!1,onTrigger(){return!0}},events:{onStartDelete:(t,e)=>{const n=x.parent(t,S.parent(e));return R(n,"blockquote")?t.runAction("outdent-blockquote",S.parent(e)):!1}}});var rn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$});const on=t=>{let e=!1,n=!1;const r=()=>{e=!0,t.preventDefault()},o=()=>{n=!0,t.stopPropagation()};return{nativeEvent:t,currentTarget:t.currentTarget,target:t.target,bubbles:t.bubbles,cancelable:t.cancelable,defaultPrevented:t.defaultPrevented,eventPhase:t.eventPhase,isTrusted:t.isTrusted,preventDefault:r,isDefaultPrevented:()=>e,stopPropagation:o,isPropagationStopped:()=>n,persist:()=>{},timeStamp:t.timeStamp,type:t.type}};var k;(function(t){t.selection="selection",t.phrasing="phrasing",t.toplevel="toplevel"})(k||(k={}));function sn({key:t,type:e,tips:n,defaultParams:r={},action:o,computeState:l,hotkeys:s,icon:a}){const i=N({active:!1,disabled:!1},r),p={key:t,type:e,hotkeys:s!=null?s:[],tips:n!=null?n:null,icon:a!=null?a:null,computeState:l!=null?l:()=>i,action:(b,w,v)=>{const E=p.computeState(b,w);return console.log("run action",t,w,E),E.disabled?!1:o(b,w,E,v)}};return p}function ge(t,e,n){const r=n!=null?n:t.selection;if(!!r)switch(e){case k.phrasing:{const o=g.path(t,r),l=x.get(t,o);if(t.getContentModelType(l)===T.phrasing||!F.isText(l)&&t.getContentType(l)===T.flow)return o;for(const[a,i]of x.ancestors(t,o))if(t.getContentModelType(a)===T.phrasing)return i;break}case k.selection:return g.range(t,r);case k.toplevel:{const o=g.path(t,r);if(o.length>=1)return[o[0]];break}}}function an(t){t.actions=[],t.actionMap=new Map,t.actionTypes={[k.selection]:[],[k.phrasing]:[],[k.toplevel]:[]},t.defineAction=e=>{const n=sn(e);t.actionMap.set(n.key,n),t.actionTypes[n.type].push(n),t.actions.push(n)},t.onWrapEditor(e=>{e.runAction=(n,r,o)=>{const l=t.actionMap.get(n);if(!l||(r=ge(e,l.type,r),!r))return!1;const s=r;let a;return g.withoutNormalizing(e,()=>{a=l.action(e,s,o!=null?o:on(new Event("fake")))}),a},e.getActions=(n,r)=>{let o=t.actions;r&&(o=r.map(s=>t.actionMap.get(s)).filter(s=>!!s));const l={[k.toplevel]:ge(e,k.toplevel,n),[k.selection]:ge(e,k.selection,n),[k.phrasing]:ge(e,k.phrasing,n)};return o.map(s=>{const a=l[s.type];return{state:a?s.computeState(e,a):{active:!1,disabled:!0},action:s}})}}),t.lineActions||(t.lineActions=[["toggle-heading-1","toggle-heading-2","toggle-heading-3","toggle-heading-4","toggle-heading-5","toggle-heading-6"],["toggle-ordered-list","toggle-unordered-list","indent-list","outdent-list"],["toggle-blockquote","toggle-codeblock","toggle-table"]]),t.selectionActions||(t.selectionActions=[P.strong,P.emphasis,P.delete,P.inlineCode,"toggle-link","table-insert-row-right","table-insert-row-left","table-insert-row-above","table-insert-row-below"])}function ln(t){t.defineAction({key:"toggle-blockquote",icon:c(I,{icon:pe}),type:k.phrasing,computeState:(e,n)=>{const r=[x.get(e,n),n],o=e.nearest(r,$),l=!!o;let s;return o?s=!e.canUnwrap(o,[$]):s=!e.canToggle(r,$,!1),{active:l,disabled:s,blockquoteEntry:o}},action:(e,n,r)=>{if(r.active){if(r.blockquoteEntry)return e.unwrap(r.blockquoteEntry,[$])}else return e.toggle([x.get(e,n),n],$,void 0);return!1}}),t.defineAction({key:"indent-blockquote",icon:c(I,{icon:pe}),type:k.phrasing,computeState:(e,n)=>({active:!1,disabled:!e.canToggle([x.get(e,n),n],$,!1)}),action:(e,n)=>e.toggle([x.get(e,n),n],$,void 0)}),t.defineAction({key:"outdent-blockquote",icon:c(I,{icon:pe}),type:k.phrasing,computeState:(e,n)=>{const r=[x.get(e,n),n],o=e.nearest(r,$),l=!!o,s=!o||!e.canUnwrap(o,[$]);return{active:l,disabled:s,blockquoteEntry:o}},action:(e,n,r)=>r.blockquoteEntry?e.unwrap(r.blockquoteEntry,[$]):!1})}var cn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:ln});function un(t){t.defineAction({key:"toggle-codeblock",type:k.phrasing,icon:c(I,{icon:ce}),computeState:(e,n)=>{const r=x.get(e,n),o=R(r,"code");let l;if(o)l=!1;else{const s=x.parent(e,n),a=e.getContentModelType(s);a?l=!Q(ot.contentType,a):l=!0}return{active:o,disabled:l}},action:(e,n,r)=>{const o=x.get(e,n);if(r.active)m.unsetNodes(e,Object.keys(x.extractProps(o)),{at:n}),m.setNodes(e,{type:"paragraph"},{at:n});else{const l=x.string(o);m.removeNodes(e,{at:n}),m.insertNodes(e,{type:"code",lang:"markdown",meta:void 0,children:[{text:l}]},{at:n,select:!0})}return!0}})}var pn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:un});const he=B({type:"heading",isInline:!1,isLeaf:!1,wrappingParagraph:!1,contentType:T.flow,contentModelType:T.phrasing,render:(t,{element:e,children:n,attributes:r})=>c(te,{element:e,children:({active:o})=>y.exports.createElement(`h${e.depth}`,Object.assign(r,{className:J({active:o})}),n)}),toggle:{prefix:/^#{1,6}$/,estimatePrefixLength:6,toggle:(t,e,n)=>{n?t.runAction(`toggle-heading-${n.depth}`,e):t.runAction("toggle-paragraph",e)},onTrigger:t=>({depth:t.length})},events:{onInsertParagraph:t=>{if(!t.selection)return!1;const e=g.point(t,t.selection),n=S.parent(g.path(t,t.selection));return g.isStart(t,e,n)?t.runAction("toggle-paragraph",n):g.isEnd(t,e,n)?t.runAction("insert-paragraph",S.next(n)):(m.splitNodes(t,{at:t.selection}),t.runAction("toggle-paragraph",S.next(n)))}}});var fn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:he});W.add(Se);const X=B({type:"paragraph",isLeaf:!1,isInline:!1,wrappingParagraph:!1,contentType:T.flow,contentModelType:T.phrasing,toggle:{},events:{},render(t,{element:e,attributes:n,children:r}){return c(te,{element:e,children:({active:o})=>c("p",O(N({className:J({active:o})},n),{children:r}))})}});var dn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:X});function gn(t){[1,2,3,4,5,6].forEach(e=>{const n=`H${e}`;t.defineAction({key:`toggle-heading-${e}`,type:k.phrasing,defaultParams:{depth:e},icon:c("span",{children:n}),computeState:(r,o)=>{const l=[x.get(r,o),o],s=r.nearest(l,he),a=!!s&&s[0].depth===e;let i;return s?i=!r.canToggle(s,X,!1):i=!r.canToggle(l,he,!0),{active:a,disabled:i,depth:e}},action:(r,o,l)=>{const s=[x.get(r,o),o];return l.active?r.toggle(s,X,void 0):r.toggle(s,he,{depth:e})}})})}var hn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:gn});function ct(t,e){e&&(typeof e=="function"?e(t):e.current=t)}function mn(t,e){return n=>{ct(n,t),ct(n,e)}}const Oe=y.exports.forwardRef(function(o,r){var{children:t,attributes:l}=o,s=l,{ref:e}=s,n=xe(s,["ref"]);return c("span",O(N({className:"void-element",contentEditable:!1,ref:mn(r,e)},n),{children:t}))});Oe.displayName="VoidElement";W.add(He);const ut=B({type:"image",isInline:!0,isLeaf:!1,contentType:T.staticPhrasing,contentModelType:null,render:(t,{element:e,attributes:n,children:r})=>L(Oe,{attributes:n,children:[c("img",{alt:e.alt,src:e.url,title:e.title}),r]}),insert:(t,e,n)=>{m.insertNodes(t,[{text:" "},N({type:"image",children:[]},n),{text:" "}],{at:e})}});var bn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ut});function yn({schema:t,onSubmit:e,defaultValues:n}){return c("div",{contentEditable:!1,children:c(kt,{className:"action-form",formData:n,onSubmit:r=>e(r.formData),schema:t})})}function _n(t,e){return y.exports.useCallback(()=>t.selection?K.toDOMRange(t,t.selection).getBoundingClientRect():e.getBoundingClientRect(),[t,e])}function xn(t,e){return y.exports.useCallback(()=>{t("user canceled"),e.current&&e.current.hide()},[t])}function wn(){const t=y.exports.useRef(),e=y.exports.useCallback(n=>{t.current=n},[t]);return[t,e]}function vn(t,e,n,r){const o=y.exports.useCallback(l=>{var s;e(l),(s=r.current)==null||s.hide()},[e,r]);return y.exports.useMemo(()=>c(yn,{defaultValues:n,onSubmit:o,schema:t}),[t,o])}function Tn({editor:t,el:e,reject:n,resolve:r,schema:o,defaultValues:l}){const[s,a]=wn(),i=_n(t,e),p=xn(n,s),b=vn(o,r,l,s);return c(ie,{content:b,getReferenceClientRect:i,interactive:!0,onClickOutside:p,onMount:a,placement:"right-start",visible:!0,children:c("span",{})})}function De(t,e,n,r){return new Promise((o,l)=>{t.setActionForm(c(Tn,{defaultValues:r,editor:t,el:e,reject:l,resolve:o,schema:n}))}).catch(o=>{if(o==="user canceled")return Promise.resolve(void 0);throw o})}const Sn="\u6DFB\u52A0\u56FE\u7247",En="object",kn={src:{title:"\u94FE\u63A5",type:"string",format:"url"},alt:{title:"\u66FF\u4EE3\u6587\u672C\uFF08alt\uFF09",type:"string"}},Mn=["src","alt"];var Cn={title:Sn,type:En,properties:kn,required:Mn};function Pn(t){t.defineAction({key:"toggle-image",type:k.selection,icon:c(I,{icon:He}),computeState:(e,n)=>{const r=Ae(e,n,"image"),o=!S.equals(S.parent(n.focus.path),S.parent(n.anchor.path))||!de(e,n);return{active:r,disabled:o}},action:(e,n,r,o)=>{if(r.active)return m.unwrapNodes(e,{at:g.unhangRange(e,n),match:l=>!g.isEditor(l)&&D.isElement(l)&&l.type==="image"}),!0;{const l=g.rangeRef(e,n);return De(e,o.target,Cn,{alt:g.string(e,n),src:""}).then(s=>{if(!!l.current&&s){const{src:a,alt:i}=s;g.withoutNormalizing(e,()=>{ut.insert(e,n,{url:a,title:"",alt:i})})}}).finally(()=>{l.unref()}),!1}}})}var Nn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:Pn});const An="\u6DFB\u52A0\u8D85\u94FE\u63A5",Rn="object",On={src:{title:"\u94FE\u63A5",type:"string",format:"url"},text:{title:"\u663E\u793A\u6587\u672C",type:"string"}},Dn=["src","text"];var zn={title:An,type:Rn,properties:On,required:Dn};function In(t){t.defineAction({key:"toggle-link",type:k.selection,icon:c(I,{icon:qe}),computeState:(e,n)=>{const r=Ae(e,n,"link"),o=!S.equals(S.parent(n.focus.path),S.parent(n.anchor.path))||!de(e,n);return{active:r,disabled:o}},action:(e,n,r,o)=>{if(r.active)return m.unwrapNodes(e,{at:g.unhangRange(e,n),match:l=>!g.isEditor(l)&&D.isElement(l)&&l.type==="link"}),!0;{const l=g.rangeRef(e,n);return De(e,o.target,zn,{text:g.string(e,n),src:""}).then(s=>{if(!!l.current&&s){const{src:a,text:i}=s;g.withoutNormalizing(e,()=>{Re.insert(e,n,{url:a,title:"",text:i})})}}).finally(()=>{l.unref()}),!1}}})}var Bn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:In});W.add(We,Ue);const V=B({type:"listItem",isLeaf:!1,isInline:!1,wrappingParagraph:!0,contentType:T.list,contentModelType:T.flow,normalize:(t,e,n,r)=>{if(e.children.length>0)if(R(e.children[0],"list")){m.moveNodes(t,{at:n.concat(0),to:S.parent(n)}),r();return}else{const s=e.children.length-1;if(e.children.length>1&&R(e.children[s],"paragraph")){const a=S.next(n);m.moveNodes(t,{at:n.concat(s),to:a}),m.wrapNodes(t,{type:"listItem",checked:e.checked,spread:e.spread,children:[]},{at:a}),r();return}}else{m.removeNodes(t,{at:n}),r();return}const o=x.parent(t,n);t.getContentModelType(o)!==T.list&&(m.wrapNodes(t,{type:"list",ordered:!1,start:void 0,spread:void 0,children:[]},{at:n}),r())},render(t,{element:e,attributes:n,children:r}){return c("li",O(N({},n),{children:r}))},toggle:{},events:{onStartDelete:(t,e)=>t.runAction("outdent-list",S.parent(e)),onStartEnter:(t,e)=>x.string(x.get(t,e))?!1:t.runAction("outdent-list",S.parent(e)),onTab:(t,e)=>t.runAction("indent-list",S.parent(e))}});var jn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:V});W.add(Ve,Ke);const q=B({type:"list",isLeaf:!1,isInline:!1,wrappingParagraph:!0,contentType:T.flow,contentModelType:T.list,normalize:(t,e,n,r)=>{if(e.children.length===0){m.removeNodes(t,{at:n}),r();return}if(S.hasPrevious(n)){const o=x.get(t,S.previous(n));if(R(o,"list")&&Boolean(o.ordered)===Boolean(e.ordered)&&o.start===void 0&&e.start===void 0){m.mergeNodes(t,{at:n}),r();return}}},render(t,{element:e,attributes:n,children:r}){return e.ordered?c("ol",O(N({},n),{start:e.start,children:r})):c("ul",O(N({},n),{children:r}))},toggle:{prefix:/^(?:-|\d+\.)$/,toggle:(t,e,n)=>{if(n===!1)throw new Error("should never reach");{let r;return t.runActionParams=n,t.nearest([x.get(t,e),e],q)?r=t.runAction("indent-list",e):r=t.runAction(`toggle-${n.ordered?"ordered":"unordered"}-list`,e),t.runActionParams=void 0,r}},onTrigger:t=>{if(t==="-")return{ordered:!1,start:void 0,spread:void 0};{const e=parseInt(t);return{ordered:!0,start:e===1?void 0:e,spread:void 0}}}},events:{}});var Fn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:q});const pt=t=>{let e,n;if(t.runActionParams&&typeof t.runActionParams=="object"){const{ordered:r,start:o}=t.runActionParams;typeof r=="boolean"&&(e=r),typeof o=="number"&&(n=o)}return{ordered:e,start:n}};function Ln(t){t.defineAction({key:"indent-list",type:k.phrasing,icon:c(I,{icon:We}),computeState:(e,n)=>{const r=[x.get(e,n),n],o=e.nearest(r,V),l=e.nearest(o!=null?o:r,q),s=!1,a=!l||!o||!S.hasPrevious(o[1])||l[0].children.length<=1;return N({active:s,disabled:a,listEntry:l,listItemEntry:o},pt(e))},action:(e,n,r)=>{var s;const{listEntry:o,listItemEntry:l}=r;return!l||!o?!1:e.wrap(l,[V,q],[{spread:void 0,checked:void 0},{ordered:(s=r.ordered)!=null?s:o[0].ordered,spread:void 0,start:r.start}])?(m.mergeNodes(e,{at:l[1]}),!0):!1}}),t.defineAction({key:"outdent-list",type:k.phrasing,icon:c(I,{icon:Ue}),computeState:(e,n)=>{const r=[x.get(e,n),n],o=e.nearest(r,V),l=e.nearest(o!=null?o:r,q);return{active:!1,disabled:!l||!o,listEntry:l,listItemEntry:o}},action:(e,n,r)=>{const{listEntry:o,listItemEntry:l}=r;if(!l||!o)return!1;const s=g.pathRef(e,l[1]),a=S.next(l[1]);if(g.hasPath(e,a)&&m.splitNodes(e,{at:a}),m.splitNodes(e,{at:l[1]}),s.current){const i=S.parent(s.current),p=[x.get(e,i),i];e.unwrap(p,[q,V]),m.splitNodes(e,{at:i})}return s.unref(),!0}}),[!0,!1].forEach(e=>{const n={ordered:e,spread:void 0,start:void 0},r={spread:void 0,checked:void 0};t.defineAction({key:`toggle-${e?"ordered":"unordered"}-list`,type:k.phrasing,icon:c(I,{icon:e?Ve:Ke}),computeState:(o,l)=>{const s=[x.get(o,l),l],a=o.nearest(s,q),i=a?Boolean(a[0].ordered)===Boolean(e):!1;let p;return a?i?p=!o.canUnwrap(a,[q,V]):p=!0:p=!o.canWrap(s,[q,V],[n,r]),{active:i,disabled:p,listEntry:a}},action:(o,l,s)=>{const a=[x.get(o,l),l],{ordered:i,start:p}=pt(o);return s.listEntry?s.active?o.unwrap(s.listEntry,[q,V]):(m.setNodes(o,{ordered:i,start:p},{at:s.listEntry[1]}),!0):o.wrap(a,[q,V],[Object.assign({},n,{start:p}),r])}})})}var $n=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:Ln});function qn(t){t.defineAction({key:"toggle-paragraph",type:k.phrasing,icon:c(I,{icon:Se}),computeState:(e,n)=>{const r=[x.get(e,n),n],o=e.nearest(r,X),l=!!o;let s;return o?s=!0:s=!e.canToggle(r,X,!0),{active:l,disabled:s}},action:(e,n,r)=>{const o=[x.get(e,n),n];return r.active?!1:e.toggle(o,X,void 0)}}),t.defineAction({key:"insert-paragraph",type:k.toplevel,icon:c(I,{icon:Se}),computeState:()=>({active:!1,disabled:!1}),action:(e,n,r)=>(m.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:n,select:!0}),!0)})}var Hn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:qn});const me=y.exports.createContext({isHeader:!1});var Wn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",TableContext:me});const ft=B({type:"tableCell",isInline:!1,isLeaf:!1,contentType:T.tableRow,contentModelType:T.phrasing,wrappingParagraph:!1,events:{onStartDelete:(t,e)=>!0,onInsertParagraph:(t,e)=>(t.insertText(`
`),!0)},toggle:{},render:(t,{element:e,attributes:n,children:r})=>c(me.Consumer,{children:({isHeader:o})=>o?c("th",O(N({},n),{children:r})):c("td",O(N({},n),{children:r}))})});var Un=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ft});W.add(Qe);const dt=B({type:"table",isInline:!1,isLeaf:!1,contentType:T.flow,contentModelType:T.table,wrappingParagraph:!1,events:{},toggle:{},render:(t,{element:e,attributes:n,children:r})=>{const[o,...l]=r,s={isHeader:!0,align:e.align},a={isHeader:!1,align:e.align};return c(te,{element:e,children:L("table",O(N({},n),{children:[c(me.Provider,{value:s,children:c("thead",{children:o})}),c(me.Provider,{value:a,children:c("tbody",{children:l})})]}))})}});var Vn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:dt});const Kn=B({type:"tableRow",isInline:!1,isLeaf:!1,contentType:T.table,contentModelType:T.tableRow,wrappingParagraph:!1,events:{},toggle:{},render:(t,{element:e,attributes:n,children:r})=>c("tr",O(N({},n),{children:r}))});var Qn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Kn});const Gn="\u6DFB\u52A0\u56FE\u7247",Yn="object",Xn={cols:{title:"\u5217\u6570",type:"number",min:2},rows:{title:"\u884C\u6570",type:"number",min:2}},Jn=["cols","rows"];var Zn={title:Gn,type:Yn,properties:Xn,required:Jn};const er=t=>{let e,n;if(t.runActionParams&&typeof t.runActionParams=="object"){const{rows:r,cols:o}=t.runActionParams;typeof r=="boolean"&&(e=r),typeof o=="number"&&(n=o)}return{rows:e,cols:n}},ze=t=>t.children.length>0?t.children[0].children.length:0;function gt(t,e,n){let r;return t.selection&&([r]=g.nodes(t,{at:t.selection,mode:"lowest",match:o=>R(o,"tableRow")})),r?r[1]:e.concat(n)}function ht(t,e){let n;if(t.selection){const r=t.selection.focus.path,o=t.nearest([x.get(t,r),r],ft);o&&(n=o[1][o[1].length-1])}return typeof n!="number"&&(n=e),n}function mt(t,e,n){m.insertNodes(t,{type:"tableRow",children:Array(n).fill(0).map(()=>({type:"tableCell",children:[{text:""}]}))},{at:e})}function bt(t,e,n){for(const[r]of Array(e[0].children.length).fill(0).entries()){const o=e[1].concat(r,n);m.insertNodes(t,{type:"tableCell",children:[{text:""}]},{at:o})}}function tr(t){t.defineAction({key:"toggle-table",type:k.phrasing,icon:c(I,{icon:Qe}),computeState:(e,n)=>{const r=x.get(e,n),o=R(r,"table");let l,s;if(o)s=!1,l=[r,n];else{const a=x.parent(e,n),i=e.getContentModelType(a);i?s=!Q(dt.contentType,i):s=!0}return{active:o,disabled:s,tableEntry:l}},action:(e,n,r,o)=>{if(er(e),r.active){if(!r.tableEntry)return!1;const[l,s]=r.tableEntry,a=[...x.texts(l)].map(([i])=>i.text).join(" ");return m.removeNodes(e,{at:s}),m.insertNodes(e,{type:"paragraph",children:[{text:a}]},{at:s}),!0}else{const l=g.pathRef(e,n);return De(e,o.target,Zn,{cols:2,rows:2}).then(s=>{const a=l.current;!a||s&&g.withoutNormalizing(e,()=>{const{cols:i,rows:p}=s;m.removeNodes(e,{at:a}),m.insertNodes(e,{type:"table",align:void 0,children:Array(p).fill(0).map(()=>({type:"tableRow",children:Array(i).fill(0).map(()=>({type:"tableCell",children:[{text:""}]}))}))},{at:a})})}).finally(()=>l.unref()),!0}}}),t.defineAction({key:"table-insert-row-above",type:k.selection,icon:c(Mt,{}),computeState:(e,n)=>{const[r]=g.nodes(e,{at:n,mode:"lowest",match:o=>R(o,"table")});return{active:!1,disabled:!r,tableEntry:r}},action:(e,n,r)=>{if(!r.tableEntry)return!1;const[o,l]=r.tableEntry,s=gt(e,l,0),a=ze(o);return mt(e,s,a),!0}}),t.defineAction({key:"table-insert-row-below",type:k.selection,icon:c(Ct,{}),computeState:(e,n)=>{const[r]=g.nodes(e,{at:n,mode:"lowest",match:o=>R(o,"table")});return{active:!1,disabled:!r,tableEntry:r}},action:(e,n,r)=>{if(!r.tableEntry)return!1;const[o,l]=r.tableEntry,s=gt(e,l,o.children.length-1);s[s.length-1]+=1;const a=ze(o);return mt(e,s,a),!0}}),t.defineAction({key:"table-insert-row-left",type:k.selection,icon:c(Pt,{}),computeState:(e,n)=>{const[r]=g.nodes(e,{at:n,mode:"lowest",match:o=>R(o,"table")});return{active:!1,disabled:!r,tableEntry:r}},action:(e,n,r)=>{if(!r.tableEntry)return!1;const o=ht(e,0);return bt(e,r.tableEntry,o),!0}}),t.defineAction({key:"table-insert-row-right",type:k.selection,icon:c(Nt,{}),computeState:(e,n)=>{const[r]=g.nodes(e,{at:n,mode:"lowest",match:o=>R(o,"table")});return{active:!1,disabled:!r,tableEntry:r}},action:(e,n,r)=>{if(!r.tableEntry)return!1;const o=ht(e,ze(r.tableEntry[0])-1)+1;return bt(e,r.tableEntry,o),!0}})}var nr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:tr});function rr(t){[{key:P.strong,icon:we,tips:c(fe,{children:"\u52A0\u7C97"})},{key:P.emphasis,icon:ve,tips:c(fe,{children:"\u659C\u4F53"})},{key:P.inlineCode,icon:ce,tips:c(fe,{children:"\u884C\u5185\u4EE3\u7801"})},{key:P.delete,icon:Te,tips:c(fe,{children:"\u5220\u9664"})}].forEach(({icon:e,key:n,tips:r})=>{t.defineAction({key:n,type:k.selection,icon:c(I,{icon:e}),tips:r,computeState:(o,l)=>{const s=Pe(o,l,n),a=!de(o,l);return{active:s,disabled:a}},action:(o,l,s,a)=>(re.toggleDecorator(o,l,n),!0)})})}var or=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:rr}),sr=B({type:"thematicBreak",isLeaf:!1,isInline:!1,wrappingParagraph:!1,contentType:T.flow,contentModelType:null,render(t,{element:e,children:n,attributes:r}){return c(te,{element:e,children:L(Oe,{attributes:r,children:[c("hr",{}),n]})})},toggle:{prefix:/^---$/,estimatePrefixLength:3,toggle:(t,e,n)=>{n?(m.removeNodes(t,{at:e}),m.insertNodes(t,{type:"paragraph",children:[{text:""}]},{at:e}),m.insertNodes(t,{type:"thematicBreak",children:[]},{at:e}),K.deselect(t),m.select(t,g.start(t,S.next(e)))):m.setNodes(t,{type:"thematicBreak",children:[{text:""}]},{at:e})},onTrigger:(t,e,n)=>{if(!(n.length>1))return!0}},events:{}}),ar=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:sr});const lr={"./blockquote/BlockquoteNode.tsx":rn,"./blockquote/action.tsx":cn,"./code/CodeNode.tsx":Xt,"./code/actions.tsx":pn,"./heading/HeadingNode.tsx":fn,"./heading/actions.tsx":hn,"./image/ImageNode.tsx":bn,"./image/action.tsx":Nn,"./link/LinkNode.tsx":Zt,"./link/action.tsx":Bn,"./list/ListItemNode.tsx":jn,"./list/ListNode.tsx":Fn,"./list/actions.tsx":$n,"./paragraph/ParagraphNode.tsx":dn,"./paragraph/actions.tsx":Hn,"./table/TableCellNode.tsx":Un,"./table/TableNode.tsx":Vn,"./table/TableRowNode.tsx":Qn,"./table/actions.tsx":nr,"./table/context.tsx":Wn,"./text/TextNode.tsx":Jt,"./text/actions.tsx":or,"./thematic-break/ThematicBreakNode.tsx":ar};function ir(t){for(const[e,{default:n,register:r}]of Object.entries(lr)){const o=r||(n==null?void 0:n.register);typeof o=="function"&&(console.debug("auto detected",e),o(t))}}W.add(we,ve,Te,ce);function yt(t,e){if(!!e)return typeof e=="function"?e(t):e}function cr(t,e){var r;if(!e)return[];const n=(r=K.toSlateRange(t,e,{exactMatch:!0}))!=null?r:t.selection;if(n){if(!at(t,n))return[];const[o]=g.nodes(t,{at:n,match:l=>{const s=l.type;if(s){const a=t.factory.customElementMap.get(s);if(a&&a.contentModelType!==T.value)return!0}return!1}});if(!o)return[]}return t.getActions(n!=null?n:void 0,t.factory.selectionActions).map(({action:{key:o,icon:l,tips:s},state:a})=>({key:o,disabled:a.disabled,active:a.active,icon:yt(a,l),tips:yt(a,s),action:i=>{t.runAction(o,n!=null?n:void 0,i)}})).filter(o=>!o.disabled)}function ur(){const t=le(),e=y.exports.useRef(null),n=y.exports.useRef(),[r,o]=y.exports.useState(!0),l=tt(),[s,a]=y.exports.useState([]);t.hideSelectionToolbar=()=>o(!0);const i=y.exports.useMemo(()=>({getBoundingClientRect(){return n.current?n.current.getBoundingClientRect():{width:0,height:0}}}),[t,n]),{styles:p,attributes:b,update:w}=At(i,e.current,{placement:"top",modifiers:[{name:"computeStyles",options:{adaptive:!1}},{name:"offset",options:{offset:[0,8]}}]});return t.updateSelectionToolbar=v=>{if(v){const u=!n.current;n.current=v,u&&setTimeout(()=>{t.updateSelectionToolbar()},0)}const E=cr(t,n.current);a(E),E.length>0?(o(!1),w&&w()):o(!0),l()},t.toggleSelectionToolbar=v=>{r?t.updateSelectionToolbar(v):t.hideSelectionToolbar()},c("div",O(N({className:"ti-hovering-toolbar",ref:e,style:O(N({},p.popper),{opacity:r?0:1,pointerEvents:r?"none":"initial"})},b.popper),{children:s.map(v=>c(Ze,{action:v.action,active:v.active,disabled:v.disabled,icon:v.icon,tips:v.tips},v.key))}))}function pr(t){const e=t.createDefaultChildren.bind(t);t.createDefaultChildren=n=>{const r=e(n);return r.push(y.exports.createElement(ur,{key:"selection-toolbar"})),r},t.onWrapEditor(n=>{n.updateSelectionToolbar=n.hideSelectionToolbar=n.toggleSelectionToolbar=()=>{}})}function be(t,e,n){let r=t[e];return typeof r=="function"&&(Object.prototype.hasOwnProperty.call(t,e)||(r=r.bind(t))),t[e]=n(r),t}const fr=Rt({proto:!1,circles:!1});function dr(t){const e=[],n=[],r=Z(),o=Z(),l=Z();t.freezeProcessors=()=>{r.use(e).use(Ge).use(ee).use(Ye,{emphasis:"*",strong:"*",listItemIndent:"one",fence:"`",bullet:"-"}).freeze(),o.use(Xe).use(ee).use(Ee).use(n).freeze(),l.use(Ot).use(Dt).use(ee).use(Ee).use(n).freeze()},t.configProcessor=(...s)=>{t.configSerializeProcessor(...s),t.configDeserializeProcessor(...s)},t.configSerializeProcessor=(...s)=>{e.push(...s)},t.configDeserializeProcessor=(...s)=>{n.push(...s)},t.generateMarkdown=s=>r.stringify(r.runSync({type:"root",children:fr(s)})),t.parseMarkdown=s=>o.processSync(s).result,t.parseHtml=s=>l.processSync(s).result,be(t,"createDefaultEditableProps",s=>a=>be(s(a),"onPaste",i=>p=>{const b=p.clipboardData;if(b&&b.types.indexOf("application/x-slate-fragment")<0){if(b.types.indexOf("text/html")>=0){const w=b.getData("text/html"),v=t.parseHtml(w);a.insertFragment(v),p.preventDefault();return}else if(b.types.indexOf("text/plain")>=0){const w=b.getData("text/plain"),v=t.parseMarkdown(w);a.insertFragment(v),p.preventDefault();return}}i==null||i(p)})),t.onWrapEditor(s=>{be(s,"insertFragment",a=>i=>{if(s.selection){const p=x.parent(s,s.selection.anchor.path);if(s.getContentModelType(p)===T.value){m.insertText(s,t.generateMarkdown(i));return}}a(i)}),be(s,"setFragmentData",a=>i=>{a(i),i.setData("text/plain",t.generateMarkdown(s.getFragment()))})})}var G;(function(t){t[t.replace=1]="replace",t[t.wrap=2]="wrap",t[t.unwrap=3]="unwrap",t[t.custom=4]="custom"})(G||(G={}));const ye=y.exports.forwardRef(({disabled:t=!1,initialMarkdown:e="",config:n,uploadFile:r,value:o,onChange:l,children:s},a)=>{const i=y.exports.useMemo(()=>{const _=new tn;return _.use(dr),_.use(an),_.use(pr),ir(_),n&&n(_),_.freezeProcessors(),_},[]),p=y.exports.useMemo(()=>{const _=zt(It(Bt()));return _.onAlert=(M,C)=>{console.warn(M,C)},i.wrapEditor(_)},[i]);y.exports.useEffect(()=>{a&&(typeof a=="function"?a(p):a.current=p)},[p,a]),y.exports.useEffect(()=>{e&&(p.markdown=e)},[p]);const b=y.exports.useMemo(()=>i.createDefaultEditableProps(p),[i,p]),w=y.exports.useRef(null),v=y.exports.useMemo(()=>({getEditorDOMRect(){var _,M;return(M=(_=w.current)==null?void 0:_.getBoundingClientRect())!=null?M:new DOMRect}}),[w]),[E,u]=y.exports.useState();p.setActionForm=u,r&&(p.uploadFile=r);const f=y.exports.useMemo(()=>{if(E)return jt.exports.createPortal(E,document.body)},[E]),d=y.exports.useCallback(_=>{l(_)},[l]);y.exports.useEffect(()=>{i.triggerEditorMounted(p)},[p]);const h=y.exports.useMemo(()=>i.createDefaultChildren(p),[i,p]);return L(Ft,{editor:p,onChange:d,value:o,children:[h,L(nt.Provider,{value:v,children:[c("div",{className:"ti-community-editor-container",ref:w,children:c(Lt,N({as:"article",className:"ti-community-editor markdown-body",readOnly:t},b))}),s]}),f]})});ye.displayName="TiEditor";const gr=t=>{console.log(t)};var hr=B({type:"section",isLeaf:!1,isInline:!1,isEditable:!1,contentType:T.flow,contentModelType:T.flow,wrappingParagraph:!1,normalize:(t,e,n,r)=>{e.children.length===0&&(m.removeNodes(t,{at:n}),r())},render(t,{attributes:e,children:n}){return c("section",O(N({},e),{"data-slate-zero-width":!0,onBeforeInputCapture:gr,children:n}))},events:{},toggle:{}});const mr=()=>t=>{$t(t,n=>"children"in n&&"type"in n,n=>{for(let r=n.children.length-1;r>=0;--r){const o=n.children[r];o.type==="section"&&n.children.splice(r,1,...o.children)}})};function br(t,e,n){for(const r of e)if((Je.isNodeOperation(r)||Je.isTextOperation(r))&&U.includes(n,r.path))return!0;return!1}function oe({section:t,value:e=[],onChange:n}){const r=le(),o=y.exports.useRef(n),l=y.exports.useRef([]);return o.current=n,y.exports.useEffect(()=>{const s=r.factory.registerOnChange(()=>{const i=r.getSectionRange(t);if(!!i&&br(r,r.operations,i)){const p=r.getSection(t);l.current=p,o.current(p)}}),a=r.factory.registerOnSectionLayout(i=>{t===i&&e!==l.current&&(l.current=e,r.setSection(t,e))});return()=>{s(),a()}},[r]),y.exports.useEffect(()=>{e!==l.current&&r.setSection(t,e)},[e]),null}function _t(t){hr.register(t),t.configSerializeProcessor(mr);let e=[];t.configSections=s=>{e=s};const n=new WeakMap;t.onWrapEditor(s=>{const{normalizeNode:a,deleteFragment:i,deleteBackward:p,deleteForward:b,insertFragment:w,runAction:v,onChange:E}=s,u=[];n.set(s,u),s.insertFragment=f=>{w(f.filter(d=>!R(d,"section")))},s.runAction=(f,d,h)=>{if(d){const _=g.range(s,d);let M=!1;for(const C of u)if(C.current&&U.includes(_,C.current)){M=!0;break}if(M)return s.onAlert("\u65E0\u6CD5\u64CD\u4F5C\u56FA\u5B9A\u5185\u5BB9",""),!1}return v(f,d,h)},s.deleteFragment=f=>{if(s.selection){let d=!1;for(const h of u)if(h.current&&U.includes(s.selection,h.current)){d=!0;break}if(d){s.onAlert("\u65E0\u6CD5\u5220\u9664\u56FA\u5B9A\u5185\u5BB9","");return}}i(f)},s.deleteBackward=f=>{if(s.selection){const d=g.before(s,s.selection,{unit:f});if(d&&R(g.node(s,d,{depth:1})[0],"section")){s.onAlert("\u65E0\u6CD5\u5220\u9664\u56FA\u5B9A\u5185\u5BB9","");return}}p(f)},s.deleteForward=f=>{if(s.selection){const d=g.after(s,s.selection,{unit:f});if(d&&R(g.node(s,d,{depth:1})[0],"section")){s.onAlert("\u65E0\u6CD5\u5220\u9664\u56FA\u5B9A\u5185\u5BB9","");return}}b(f)},s.normalizeNode=f=>{a(f)},Object.defineProperty(s,"markdown",{get(){console.warn("editor.markdown was disabled for layout plugin, use editor.getSectionMarkdown instead")},set(){console.warn("editor.markdown was disabled for layout plugin, use editor.setSectionMarkdown instead")}}),s.getSectionSpan=f=>{if(f>=u.length)return;let d=u[f].current;if(!d)return;let h;if(f<u.length-1?h=u[f+1].current:h=[s.children.length-1],!!h&&(d=S.next(d),S.hasPrevious(h)?h=S.previous(h):h=d,S.isBefore(h,d)&&(h=d),!(!g.hasPath(s,d)||!g.hasPath(s,h))))return[d,h]},s.getSectionRange=f=>{const d=s.getSectionSpan(f);if(!d)return;const[h,_]=d,M=g.start(s,h),C=g.end(s,_);return{anchor:M,focus:C}},s.getSection=f=>{const d=s.getSectionSpan(f);if(!d)return[];const[...h]=g.nodes(s,{at:d,mode:"highest",match:_=>!g.isEditor(_)});return h.map(([_])=>_)},s.getSectionMarkdown=f=>t.generateMarkdown(s.getSection(f)),s.setSection=(f,d)=>{const h=s.getSectionRange(f);!h||(m.select(s,h),s.insertFragment(d))},s.setSectionMarkdown=(f,d)=>{s.setSection(f,t.parseMarkdown(d))},s.onChange=()=>{E(),Object.values(o).forEach(f=>f())},s.onSectionLayout=f=>{Object.values(l).forEach(d=>d(f))}}),t.onEditorMounted(s=>{const a=n.get(s);if(!a)throw new Error;const i=(p,b)=>(m.insertNodes(s,[p,{type:"paragraph",children:[{text:""}]}],{at:[b*2]}),g.pathRef(s,[b*2]));ke.withoutSaving(s,()=>{g.withoutNormalizing(s,()=>{if(e.length&&a.length===0){for(let p=0;p<e.length;++p)a[p]=i(e[p],p);return}})});for(let p=0;p<e.length;++p)s.onSectionLayout(p)});let r=0;const o={},l={};t.registerOnChange=s=>{const a=++r;return o[a]=s,()=>{delete o[r]}},t.registerOnSectionLayout=s=>{const a=++r;return l[a]=s,()=>{delete l[r]}}}Z().use(Ge).use(ee).use(Ye,{emphasis:"*",strong:"*",listItemIndent:"one",fence:"`",bullet:"-"}).freeze();Z().use(Xe).use(ee).use(Ee).freeze();const yr=`### \u5F15\u7528 (blockquote)

\`\`\`markdown
> blockquote
> 
> yeah
\`\`\`

> blockquote
> 
> yeah

- \u6DFB\u52A0\u5F15\u7528
  - \u8F93\u5165 \`>\` \u5E76\u8F93\u5165\u7A7A\u683C
- \u5220\u9664\u5F15\u7528
  - \u5728\u5F15\u7528\u8D77\u59CB\u5904\u70B9\u51FB \`<Backspace>\`
`;var _r=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:yr});const xr=`### Codes

### Usage

- \u8F93\u5165 \\\`\\\`\\\` \u52A0\u7A7A\u683C

### Examples

\`\`\`javascript
console.log('hello world')
\`\`\`

\`\`\`sql
SELECT * FROM hello_world;
\`\`\`

`;var wr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:xr});const vr=`### \u6807\u9898

\`\`\`markdown
# h1
## h2
### h3
#### h4
##### h5
###### h6
\`\`\`

> # h1
> ## h2
> ### h3
> #### h4
> ##### h5
> ###### h6

- \u521B\u5EFA\u6807\u9898
  1. \u8F93\u5165 1-6 \u4E2A \`#\` \u5E76\u8F93\u5165\u7A7A\u683C
  2. \u5728\u6807\u9898\u4E2D\u95F4\u6216\u7ED3\u5C3E\u70B9\u51FB \`<Enter>\`
- \u5220\u9664\u6807\u9898
  - \u5728\u6807\u9898\u8D77\u59CB\u5904\u70B9\u51FB \`<Enter>\` \u4EE5\u5C06\u6807\u9898\u8F6C\u6362\u6210\u6BB5\u843D
`;var Tr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:vr});const Sr=`### Image

![google logo](https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_92x30dp.png "google")
`;var Er=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:Sr});const kr=`### \u94FE\u63A5

\`\`\`
[title](url)
\`\`\`

> [title](#)

- \u521B\u5EFA\u94FE\u63A5
  - \u8F93\u5165\u94FE\u63A5 url \u5E76\u8F93\u5165\u7A7A\u683C\u4F1A\u81EA\u52A8\u8F6C\u6362
`;var Mr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:kr});const Cr=`### \u5217\u8868

\`\`\`markdown
- \u65E0\u5E8F\u5217\u8868
- ...
  - \u7F29\u8FDB\u5217\u8868

1. \u6709\u5E8F\u5217\u8868
\`\`\`

> - \u65E0\u5E8F\u5217\u8868
> - ...
>   - \u7F29\u8FDB\u5217\u8868
> 
> 1. \u6709\u5E8F\u5217\u8868 1
> 2. \u6709\u5E8F\u5217\u8868 2

\u4F7F\u7528\u4EE5\u4E0B\u65B9\u5F0F\u63A7\u5236 Markdown \u5217\u8868\uFF1A
- \u65B0\u5EFA\u5217\u8868\uFF1A
  1. \u8F93\u5165 \`-\` \u52A0\u7A7A\u683C\u63D2\u5165\u65E0\u5E8F\u5217\u8868
  2. \u8F93\u5165 \`number.\` \u52A0\u7A7A\u683C\u63D2\u5165\u6709\u5E8F\u5217\u8868
- \u5217\u8868\u7F29\u8FDB\uFF1A
  1. \u5728\u5217\u8868\u9879\u4E2D\u8F93\u5165 \`<Tab>\` \u751F\u6210\u4E0B\u7EA7\u5217\u8868 
  2. \u5728\u5217\u8868\u9879\u4E2D\u8F93\u5165 \`-\` \u6216 \`<number>\`\u3002
- \u53D6\u6D88\u5217\u8868
  1. \u5728\u7A7A\u5217\u8868\u9879\u4E2D\u76F4\u63A5\u8F93\u5165 \`<Enter>\`
`;var Pr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:Cr});const Nr=`### Table

| foo | bar |
| :-- | :-: |
| baz | qux |

`;var Ar=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:Nr});const Rr=`# a-editor

## \u6280\u672F\u6808

- core
  - [slate](https://www.slatejs.org/)
  - [remark](https://remark.js.org/)
  - [remark-slate-transformer](https://github.com/inokawa/remark-slate-transformer)
- code highlight
  - [prism](https://prismjs.com/)

## \u6837\u5F0F\u914D\u7F6E

### \u4EE3\u7801\u9AD8\u4EAE

\u5728 \`src/slate-markdown/elements/code/style.less\` \u6DFB\u52A0\u5BF9\u5E94 token \u6837\u5F0F\u3002

abc
deb

## \u7528\u6CD5
`,Or={"./slate-markdown/elements/blockquote/instructions.md":_r,"./slate-markdown/elements/code/instructions.md":wr,"./slate-markdown/elements/heading/instructions.md":Tr,"./slate-markdown/elements/image/instructions.md":Er,"./slate-markdown/elements/link/instructions.md":Mr,"./slate-markdown/elements/list/instructions.md":Pr,"./slate-markdown/elements/table/instructions.md":Ar},Dr=Rr+`

`+Object.values(Or).map(t=>t.plainText).join(`

`);function zr(t){t.use(_t),t.configSections([{type:"section",children:[{type:"heading",depth:1,children:[{text:"section 1",inlineCode:!0},{text:" \u65E0\u6CD5\u4FEE\u6539\u6216\u5220\u9664\uFF0C\u4F7F\u7528\u65B9\u6CD5\u67E5\u770B "},{text:"plugins/layout",inlineCode:!0}]},{type:"blockquote",children:[{type:"paragraph",children:[{text:"\u7528\u4E8E\u56FA\u5B9A\u7684\u5185\u5BB9\u7ED3\u6784"}]}]}]},{type:"section",children:[{type:"heading",depth:1,children:[{text:"section 2",inlineCode:!0}]}]}]),t.onEditorMounted(e=>{setTimeout(()=>{ke.withoutSaving(e,()=>{e.setSectionMarkdown(0,"write something here"),e.setSectionMarkdown(1,Dr)})})})}async function Ir(t){return new Promise((e,n)=>{const r=new FileReader;r.onloadend=function(){setTimeout(()=>{e(r.result)},500)},r.onerror=function(){n(r.error)},r.readAsDataURL(t)})}function Br(){const[t,e]=y.exports.useState([]),n=y.exports.useCallback(a=>{e(a)},[t]),[r,o]=y.exports.useState([]),[l,s]=y.exports.useState([]);return c("div",{children:L(ye,{config:zr,onChange:n,uploadFile:Ir,value:t,children:[c(oe,{onChange:o,section:0,value:r}),c(oe,{onChange:s,section:1,value:l})]})})}async function jr(t){return new Promise((e,n)=>{const r=new FileReader;r.onloadend=function(){setTimeout(()=>{e(r.result)},500)},r.onerror=function(){n(r.error)},r.readAsDataURL(t)})}function Fr(){const[t,e]=y.exports.useState([{type:"paragraph",children:[{text:"here to input"}]}]),n=y.exports.useCallback(r=>{e(r)},[t]);return c("div",{children:c(ye,{onChange:n,uploadFile:jr,value:t})})}function Lr(t){t.use(_t),t.configSections([{type:"section",children:[{type:"heading",depth:1,children:[{text:"section 1",inlineCode:!0}]},{type:"blockquote",children:[{type:"paragraph",children:[{text:"\u7528\u4E8E\u56FA\u5B9A\u7684\u5185\u5BB9\u7ED3\u6784"}]}]}]},{type:"section",children:[{type:"heading",depth:1,children:[{text:"section 2",inlineCode:!0}]}]},{type:"section",children:[{type:"heading",depth:1,children:[{text:"section 3",inlineCode:!0}]}]}]),t.onEditorMounted(e=>{setTimeout(()=>{ke.withoutSaving(e,()=>{e.setSectionMarkdown(0,"write something here"),e.setSectionMarkdown(1,"write something here"),e.setSectionMarkdown(2,"write something here")})})})}async function $r(t){return new Promise((e,n)=>{const r=new FileReader;r.onloadend=function(){setTimeout(()=>{e(r.result)},500)},r.onerror=function(){n(r.error)},r.readAsDataURL(t)})}function qr(){const[t,e]=y.exports.useState([]),n=y.exports.useCallback(p=>{e(p)},[t]),[r,o]=y.exports.useState([]),[l,s]=y.exports.useState([]),[a,i]=y.exports.useState([]);return c("div",{children:L(ye,{config:Lr,onChange:n,uploadFile:$r,value:t,children:[c(oe,{onChange:o,section:0,value:r}),c(oe,{onChange:s,section:1,value:l}),c(oe,{onChange:i,section:2,value:a})]})})}qt.render(c(Ht.StrictMode,{children:c(Wt,{basename:"https://634750802.github.io/a-editor/",children:L("div",{children:[L("nav",{children:[c(Me,{to:"/",children:"Full example"}),c(Me,{to:"/empty",children:"Empty example"}),c(Me,{to:"/sections",children:"Sections example"})]}),c("main",{children:L(Ut,{children:[c(Ce,{component:Fr,exact:!0,path:"/empty"}),c(Ce,{component:qr,exact:!0,path:"/sections"}),c(Ce,{component:Br,path:"/"})]})})]})})}),document.getElementById("root"));
