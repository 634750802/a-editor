var Je=Object.defineProperty,Ze=Object.defineProperties;var et=Object.getOwnPropertyDescriptors;var te=Object.getOwnPropertySymbols;var Te=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable;var ce=(t,e,n)=>e in t?Je(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k=(t,e)=>{for(var n in e||(e={}))Te.call(e,n)&&ce(t,n,e[n]);if(te)for(var n of te(e))_e.call(e,n)&&ce(t,n,e[n]);return t},P=(t,e)=>Ze(t,et(e));var ke=(t,e)=>{var n={};for(var s in t)Te.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&te)for(var s of te(t))e.indexOf(s)<0&&_e.call(t,s)&&(n[s]=t[s]);return n};var D=(t,e,n)=>(ce(t,typeof e!="symbol"?e+"":e,n),n);import{r as b,u as Me,a as Ne,p as tt,b as nt,c as st,d as rt,E as v,e as C,f as ue,j as c,g as G,T as ne,l as z,h as Ee,i as Pe,k as W,F as A,m as pe,n as fe,o as ge,q as se,R as q,P as x,N as u,s as L,t as ot,v as f,w as Ce,x as $,y as F,z as at,A as Se,B as lt,C as it,_ as re,D as Ie,G as Re,H as Oe,I as De,J as Le,K as Ae,L as ze,M as je,O as ct,Q as ut,S as pt,U as ft,V as gt,W as dt,X as ht,Y as mt,Z as yt,$ as bt,a0 as vt,a1 as $e,a2 as xt,a3 as wt}from"./vendor.12377be7.js";const Tt=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}};Tt();class _t{constructor(e,n){D(this,"getMarkdownProcessor",Me().use(Ne).use(tt).use(nt,{bullet:"-",listItemIndent:"one",fence:"`",rule:"-"}));D(this,"setMarkdownProcessor",Me().use(Ne).use(st).use(rt));this.editor=e,this.setValue=n,this.getMarkdownProcessor.freeze(),this.setMarkdownProcessor.freeze()}get markdown(){return this.getMarkdownProcessor.stringify(this.getMarkdownProcessor.runSync({type:"root",children:this.editor.children}))}set markdown(e){this.setValue(this.setMarkdownProcessor.processSync(e).result),setTimeout(()=>{v.normalize(this.editor,{force:!0})},0)}}function kt(t){const[e,n]=b.exports.useState([{type:"paragraph",children:[{text:""}]}]);return[b.exports.useMemo(()=>new _t(t,n),[t]),e,n]}var w;(function(t){t[t.flow=16]="flow",t[t.list=32]="list",t[t.phrasing=48]="phrasing",t[t.staticPhrasing=49]="staticPhrasing",t[t.value=64]="value",t[t.table=80]="table",t[t.tableRow=96]="tableRow"})(w||(w={}));function H(t,e){return t===e||t<e&&(t^e)<16}function O(t){return P(k({},t),{register(e){e.define(t)}})}function S(t,e){return C.isElement(t)?e instanceof Array?e.indexOf(t.type)>=0:t.type===e:!1}function Be({icon:t,active:e,disabled:n,action:s,tips:r}){const a=ue(),o=b.exports.useCallback(p=>{s&&p.button===0&&(p.preventDefault(),p.stopPropagation(),n||v.withoutNormalizing(a,()=>{s(p)}))},[s]),i=c("span",{className:G("toolbar-item",{active:e,disabled:n}),onMouseDown:o,children:t});return r?c(ne,{content:c("span",{className:"toolbar-item-tips",children:r}),children:i}):i}z.add(Ee,Pe);function Mt({extraWidth:t,isEmpty:e,element:n,items:s,setActive:r}){return c(ne,{appendTo:"parent",arrow:!1,content:Nt(s),hideOnClick:!1,interactive:!0,onHide:()=>r(!1),onShow:()=>r(!0),children:W("div",{className:"line-operations",contentEditable:!1,children:[c("span",{className:"icon",children:c(A,{icon:e?Pe:Ee})}),c("div",{className:"spacer",style:{width:t,height:"100%"}})]})})}const Nt=t=>c("div",{className:"block-toolbar",children:t.map((e,n)=>c("div",{className:"toolbar-group",children:e.map(s=>c(Be,{action:s.action,active:s.active,disabled:s.disabled,icon:s.icon,tips:s.tips},s.key))},n))});z.add(pe,fe,ge,se);function Et(t,e){const n=e==null?void 0:e.current;return t.factory.blockConfigs.map(s=>s.toolbarItems.map(({key:r,isDisabled:a,isActive:o,action:i,icon:p,tips:m})=>({key:r,disabled:n?a(t,n):!1,active:n?o(t,n):!1,icon:p,action:n?l=>{i(t,n,l),l.preventDefault(),l.stopPropagation()}:()=>{},tips:m}))).filter(s=>s.length>0)}function qe(){const[t,e]=b.exports.useState(0);return()=>{e(n=>n+1)}}const Fe=b.exports.createContext({getEditorDOMRect:()=>new DOMRect});function Y({element:t,children:e}){const[n,s]=b.exports.useState(null),r=b.exports.useRef(),a=ue(),o=Et(a,r.current),i=qe(),[p,m]=b.exports.useState(0),{getEditorDOMRect:l}=b.exports.useContext(Fe),d=b.exports.useCallback(()=>{var E;const T=(E=n==null?void 0:n.getBoundingClientRect())!=null?E:new DOMRect,{x:M=0}=T,{x:_}=l();return m(M-_),T},[l,n]);b.exports.useLayoutEffect(()=>{var T,M;if(n){const _=document.createRange();_.selectNode(n.childNodes.item(0));const E=q.toSlateRange(a,_,{exactMatch:!1});let R=x.common(E.anchor.path,E.focus.path);for(;R.length!==0;){if(v.isBlock(a,u.get(a,R))){r.current=v.pathRef(a,R);break}R=x.parent(R)}}else r.current&&((M=(T=r.current).unref)==null||M.call(T)),r.current=void 0},[n]);const[g,h]=b.exports.useState(!1),y=(()=>{const T=t.children[0];return t.children.length===1&&L.isText(T)&&T.text===""})();return c(ot,{appendTo:document.body,arrow:!1,getReferenceClientRect:d,hideOnClick:!1,interactive:!0,interactiveBorder:12,offset:[0,8],onTrigger:i,placement:"left",popperOptions:{modifiers:[{name:"flip",options:{allowedAutoPlacements:["left"]}}]},ref:s,render:()=>c(Mt,{element:t,extraWidth:p,isEmpty:y,items:o,setActive:h}),children:typeof e=="function"?e({active:g,pathRef:r.current}):e})}const Pt=["markdown","javascript","typescript","jsx","tsx","sql","bash","go","rust","json","log"],X=Symbol("prism_token"),Ct=[{key:"code-block",icon:c(A,{icon:se}),isActive:(t,e)=>S(u.get(t,e),"code"),isDisabled:(t,e)=>{const n=u.get(t,e);if(S(n,"code"))return!1;const s=u.parent(t,e),r=t.getContentModelType(s);return r?!H(He.contentType,r):!0},tips:c($,{children:"\u4EE3\u7801\u5757"}),action:(t,e,n)=>{const s=u.get(t,e);if(S(s,"code"))f.unsetNodes(t,Object.keys(u.extractProps(s)),{at:e}),f.setNodes(t,{type:"paragraph"},{at:e});else{const r=u.string(s);f.removeNodes(t,{at:e}),f.insertNodes(t,{type:"code",lang:"markdown",meta:void 0,children:[{text:r}]},{at:e,select:!0})}}}],He=O({type:"code",isInline:!1,isLeaf:!1,wrappingParagraph:!1,contentType:w.flow,contentModelType:w.value,render:(t,{element:e,children:n,attributes:s})=>c(Y,{element:e,children:({active:r,pathRef:a})=>c(ne,{appendTo:document.body,content:c("select",{className:"lang-selector",contentEditable:!1,onChange:o=>{(a==null?void 0:a.current)&&f.setNodes(t,{lang:o.currentTarget.value},{at:a.current})},tabIndex:void 0,value:e.lang||void 0,children:Pt.map(o=>c("option",{children:o},o))}),interactive:!0,placement:"top-start",children:c("pre",P(k({},s),{className:G({active:r},e.lang?`language-${e.lang}`:void 0),children:c("code",{className:"prism-code",children:n})}))})}),toggle:{prefix:/^`{3}(?: (\w+))?$/,toggle:(t,e,n)=>{if(n){const s=u.string(u.get(t,e));f.removeNodes(t,{at:e}),f.insertNodes(t,P(k({type:"code"},n),{children:[{text:s}]}),{at:e}),f.select(t,e.concat(0))}else f.unsetNodes(t,["meta","lang"],{at:e}),f.setNodes(t,{type:"paragraph"},{at:e})},onTrigger:(t,e,n)=>{if(n.length>1)return;const s=/^`{3}(?: (\w+))?$/.exec(t);return s?{lang:s[1]||"markdown",meta:void 0}:{lang:"markdown",meta:void 0}}},events:{},toolbarItems:Ct,decorate:(t,[e,n],s)=>{if(L.isText(e)&&s.lang){const r=Ce.languages[s.lang];if(!r)return[];const a=[],o=Ce.tokenize(e.text,r);let i=0;for(const p of o){const m=Ue(p),l=i+m;typeof p!="string"&&a.push({[X]:p.type,anchor:{path:n,offset:i},focus:{path:n,offset:l}}),i=l}return a}return[]}}),Ue=t=>typeof t=="string"?t.length:typeof t.content=="string"?t.content.length:t.content.reduce((e,n)=>e+Ue(n),0);var St=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",SYMBOL_PRISM_TOKEN:X,default:He}),N;(function(t){t.strong="strong",t.emphasis="emphasis",t.delete="delete",t.inlineCode="inlineCode"})(N||(N={}));const K=O({isLeaf:!0,contentType:w.staticPhrasing,contentModelType:w.value,canContainsContentModelTypeOf:t=>t.inlineCode?w.value:(t.strong||t.emphasis||t.delete,w.phrasing),normalize:(t,e,n,s)=>{if(e.text===""){const r=[N.strong,N.emphasis,N.delete,N.inlineCode].filter(a=>!!e[a]);r.length>0&&f.unsetNodes(t,r,{at:n})}},render(t,{leaf:e,children:n,attributes:s}){let r=n;return e[X]&&(r=c("span",{className:G(e[X]?`token ${e[X]}`:void 0,s.className),children:r})),e.delete&&(r=c("del",{children:r})),e.emphasis&&(r=c("em",{children:r})),e.strong&&(r=c("strong",{children:r})),e.inlineCode&&(r=c("code",{children:r})),c("span",P(k({},s),{children:r}))},toggleDecorator:(t,e,n)=>{const s=Ve(t),r=a=>s(u.get(t,a.anchor.path),a.anchor.path);de(t,e,n)?F.isCollapsed(e)?r(e)&&v.addMark(t,n,!1):f.setNodes(t,{[n]:!1},{match:s,split:!0}):F.isCollapsed(e)?r(e)&&(v.addMark(t,n,!0),n===N.inlineCode?(v.addMark(t,N.inlineCode,!1),v.addMark(t,N.emphasis,!1),v.addMark(t,N.delete,!1)):v.addMark(t,N.inlineCode,!1)):(f.setNodes(t,{[n]:!0},{match:s,split:!0}),n===N.inlineCode?f.unsetNodes(t,[N.delete,N.emphasis,N.strong],{match:s,split:!0}):f.unsetNodes(t,N.inlineCode,{match:s,split:!0}))},toolbarItems:[{key:N.strong,icon:pe,tips:c($,{children:"\u52A0\u7C97"})},{key:N.emphasis,icon:fe,tips:c($,{children:"\u659C\u4F53"})},{key:N.inlineCode,icon:se,tips:c($,{children:"\u884C\u5185\u4EE3\u7801"})},{key:N.delete,icon:ge,tips:c($,{children:"\u5220\u9664"})}].map(({key:t,icon:e,tips:n})=>({key:t,icon:c(A,{icon:e}),isActive:(s,r)=>de(s,r,t),isDisabled:(s,r)=>!oe(s,r),action:(s,r,a)=>{K.toggleDecorator(s,r,t)},tips:n}))});function de(t,e,n){if(!q.hasRange(t,e))return!1;const s=v.marks(t);return s?!!s[n]:!1}const oe=(t,e)=>{const n=he(t),[s]=v.nodes(t,{at:e,match:n});return!!s},Ve=t=>(e,n)=>{const s=he(t);if(!L.isText(e))return!1;const r=u.parent(t,n);return C.isElement(r)?s(r,x.parent(n)):!1},he=t=>(e,n)=>{if(C.isElement(e)){const s=t.factory.customElementMap.get(e.type);return s&&s.contentModelType?H(s.contentModelType,w.phrasing):!1}else return!1};function J(t,e,n,s){if(F.isRange(e)){if(!q.hasRange(t,e))return!1}else if(x.isPath(e)){if(!v.hasPath(t,e))return!1}else if(!q.hasRange(t,{anchor:e,focus:e}))return!1;if(x.isPath(e)){const a=u.get(t,e);return S(a,n)&&(s?s(a):!0)}const[r]=v.nodes(t,{at:F.isRange(e)?v.unhangRange(t,e):e,match:a=>!v.isEditor(a)&&S(a,n)&&(s?s(a):!0)});return!!r}var It=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",get TextNodeDecorator(){return N},isDecoratorActive:de,isRangeCustomTextPropsEnabled:oe,isCustomTextPropsEnabled:Ve,isPhrasing:he,isElementActive:J,default:K});function Rt({schema:t,onSubmit:e,defaultValues:n}){return c("div",{contentEditable:!1,children:c(at,{className:"action-form",formData:n,onSubmit:s=>e(s.formData),schema:t})})}function Ot(t,e){return b.exports.useCallback(()=>t.selection?q.toDOMRange(t,t.selection).getBoundingClientRect():e.getBoundingClientRect(),[t,e])}function Dt(t,e){return b.exports.useCallback(()=>{t("user canceled"),e.current&&e.current.hide()},[t])}function Lt(){const t=b.exports.useRef(),e=b.exports.useCallback(n=>{t.current=n},[t]);return[t,e]}function At(t,e,n,s){const r=b.exports.useCallback(a=>{var o;e(a),(o=s.current)==null||o.hide()},[e,s]);return b.exports.useMemo(()=>c(Rt,{defaultValues:n,onSubmit:r,schema:t}),[t,r])}function zt({editor:t,el:e,reject:n,resolve:s,schema:r,defaultValues:a}){const[o,i]=Lt(),p=Ot(t,e),m=Dt(n,o),l=At(r,s,a,o);return c(ne,{content:l,getReferenceClientRect:p,interactive:!0,onClickOutside:m,onMount:i,placement:"right-start",visible:!0,children:c("span",{})})}function me(t,e,n,s){return new Promise((r,a)=>{t.setActionForm(c(zt,{defaultValues:s,editor:t,el:e,reject:a,resolve:r,schema:n}))}).catch(r=>{if(r==="user canceled")return Promise.resolve(void 0);throw r})}const jt="\u6DFB\u52A0\u8D85\u94FE\u63A5",$t="object",Bt={src:{title:"\u94FE\u63A5",type:"string",format:"url"},text:{title:"\u663E\u793A\u6587\u672C",type:"string"}},qt=["src","text"];var Ft={title:jt,type:$t,properties:Bt,required:qt};z.add(Se);const ye=O({type:"link",isInline:!0,isLeaf:!1,contentType:w.phrasing,contentModelType:w.staticPhrasing,normalize:(t,e,n,s)=>{u.string(e).trim().length===0&&(f.removeNodes(t,{at:n}),s())},render:(t,{element:e,attributes:n,children:s})=>c("a",P(k({href:e.url,onClick:()=>window.open(e.url,"_blank"),style:{display:"inline-flex",cursor:"pointer"}},n),{children:s})),insert:(t,e,r)=>{var a=r,{text:n}=a,s=ke(a,["text"]);f.insertNodes(t,[k({type:"link",children:[{text:n}]},s),{text:" "}],{at:e,select:!0}),lt.isPoint(e)&&f.move(t,{distance:1})},match:{regexp:it()},toolbarItems:[{key:"link",icon:c(A,{icon:Se}),tips:c($,{children:"\u8D85\u94FE\u63A5"}),isActive:(t,e)=>J(t,e,"link"),isDisabled:(t,e)=>!x.equals(x.parent(e.focus.path),x.parent(e.anchor.path))||!oe(t,e),action:(t,e,n)=>{J(t,e,"link")?f.unwrapNodes(t,{at:v.unhangRange(t,e),match:s=>!v.isEditor(s)&&C.isElement(s)&&s.type==="link"}):me(t,n.target,Ft,{text:v.string(t,e),src:""}).then(s=>{if(s){const{src:r,text:a}=s;v.withoutNormalizing(t,()=>{ye.insert(t,e,{url:r,title:"",text:a})})}})}}]});var Ht=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ye});class Ut{constructor(e,n){D(this,"state",[]);this.factory=e,this.editor=n}process(e){const[n,s]=e;if(v.isEditor(n))return this.state=[],[];if(C.isElement(n)){const r=this.factory.customElementMap.get(n.type);if(r&&!r.isInline){const a=r;if(a.decorate)return this.state.push({element:n,path:s,config:a}),[]}}if(this.state.length>0){for(const r of this.state.reverse())if(x.isAncestor(r.path,s))return r.config.decorate(this.editor,e,r.element)}return[]}}class Vt{constructor(){D(this,"blockConfigs",[]);D(this,"inlineConfigs",[]);D(this,"textConfig");D(this,"inlineSet",new Set);D(this,"voidSet",new Set);D(this,"customElementMap",new Map);D(this,"contentTypeMap",new Map);D(this,"contentModelTypeMap",new Map)}define(e){return e.isLeaf?this.textConfig=e:(e.isInline?(this.inlineSet.add(e.type),this.inlineConfigs.push(e)):this.blockConfigs.push(e),this.customElementMap.set(e.type,e),this.contentModelTypeMap.set(e.type,e.contentModelType),this.contentTypeMap.set(e.type,e.contentType),e.contentModelType===null&&this.voidSet.add(e.type)),this}wrapEditor(e){const{isVoid:n,isInline:s,normalizeNode:r,insertBreak:a}=e;return e.factory=this,e.updatePopper=e.hidePopper=e.togglePopper=()=>{},e.isContent=(o,i)=>C.isElement(o)?this.contentTypeMap.get(o.type)===i:L.isText(o)?this.textConfig.contentType===i:!1,e.canContainsContent=(o,i)=>{if(v.isEditor(o))return i===w.flow;if(C.isElement(o)){const p=this.contentModelTypeMap.get(o.type);return p?H(i,p):!1}else return L.isText(o)?H(i,K.canContainsContentModelTypeOf(o)):!1},e.getContentType=o=>C.isElement(o)?this.contentTypeMap.get(o.type)||null:L.isText(o)&&this.textConfig.contentType||null,e.getContentModelType=o=>v.isEditor(o)?w.flow:C.isElement(o)?this.contentModelTypeMap.get(o.type)||null:L.isText(o)?this.textConfig.contentModelType:null,e.getContentTypePair=o=>C.isElement(o)?[this.contentTypeMap.get(o.type)||null,this.contentModelTypeMap.get(o.type)||null]:L.isText(o)?[this.textConfig.contentType||null,this.textConfig.contentModelType||null]:[null,null],e.toggle=(o,i,p)=>{const m=e.canToggle(o,i,!0);if(!m)return!1;const[[l,d],g]=m,h=typeof p=="object"?p:{};switch(g){case V.replace:return f.unsetNodes(e,Object.keys(u.extractProps(l))),f.setNodes(e,P(k({type:i.type},h),{children:[]}),{at:d}),!0;case V.wrap:return f.wrapNodes(e,k({type:i.type},h),{at:d}),!0;case V.custom:throw new Error("TODO: ToggleStrategy.custom");default:throw new Error("unknown ToggleStrategy: "+g)}},e.canToggle=(o,i,p)=>{const[m]=o,[l,d]=e.getContentTypePair(m);if(i.contentType!==l)return!1;if(i.contentModelType===d)return[o,V.replace];if(i.contentModelType===l)return[o,V.wrap];if(!p)return!1;const g=u.ancestors(e,o[1],{reverse:!0});for(const h of g){const y=e.canToggle(h,i,!1);if(y)return y}return!1},e.unwrap=(o,i)=>{if(!e.canUnwrap(o,i))return!1;const[p,m]=o,l=[[[]]];let d=[[p,[]]],g=0;for(;g<i.length-1;){const h=[];for(const[y,T]of d)for(const[M,_]of y.children.entries())h.push([_,T.concat(M)]);g+=1,d=h,l.push(h.map(([,y])=>y))}for(const h of l.reverse())for(const y of h.reverse())f.unwrapNodes(e,{at:m.concat(y),split:!0});return!0},e.canUnwrap=([o,i],p)=>{if(p.length===0)return!0;const m=e.getContentModelType(u.parent(e,i)),l=p[p.length-1].contentModelType;if(!m||!l||!H(l,m))return!1;let d=[[o,[]]],g=0;for(;g<p.length;){const h=[];for(const[y,T]of d){if(!S(y,p[g].type))return!1;for(const[M,_]of y.children.entries())h.push([_,T.concat(M)])}g+=1,d=h}return!0},e.wrap=(o,i,p)=>{if(!e.canWrap(o,i,p))return!1;const[,m]=o;let l=i.length-1;for(;l>=0;){const d=i[l],g=p[l];f.wrapNodes(e,Object.assign({type:d.type,children:[]},g),{at:m}),l--}return!0},e.canWrap=(o,i,p)=>{console.assert(i.length===p.length,"editor.canWrap: configs.length should be equals to params.length");const[m,l]=o,d=u.parent(e,l);let g=0,h=e.getContentModelType(d);for(;g<i.length;){const T=i[g];if(h===null||!H(T.contentType,h))return!1;h=T.contentModelType,g+=1}if(h===null)return!1;const y=e.getContentType(m);return y?H(y,h):!1},e.nearest=(o,i)=>{const[p,m]=o;if(S(p,i.type))return o;for(const l of u.ancestors(e,m,{reverse:!0}))if(S(l[0],i.type))return l},e.getAndRemoveMark=o=>{if(e.marks){const i=e.marks[o];return e.removeMark(o),i}},e.isVoid=o=>this.voidSet.has(o.type)||n(o),e.isInline=o=>this.inlineSet.has(o.type)||s(o),e.normalizeNode=o=>{let i=!0;const p=()=>{i=!1};v.withoutNormalizing(e,()=>{var d;const[m,l]=o;if(C.isElement(m)){const g=(d=this.customElementMap.get(m.type))==null?void 0:d.normalize;g&&g(e,m,l,p)}L.isText(m)&&this.textConfig.normalize&&this.textConfig.normalize(e,m,l,p),v.isEditor(m)&&(m.children.length===0?f.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:[0]}):S(m.children[m.children.length-1],"paragraph")||f.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:[m.children.length]}))}),i&&r(o)},e.insertBreak=()=>{if(e.selection){const o=u.parent(e,e.selection.anchor.path);if(e.getContentModelType(o)!==w.phrasing){f.insertText(e,`
`);return}}a()},e}createDefaultEditableProps(e){const n=l=>{var g;const{selection:d}=e;if(d&&F.isCollapsed(d)){const h=d.anchor,y=u.get(e,h.path),T=u.parent(e,h.path);if(L.isText(y)&&C.isElement(T)&&T.type==="paragraph"&&l.data===" "&&!x.hasPrevious(h.path)){const M=y.text.slice(0,h.offset);for(const{toggle:_}of this.blockConfigs)if(!(typeof _.estimatePrefixLength=="number"&&M.length>_.estimatePrefixLength)&&((g=_.prefix)==null?void 0:g.test(M))){const E=_.onTrigger(M,e,x.parent(h.path));if(typeof E!="undefined"){f.delete(e,{at:{path:h.path,offset:0},distance:h.offset}),_.toggle(e,x.parent(h.path),E),l.preventDefault();return}}}if(L.isText(y)&&!S(T,"link")&&l.data===" "){for(const M of this.inlineConfigs)if(M.match){const _=M.match.regexp.exec(y.text.slice(0,h.offset));if(_){const E=_[0],R=_.index,Ye=_.index+E.length,Xe={anchor:{path:h.path,offset:R},focus:{path:h.path,offset:Ye}};ye.insert(e,Xe,{url:E,title:"",text:E}),l.preventDefault();return}}}if(v.isInline(e,T)){const M=x.parent(h.path).concat(T.children.length);f.insertNodes(e,{text:l.data||""},{at:M}),f.move(e,{distance:1}),l.preventDefault();return}}},s=l=>d=>{const{selection:g}=e;if(g&&F.isCollapsed(g)){const h=g.anchor;if(Wt(e,h)){const y=x.parent(h.path),T=u.get(e,y);if(C.isElement(T)){const M=this.customElementMap.get(T.type);if(M){const _=l(M.events);if(_&&_(e,h.path)){d.preventDefault();return}}if(T.type==="paragraph"){const _=u.parent(e,y);if(!x.hasPrevious(y)&&C.isElement(_)){const E=this.customElementMap.get(_.type);if(E==null?void 0:E.wrappingParagraph){const R=l(E.events);if(R&&R(e,h.path)){d.preventDefault();return}}}}}}}},r=s(l=>l.onStartDelete),a=s(l=>l.onStartEnter),i=(l=>d=>{const{selection:g}=e;if(g&&F.isCollapsed(g)){const h=g.anchor,y=x.parent(h.path),T=u.parent(e,h.path);if(C.isElement(T)){const M=this.customElementMap.get(T.type);if(M){const _=l(M.events);if(_&&_(e,h.path)){d.preventDefault();return}}if(T.type==="paragraph"){const _=u.parent(e,y);if(C.isElement(_)){const E=this.customElementMap.get(_.type);if(E==null?void 0:E.wrappingParagraph){const R=l(E.events);if(R&&R(e,h.path)){d.preventDefault();return}}}}}}})(l=>l.onTab),p=new Ut(this,e);return{renderElement:l=>{const d=this.customElementMap.get(l.element.type);return d?d.render(e,l):(console.warn(`${l.element.type} not impl`),b.exports.createElement("div",l.attributes,l.children))},renderLeaf:l=>this.textConfig?this.textConfig.render(e,l):b.exports.createElement("span",l.attributes,l.children),decorate:l=>p.process(l),onDOMBeforeInput:l=>{We(e,()=>{switch(console.log(l.inputType),l.inputType){case"insertText":n(l);break;case"deleteContentBackward":r(l);break;case"insertParagraph":a(l);break;case"insertFromPaste":console.log(l);break}})},onKeyDown:l=>{We(e,()=>{if(re("tab",l)){i(l);return}if(re(["ctrl+enter"],l)){f.insertText(e,`
`);return}if(e.selection){if(re("meta+b",l)){K.toggleDecorator(e,e.selection,N.strong),l.preventDefault();return}if(re("meta+i",l)){K.toggleDecorator(e,e.selection,N.emphasis),l.preventDefault();return}}})},onSelect:l=>{const d=window.getSelection();d&&(d.isCollapsed?e.hidePopper():d.rangeCount>0&&e.updatePopper(d.getRangeAt(0)))},onBlur:l=>{e.hidePopper()},onClick:()=>{const l=window.getSelection();if(l&&l.isCollapsed&&l.rangeCount>0){const d=l.getRangeAt(0),g=q.toSlateRange(e,d,{exactMatch:!0});g&&e.selection&&F.equals(g,e.selection)&&e.togglePopper(d)}}}}}function Wt(t,e){return e.offset===0&&!x.hasPrevious(e.path)&&L.isText(u.get(t,e.path))}function We(t,e){let n=!0;v.withoutNormalizing(t,()=>{e(()=>{n=!1})}),n||v.normalize(t)}z.add(Ie);const Kt=[{key:"blockquote",icon:c(A,{icon:Ie}),isActive:(t,e)=>{const n=[u.get(t,e),e];return!!t.nearest(n,B)},isDisabled:(t,e)=>{const n=[u.get(t,e),e],s=t.nearest(n,B);return s?!t.canUnwrap(s,[B]):!t.canToggle(n,B,!1)},tips:c($,{children:"\u5F15\u7528"}),action:(t,e,n)=>{const s=[u.get(t,e),e],r=t.nearest(s,B);return r?t.unwrap(r,[B]):t.toggle(s,B,void 0)}}],B=O({type:"blockquote",isInline:!1,isLeaf:!1,wrappingParagraph:!0,contentType:w.flow,contentModelType:w.flow,render:(t,{children:e,attributes:n})=>c("blockquote",P(k({},n),{children:e})),toggle:{prefix:/^>$/,toggle:(t,e,n)=>{n?f.wrapNodes(t,{type:"blockquote",children:[]},{at:e}):f.unwrapNodes(t,{at:x.parent(e)})},onTrigger(){return!0}},events:{onStartDelete:(t,e)=>{const n=u.parent(t,x.parent(e));return S(n,"blockquote")?(B.toggle.toggle(t,x.parent(e),!1),!0):!1}},toolbarItems:Kt});var Qt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:B});z.add(Re);const Z=O({type:"paragraph",isLeaf:!1,isInline:!1,wrappingParagraph:!1,contentType:w.flow,contentModelType:w.phrasing,toggle:{},events:{},render(t,{element:e,attributes:n,children:s}){return c(Y,{element:e,children:({active:r})=>c("p",P(k({className:G({active:r})},n),{children:s}))})},toolbarItems:[{key:"insert-paragraph",isActive:()=>!1,isDisabled:(t,e)=>e.length>1,icon:c(A,{icon:Re}),action:(t,e)=>{e.length>1||f.insertNodes(t,{type:"paragraph",children:[{text:""}]},{at:e})}}]});var Gt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Z});const Yt=[1,2,3,4,5,6].map(t=>{const e=(s,r)=>{const a=[u.get(s,r),r],o=s.nearest(a,U);return!!(o&&o[0].depth===t)},n=(s,r)=>{const a=[u.get(s,r),r],o=s.nearest(a,U);return o?!s.canToggle(o,Z,!1):!s.canToggle(a,U,!0)};return{key:`heading-level-${t}`,icon:W($,{children:["H",t]}),isActive:e,isDisabled:n,action:(s,r,a)=>{const o=[u.get(s,r),r],i=s.nearest(o,U);i&&i[0].depth===t?s.toggle(i,Z,void 0):s.toggle(o,U,{depth:t})}}}),U=O({type:"heading",isInline:!1,isLeaf:!1,wrappingParagraph:!1,contentType:w.flow,contentModelType:w.phrasing,render:(t,{element:e,children:n,attributes:s})=>c(Y,{element:e,children:({active:r})=>b.exports.createElement(`h${e.depth}`,Object.assign(s,{className:G({active:r})}),n)}),toggle:{prefix:/^#{1,6}$/,estimatePrefixLength:6,toggle:(t,e,n)=>{n?t.toggle([u.get(t,e),e],U,n):t.toggle([u.get(t,e),e],Z,void 0)},onTrigger:t=>({depth:t.length})},events:{onStartEnter:(t,e)=>{const n=u.parent(t,e);return S(n,"heading")?(t.toggle([n,x.parent(e)],Z,void 0),!0):!1}},toolbarItems:Yt});var Xt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:U});const Jt="\u6DFB\u52A0\u56FE\u7247",Zt="object",en={src:{title:"\u94FE\u63A5",type:"string",format:"url"},alt:{title:"\u66FF\u4EE3\u6587\u672C\uFF08alt\uFF09",type:"string"}},tn=["src","alt"];var nn={title:Jt,type:Zt,properties:en,required:tn};const be=b.exports.forwardRef(function({children:t},e){return c("span",{className:"void-element",contentEditable:!1,ref:e,children:t})});be.displayName="VoidElement";z.add(Oe);const Ke=O({type:"image",isInline:!0,isLeaf:!1,contentType:w.staticPhrasing,contentModelType:null,render:(t,{element:e,attributes:n,children:s})=>W(be,{children:[c("img",k({alt:e.alt,src:e.url,title:e.title},n)),s]}),insert:(t,e,n)=>{f.insertNodes(t,[{text:" "},k({type:"image",children:[]},n),{text:" "}],{at:e})},toolbarItems:[{key:"image",icon:c(A,{icon:Oe}),tips:c($,{children:"\u8D85\u94FE\u63A5"}),isActive:(t,e)=>J(t,e,"image"),isDisabled:(t,e)=>!x.equals(x.parent(e.focus.path),x.parent(e.anchor.path))||!oe(t,e),action:(t,e,n)=>{J(t,e,"image")?f.removeNodes(t,{at:v.unhangRange(t,e),match:s=>!v.isEditor(s)&&C.isElement(s)&&s.type==="image"}):me(t,n.target,nn,{alt:v.string(t,e),src:""}).then(s=>{if(s){const{src:r,alt:a}=s;v.withoutNormalizing(t,()=>{Ke.insert(t,e,{url:r,title:"",alt:a})})}})}}]});var sn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ke});z.add(De,Le);const Qe=[!0,!1].map(t=>{const e={ordered:t,spread:void 0,start:void 0},n={spread:void 0,checked:void 0};return{key:`list-${t?"ordered":"unordered"}`,icon:c(A,{icon:t?De:Le}),isActive:(s,r)=>{const a=[u.get(s,r),r],o=s.nearest(a,I);return o?Boolean(o[0].ordered)===Boolean(t):!1},isDisabled:(s,r)=>{const a=[u.get(s,r),r],o=s.nearest(a,I);return o?!s.canUnwrap(o,[I,Q]):!s.canWrap(a,[I,Q],[e,n])},action:(s,r,a)=>{const o=s.getAndRemoveMark("start"),i=[u.get(s,r),r],p=s.nearest(i,I);if(p){const[m,l]=p;m.ordered===t?s.unwrap(p,[I,Q]):f.setNodes(s,{ordered:t,start:o},{at:l})}else s.wrap(i,[I,Q],[Object.assign({},e,{start:o}),n])}}}),I=O({type:"list",isLeaf:!1,isInline:!1,wrappingParagraph:!0,contentType:w.flow,contentModelType:w.list,normalize:(t,e,n,s)=>{if(e.children.length===0){f.removeNodes(t,{at:n}),s();return}if(x.hasPrevious(n)){const r=u.get(t,x.previous(n));if(S(r,"list")&&Boolean(r.ordered)===Boolean(e.ordered)&&r.start===void 0&&e.start===void 0){f.mergeNodes(t,{at:n}),s();return}}},render(t,{element:e,attributes:n,children:s}){return e.ordered?c("ol",P(k({},n),{start:e.start,children:s})):c("ul",P(k({},n),{children:s}))},toggle:{prefix:/^(?:-|\d+\.)$/,toggle:Ge,onTrigger:t=>{if(t==="-")return{ordered:!1,start:void 0,spread:void 0};{const e=parseInt(t);return{ordered:!0,start:e===1?void 0:e,spread:void 0}}}},events:{},toolbarItems:Qe});function Ge(t,e,n){if(n===!1)throw new Error("should never reach");t.addMark("start",n.start),t.nearest([u.get(t,e),e],I)?(t.addMark("ordered",n.ordered),Q.toolbarItems[0].action(t,e,{})):Qe[n.ordered?0:1].action(t,e,{})}var rn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",toggleList:Ge,default:I});z.add(Ae,ze);const ae=[{key:"indent-list-item",isActive:()=>!1,isDisabled:(t,e)=>{const n=t.nearest([u.get(t,e),e],I);return!n||n[0].children.length<=1},icon:c(A,{icon:Ae}),action:(t,e,n)=>{const s=t.getAndRemoveMark("ordered"),r=t.getAndRemoveMark("start"),a=[u.get(t,e),e],o=t.nearest(a,I);if(!o||o[0].children.length<=1)return;const i=t.nearest(a,ee);!i||!x.hasPrevious(i[1])||t.wrap(i,[ee,I],[{spread:void 0,checked:void 0},{ordered:s!=null?s:o[0].ordered,spread:void 0,start:r}])&&f.mergeNodes(t,{at:i[1]})}},{key:"outdent-list-item",isActive:()=>!1,isDisabled:(t,e)=>!t.nearest([u.get(t,e),e],I),icon:c(A,{icon:ze}),action:(t,e,n)=>{const s=[u.get(t,e),e];if(!t.nearest(s,I))return;const a=t.nearest(s,ee);if(!a)return;const o=v.pathRef(t,a[1]),i=x.next(a[1]);if(v.hasPath(t,i)&&f.splitNodes(t,{at:i}),f.splitNodes(t,{at:a[1]}),o.current){const p=x.parent(o.current),m=[u.get(t,p),p];t.unwrap(m,[I,ee]),f.splitNodes(t,{at:p})}o.unref()}}],ee=O({type:"listItem",isLeaf:!1,isInline:!1,wrappingParagraph:!0,contentType:w.list,contentModelType:w.flow,normalize:(t,e,n)=>{const s=e.children.length-1;if(e.children.length>1&&S(e.children[s],"paragraph")){const r=x.next(n);f.moveNodes(t,{at:n.concat(s),to:r}),f.wrapNodes(t,{type:"listItem",checked:e.checked,spread:e.spread,children:[]},{at:r})}},render(t,{element:e,attributes:n,children:s}){return c("li",P(k({},n),{children:s}))},toggle:{},events:{onStartDelete:(t,e)=>(ae[1].action(t,x.parent(e),{}),!0),onStartEnter:(t,e)=>u.string(u.get(t,e))?!1:(ae[1].action(t,x.parent(e),{}),!0),onTab:(t,e)=>(ae[0].action(t,x.parent(e),{}),!0)},toolbarItems:ae});var Q=ee,on=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Q});const le=b.exports.createContext({isHeader:!1});var an=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",TableContext:le});const ve=O({type:"tableCell",isInline:!1,isLeaf:!1,contentType:w.tableRow,contentModelType:w.phrasing,wrappingParagraph:!1,events:{},toggle:{},toolbarItems:[],render:(t,{element:e,attributes:n,children:s})=>c(le.Consumer,{children:({isHeader:r})=>r?c("th",P(k({},n),{children:s})):c("td",P(k({},n),{children:s}))})});var ln=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ve});const xe=O({type:"tableRow",isInline:!1,isLeaf:!1,contentType:w.table,contentModelType:w.tableRow,wrappingParagraph:!1,events:{},toggle:{},toolbarItems:[],render:(t,{element:e,attributes:n,children:s})=>c("tr",P(k({},n),{children:s}))});var cn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:xe});const un="\u6DFB\u52A0\u56FE\u7247",pn="object",fn={cols:{title:"\u5217\u6570",type:"number",min:2},rows:{title:"\u884C\u6570",type:"number",min:2}},gn=["cols","rows"];var dn={title:un,type:pn,properties:fn,required:gn};z.add(je);const hn=t=>t.children.length,we=t=>t.children.length>0?t.children[0].children.length:0,mn=[{key:"toggle-table",icon:c(A,{icon:je}),isActive:(t,e)=>S(u.get(t,e),"table"),isDisabled:(t,e)=>{const n=u.get(t,e);if(S(n,"table"))return!1;const s=u.parent(t,e),r=t.getContentModelType(s);return r?!H(j.contentType,r):!0},action:(t,e,n)=>{const s=u.get(t,e);if(S(s,"table")){const r=[...u.texts(s)].map(([a])=>a.text).join(" ");f.removeNodes(t,{at:e}),f.insertNodes(t,{type:"paragraph",children:[{text:r}]},{at:e})}else me(t,n.target,dn,{cols:2,rows:2}).then(r=>{r&&v.withoutNormalizing(t,()=>{const{cols:a,rows:o}=r;f.removeNodes(t,{at:e}),f.insertNodes(t,{type:"table",align:void 0,children:Array(o).fill(0).map(()=>({type:"tableRow",children:Array(a).fill(0).map(()=>({type:"tableCell",children:[{text:""}]}))}))},{at:e})})})}},{key:"table-insert-row-above",icon:c(ct,{}),isActive:()=>!1,isDisabled:(t,e)=>!t.nearest([u.get(t,e),e],j),action:(t,e,n)=>{const s=t.nearest([u.get(t,e),e],j);if(!s)return;let r;if(t.selection){const o=t.selection.focus.path,i=t.nearest([u.get(t,o),o],xe);i&&(r=i[1])}r||(r=s[1].concat(0));const a=we(s[0]);f.insertNodes(t,{type:"tableRow",children:Array(a).fill(0).map(()=>({type:"tableCell",children:[{text:""}]}))},{at:r})}},{key:"table-insert-row-below",icon:c(ut,{}),isActive:()=>!1,isDisabled:(t,e)=>!t.nearest([u.get(t,e),e],j),action:(t,e,n)=>{const s=t.nearest([u.get(t,e),e],j);if(!s)return;let r;if(t.selection){const o=t.selection.focus.path,i=t.nearest([u.get(t,o),o],xe);i&&(r=i[1])}r||(r=s[1].concat(hn(s[0])-1)),r=x.next(r);const a=we(s[0]);f.insertNodes(t,{type:"tableRow",children:Array(a).fill(0).map(()=>({type:"tableCell",children:[{text:""}]}))},{at:r})}},{key:"table-insert-row-left",icon:c(pt,{}),isActive:()=>!1,isDisabled:(t,e)=>!t.nearest([u.get(t,e),e],j),action:(t,e,n)=>{const s=t.nearest([u.get(t,e),e],j);if(!s)return;let r;if(t.selection){const a=t.selection.focus.path,o=t.nearest([u.get(t,a),a],ve);o&&(r=o[1][o[1].length-1])}typeof r!="number"&&(r=0);for(const[a]of Array(s[0].children.length).fill(0).entries()){const o=s[1].concat(a,r);f.insertNodes(t,{type:"tableCell",children:[{text:""}]},{at:o})}}},{key:"table-insert-row-right",icon:c(ft,{}),isActive:()=>!1,isDisabled:(t,e)=>!t.nearest([u.get(t,e),e],j),action:(t,e,n)=>{const s=t.nearest([u.get(t,e),e],j);if(!s)return;let r;if(t.selection){const a=t.selection.focus.path,o=t.nearest([u.get(t,a),a],ve);o&&(r=o[1][o[1].length-1])}typeof r!="number"&&(r=we(s[0])-1),r+=1;for(const[a]of Array(s[0].children.length).fill(0).entries()){const o=s[1].concat(a,r);f.insertNodes(t,{type:"tableCell",children:[{text:""}]},{at:o})}}}],j=O({type:"table",isInline:!1,isLeaf:!1,contentType:w.flow,contentModelType:w.table,wrappingParagraph:!1,events:{},toggle:{},toolbarItems:mn,render:(t,{element:e,attributes:n,children:s})=>{const[r,...a]=s,o={isHeader:!0,align:e.align},i={isHeader:!1,align:e.align};return c(Y,{element:e,children:W("table",P(k({},n),{children:[c(le.Provider,{value:o,children:c("thead",{children:r})}),c(le.Provider,{value:i,children:c("tbody",{children:a})})]}))})}});var yn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:j}),bn=O({type:"thematicBreak",isLeaf:!1,isInline:!1,wrappingParagraph:!1,contentType:w.flow,contentModelType:null,render(t,{element:e,children:n,attributes:s}){return c(Y,{element:e,children:W(be,{children:[c("hr",k({},s)),n]})})},toggle:{prefix:/^---$/,estimatePrefixLength:3,toggle:(t,e,n)=>{n?(f.removeNodes(t,{at:e}),f.insertNodes(t,{type:"paragraph",children:[{text:""}]},{at:e}),f.insertNodes(t,{type:"thematicBreak",children:[]},{at:e}),q.deselect(t),f.select(t,v.start(t,x.next(e)))):f.setNodes(t,{type:"thematicBreak",children:[{text:""}]},{at:e})},onTrigger:(t,e,n)=>{if(!(n.length>1))return!0}},events:{},toolbarItems:[]}),vn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:bn});const xn={"./blockquote/BlockquoteNode.tsx":Qt,"./code/CodeNode.tsx":St,"./heading/HeadingNode.tsx":Xt,"./image/ImageNode.tsx":sn,"./link/LinkNode.tsx":Ht,"./list/ListItemNode.tsx":on,"./list/ListNode.tsx":rn,"./paragraph/ParagraphNode.tsx":Gt,"./table/TableCellNode.tsx":ln,"./table/TableNode.tsx":yn,"./table/TableRowNode.tsx":cn,"./table/context.tsx":an,"./text/TextNode.tsx":It,"./thematic-break/ThematicBreakNode.tsx":vn};function wn(t){for(const[e,{default:n}]of Object.entries(xn))typeof(n==null?void 0:n.register)=="function"&&(console.debug("auto detected",e),n.register(t))}z.add(pe,fe,ge,se);function Tn(t,e){var r;if(!e)return[];const n=(r=q.toSlateRange(t,e,{exactMatch:!0}))!=null?r:t.selection;if(n){const[a]=v.nodes(t,{at:n,match:o=>{const i=o.type;if(i){const p=t.factory.customElementMap.get(i);if(p&&p.contentModelType!==w.value)return!0}return!1}});if(!a)return[]}return K.toolbarItems.concat(t.factory.inlineConfigs.flatMap(a=>a.toolbarItems)).map(({key:a,isDisabled:o,isActive:i,action:p,icon:m,tips:l})=>({key:a,disabled:n?o(t,n):!1,active:n?i(t,n):!1,icon:m,action:n?d=>p(t,n,d):()=>{},tips:l}))}function _n(){const t=ue(),e=b.exports.useRef(null),n=b.exports.useRef(),[s,r]=b.exports.useState(!0),a=qe(),[o,i]=b.exports.useState([]);t.hidePopper=()=>r(!0);const p=b.exports.useMemo(()=>({getBoundingClientRect(){return n.current?n.current.getBoundingClientRect():{width:0,height:0}}}),[t,n]),{styles:m,attributes:l,update:d}=gt(p,e.current,{placement:"top",modifiers:[{name:"computeStyles",options:{adaptive:!1}},{name:"offset",options:{offset:[0,8]}}]});return t.updatePopper=g=>{if(g){const y=!n.current;n.current=g,y&&setTimeout(()=>{t.updatePopper()},0)}const h=Tn(t,n.current);i(h),h.length>0?(r(!1),d&&d()):r(!0),a()},t.togglePopper=g=>{s?t.updatePopper(g):t.hidePopper()},c("div",P(k({className:"ti-hovering-toolbar",ref:e,style:P(k({},m.popper),{opacity:s?0:1,pointerEvents:s?"none":"initial"})},l.popper),{children:o.map(g=>c(Be,{action:g.action,active:g.active,disabled:g.disabled,icon:g.icon,tips:g.tips},g.key))}))}var V;(function(t){t[t.replace=1]="replace",t[t.wrap=2]="wrap",t[t.unwrap=3]="unwrap",t[t.custom=4]="custom"})(V||(V={}));const ie=b.exports.forwardRef(({disabled:t=!1,initialMarkdown:e=""},n)=>{const s=b.exports.useMemo(()=>{const y=new Vt;return wn(y),y},[]),r=b.exports.useMemo(()=>{const y=dt(ht(mt()));return s.wrapEditor(y)},[]),a=b.exports.useMemo(()=>s.createDefaultEditableProps(r),[]),[o,i,p]=kt(r),m=b.exports.useRef(null),l=b.exports.useMemo(()=>({getEditorDOMRect(){var y,T;return(T=(y=m.current)==null?void 0:y.getBoundingClientRect())!=null?T:new DOMRect}}),[m]);b.exports.useEffect(()=>{n&&(typeof n=="function"?n(o):n.current=o),o.markdown=e},[r]);const[d,g]=b.exports.useState();r.setActionForm=g;const h=b.exports.useMemo(()=>{if(d)return yt.exports.createPortal(d,document.body)},[d]);return W(bt,{editor:r,onChange:p,value:i,children:[c(_n,{}),c(Fe.Provider,{value:l,children:c("div",{className:"ti-community-editor-container",ref:m,children:c(vt,k({as:"article",className:"ti-community-editor markdown-body"},a))})}),h]})});ie.displayName="TiEditor";ie.propTypes={disabled:$e.bool,initialMarkdown:$e.string};ie.defaultProps={disabled:!1,initialMarkdown:""};const kn=`### \u5F15\u7528 (blockquote)

\`\`\`markdown
> blockquote
> 
> yeah
\`\`\`

> blockquote
> 
> yeah

- \u6DFB\u52A0\u5F15\u7528
  - \u8F93\u5165 \`>\` \u5E76\u8F93\u5165\u7A7A\u683C
- \u5220\u9664\u5F15\u7528
  - \u5728\u5F15\u7528\u8D77\u59CB\u5904\u70B9\u51FB \`<Backspace>\`
`;var Mn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:kn});const Nn=`### Codes

### Usage

- \u8F93\u5165 \\\`\\\`\\\` \u52A0\u7A7A\u683C

### Examples

\`\`\`javascript
console.log('hello world')
\`\`\`

\`\`\`sql
SELECT * FROM hello_world;
\`\`\`

`;var En=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:Nn});const Pn=`### \u6807\u9898

\`\`\`markdown
# h1
## h2
### h3
#### h4
##### h5
###### h6
\`\`\`

> # h1
> ## h2
> ### h3
> #### h4
> ##### h5
> ###### h6

- \u521B\u5EFA\u6807\u9898
  1. \u8F93\u5165 1-6 \u4E2A \`#\` \u5E76\u8F93\u5165\u7A7A\u683C
  2. \u5728\u6807\u9898\u4E2D\u95F4\u6216\u7ED3\u5C3E\u70B9\u51FB \`<Enter>\`
- \u5220\u9664\u6807\u9898
  - \u5728\u6807\u9898\u8D77\u59CB\u5904\u70B9\u51FB \`<Enter>\` \u4EE5\u5C06\u6807\u9898\u8F6C\u6362\u6210\u6BB5\u843D
`;var Cn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:Pn});const Sn=`### Image

![google logo](https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_92x30dp.png "google")
`;var In=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:Sn});const Rn=`### \u94FE\u63A5

\`\`\`
[title](url)
\`\`\`

> [title](#)

- \u521B\u5EFA\u94FE\u63A5
  - \u8F93\u5165\u94FE\u63A5 url \u5E76\u8F93\u5165\u7A7A\u683C\u4F1A\u81EA\u52A8\u8F6C\u6362
`;var On=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:Rn});const Dn=`### \u5217\u8868

\`\`\`markdown
- \u65E0\u5E8F\u5217\u8868
- ...
  - \u7F29\u8FDB\u5217\u8868

1. \u6709\u5E8F\u5217\u8868
\`\`\`

> - \u65E0\u5E8F\u5217\u8868
> - ...
>   - \u7F29\u8FDB\u5217\u8868
> 
> 1. \u6709\u5E8F\u5217\u8868 1
> 2. \u6709\u5E8F\u5217\u8868 2

\u4F7F\u7528\u4EE5\u4E0B\u65B9\u5F0F\u63A7\u5236 Markdown \u5217\u8868\uFF1A
- \u65B0\u5EFA\u5217\u8868\uFF1A
  1. \u8F93\u5165 \`-\` \u52A0\u7A7A\u683C\u63D2\u5165\u65E0\u5E8F\u5217\u8868
  2. \u8F93\u5165 \`number.\` \u52A0\u7A7A\u683C\u63D2\u5165\u6709\u5E8F\u5217\u8868
- \u5217\u8868\u7F29\u8FDB\uFF1A
  1. \u5728\u5217\u8868\u9879\u4E2D\u8F93\u5165 \`<Tab>\` \u751F\u6210\u4E0B\u7EA7\u5217\u8868 
  2. \u5728\u5217\u8868\u9879\u4E2D\u8F93\u5165 \`-\` \u6216 \`<number>\`\u3002
- \u53D6\u6D88\u5217\u8868
  1. \u5728\u7A7A\u5217\u8868\u9879\u4E2D\u76F4\u63A5\u8F93\u5165 \`<Enter>\`
`;var Ln=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:Dn});const An=`### Table

| foo | bar |
| :-- | :-: |
| baz | qux |

`;var zn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:An});const jn=`# a-editor

## \u6280\u672F\u6808

- core
  - [slate](https://www.slatejs.org/)
  - [remark](https://remark.js.org/)
  - [remark-slate-transformer](https://github.com/inokawa/remark-slate-transformer)
- code highlight
  - [prism](https://prismjs.com/)

## \u6837\u5F0F\u914D\u7F6E

### \u4EE3\u7801\u9AD8\u4EAE

\u5728 \`src/slate-markdown/elements/code/style.less\` \u6DFB\u52A0\u5BF9\u5E94 token \u6837\u5F0F\u3002

## \u7528\u6CD5
`,$n={"./slate-markdown/elements/blockquote/instructions.md":Mn,"./slate-markdown/elements/code/instructions.md":En,"./slate-markdown/elements/heading/instructions.md":Cn,"./slate-markdown/elements/image/instructions.md":In,"./slate-markdown/elements/link/instructions.md":On,"./slate-markdown/elements/list/instructions.md":Ln,"./slate-markdown/elements/table/instructions.md":zn},Bn=jn+`

`+Object.values($n).map(t=>t.plainText).join(`

`);function qn(){return c("div",{children:c(ie,{initialMarkdown:Bn})})}xt.render(c(wt.StrictMode,{children:c(qn,{})}),document.getElementById("root"));
