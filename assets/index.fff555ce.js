var wt=Object.defineProperty,vt=Object.defineProperties;var Tt=Object.getOwnPropertyDescriptors;var ie=Object.getOwnPropertySymbols;var Ie=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable;var _e=(t,e,n)=>e in t?wt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,N=(t,e)=>{for(var n in e||(e={}))Ie.call(e,n)&&_e(t,n,e[n]);if(ie)for(var n of ie(e))Be.call(e,n)&&_e(t,n,e[n]);return t},O=(t,e)=>vt(t,Tt(e));var xe=(t,e)=>{var n={};for(var r in t)Ie.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&ie)for(var r of ie(t))e.indexOf(r)<0&&Be.call(t,r)&&(n[r]=t[r]);return n};var j=(t,e,n)=>(_e(t,typeof e!="symbol"?e+"":e,n),n);import{E as D,u as le,r as y,a as g,j as c,c as Z,T as ce,l as W,f as je,b as Fe,d as L,F as I,e as we,g as ve,h as Te,i as ue,R as K,P as S,N as x,k as F,m as Le,n as St,o as m,p as $e,q as U,s as qe,t as Et,v as kt,_ as pe,w as fe,x as Se,y as He,z as Mt,A as We,B as Ue,C as Ve,D as Ke,G as Qe,I as Ct,H as Pt,J as Nt,K as At,L as de,M as Rt,O as Ot,Q as ee,S as Ge,U as te,V as Ye,W as Xe,X as Ee,Y as Dt,Z as zt,$ as It,a0 as Bt,a1 as jt,a2 as Ft,a3 as Lt,a4 as $t,a5 as Je,a6 as qt,a7 as Ze,a8 as ke,a9 as Ht,aa as Wt,ab as Ut,ac as Me,ad as Vt,ae as Ce}from"./vendor.982d7e4f.js";const Kt=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}};Kt();var T;(function(t){t[t.flow=16]="flow",t[t.list=32]="list",t[t.phrasing=48]="phrasing",t[t.staticPhrasing=49]="staticPhrasing",t[t.value=64]="value",t[t.table=80]="table",t[t.tableRow=96]="tableRow"})(T||(T={}));function Q(t,e){return t===e||t<e&&(t^e)<16}function B(t){return O(N({},t),{register(e){e.define(O(N({},t),{isEditable:typeof t.isEditable=="boolean"?t.isEditable:!0}))}})}function R(t,e){return D.isElement(t)?e instanceof Array?e.indexOf(t.type)>=0:t.type===e:!1}function et({icon:t,active:e,disabled:n,action:r,tips:o}){const i=le(),s=y.exports.useCallback(l=>{r&&l.button===0&&(l.preventDefault(),l.stopPropagation(),n||g.withoutNormalizing(i,()=>{r(l)}))},[r]),a=c("span",{className:Z("a-editor-toolbar-item",{active:e,disabled:n}),onMouseDown:s,children:t});return o?c(ce,{content:c("span",{className:"toolbar-item-tips",children:o}),children:a}):a}W.add(je,Fe);function Qt({extraWidth:t,isEmpty:e,element:n,items:r,setActive:o}){return c(ce,{appendTo:"parent",arrow:!1,content:Gt(r),hideOnClick:!1,interactive:!0,onHide:()=>o(!1),onShow:()=>o(!0),children:L("div",{className:"line-operations",contentEditable:!1,children:[c("span",{className:"icon",children:c(I,{icon:e?Fe:je})}),c("div",{className:"spacer",style:{width:t,height:"100%"}})]})})}const Gt=t=>c("div",{className:"block-toolbar",children:t.map((e,n)=>c("div",{className:"toolbar-group",children:e.map(r=>c(et,{action:r.action,active:r.active,disabled:r.disabled,icon:r.icon,tips:r.tips},r.key))},n))});W.add(we,ve,Te,ue);function tt(t,e){if(!!e)return typeof e=="function"?e(t):e}function Yt(t,e){const n=e==null?void 0:e.current;return n?t.factory.lineActions.map(r=>t.getActions(n,r).map(({action:{key:o,icon:i,tips:s},state:a})=>({key:o,disabled:a.disabled,active:a.active,icon:tt(a,i),tips:tt(a,s),action:l=>{t.runAction(o,n,l)}}))):[]}function nt(){const[t,e]=y.exports.useState(0);return()=>{e(n=>n+1)}}const rt=y.exports.createContext({getEditorDOMRect:()=>new DOMRect});function ne({element:t,children:e}){const[n,r]=y.exports.useState(null),o=y.exports.useRef(),i=le(),s=Yt(i,o.current),a=nt(),[l,p]=y.exports.useState(0),{getEditorDOMRect:b}=y.exports.useContext(rt),w=y.exports.useCallback(()=>{var M;const d=(M=n==null?void 0:n.getBoundingClientRect())!=null?M:new DOMRect,{x:h=0}=d,{x:_}=b();return p(h-_),d},[b,n]);y.exports.useLayoutEffect(()=>{var d,h;if(n){const _=document.createRange();_.selectNode(n.childNodes.item(0));const M=K.toSlateRange(i,_,{exactMatch:!1});let C=S.common(M.anchor.path,M.focus.path);for(;C.length!==0;){if(g.isBlock(i,x.get(i,C))){o.current=g.pathRef(i,C);break}C=S.parent(C)}}else o.current&&((h=(d=o.current).unref)==null||h.call(d)),o.current=void 0},[n]);const[v,E]=y.exports.useState(!1),u=(()=>{const d=t.children[0];return t.children.length===1&&F.isText(d)&&d.text===""})();return Le()?typeof e=="function"?e({active:v,pathRef:o.current}):e:c(St,{appendTo:document.body,arrow:!1,getReferenceClientRect:w,hideOnClick:!1,interactive:!0,interactiveBorder:12,offset:[0,8],onTrigger:a,placement:"left",popperOptions:{modifiers:[{name:"flip",options:{allowedAutoPlacements:["left"]}}]},ref:r,render:()=>c(Qt,{element:t,extraWidth:l,isEmpty:u,items:s,setActive:E}),children:typeof e=="function"?e({active:v,pathRef:o.current}):e})}const Xt=["markdown","javascript","typescript","jsx","tsx","sql","bash","go","rust","json","log"],re=Symbol("prism_token"),ot=({attributes:t,element:e,children:n},r)=>c("pre",O(N({},t),{className:Z({active:r},e.lang?`language-${e.lang}`:void 0),children:c("code",{className:"prism-code",children:n})})),st=B({type:"code",isInline:!1,isLeaf:!1,wrappingParagraph:!1,contentType:T.flow,contentModelType:T.value,render:(t,e)=>{const{element:n}=e;return Le()?ot(e,!1):c(ne,{element:n,children:({active:o,pathRef:i})=>c(ce,{appendTo:document.body,content:c("select",{className:"lang-selector",contentEditable:!1,onChange:s=>{(i==null?void 0:i.current)&&m.setNodes(t,{lang:s.currentTarget.value},{at:i.current})},tabIndex:void 0,value:n.lang||void 0,children:Xt.map(s=>c("option",{children:s},s))}),interactive:!0,placement:"top-start",children:ot(e,o)})})},toggle:{prefix:/^`{3}(?: (\w+))?$/,toggle:(t,e,n)=>t.runAction("toggle-codeblock",e),onTrigger:(t,e,n)=>{if(n.length>1)return;const r=/^`{3}(?: (\w+))?$/.exec(t);return r?{lang:r[1]||"markdown",meta:void 0}:{lang:"markdown",meta:void 0}}},events:{},decorate:(t,[e,n],r)=>{if(F.isText(e)&&r.lang){const o=$e.languages[r.lang];if(!o)return[];const i=[],s=$e.tokenize(e.text,o);let a=0;for(const l of s){const p=at(l),b=a+p;typeof l!="string"&&i.push({[re]:l.type,anchor:{path:n,offset:a},focus:{path:n,offset:b}}),a=b}return i}return[]}}),at=t=>typeof t=="string"?t.length:typeof t.content=="string"?t.content.length:t.content.reduce((e,n)=>e+at(n),0);var Jt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",SYMBOL_PRISM_TOKEN:re,default:st}),P;(function(t){t.strong="strong",t.emphasis="emphasis",t.delete="delete",t.inlineCode="inlineCode"})(P||(P={}));const oe=B({isLeaf:!0,contentType:T.staticPhrasing,contentModelType:T.value,canContainsContentModelTypeOf:t=>t.inlineCode?T.value:(t.strong||t.emphasis||t.delete,T.phrasing),normalize:(t,e,n,r)=>{if(e.text===""){const o=[P.strong,P.emphasis,P.delete,P.inlineCode].filter(i=>!!e[i]);o.length>0&&m.unsetNodes(t,o,{at:n})}},render(t,{leaf:e,children:n,attributes:r}){let o=n;return e[re]&&(o=c("span",{className:Z(e[re]?`token ${e[re]}`:void 0,r.className),children:o})),e.delete&&(o=c("del",{children:o})),e.emphasis&&(o=c("em",{children:o})),e.strong&&(o=c("strong",{children:o})),e.inlineCode&&(o=c("code",{children:o})),c("span",O(N({},r),{children:o}))},toggleDecorator:(t,e,n)=>{const r=lt(t),o=i=>r(x.get(t,i.anchor.path),i.anchor.path);Pe(t,e,n)?U.isCollapsed(e)?o(e)&&g.addMark(t,n,!1):m.setNodes(t,{[n]:!1},{match:r,split:!0}):U.isCollapsed(e)?o(e)&&(g.addMark(t,n,!0),n===P.inlineCode?(g.addMark(t,P.inlineCode,!1),g.addMark(t,P.emphasis,!1),g.addMark(t,P.delete,!1)):g.addMark(t,P.inlineCode,!1)):(m.setNodes(t,{[n]:!0},{match:r,split:!0}),n===P.inlineCode?m.unsetNodes(t,[P.delete,P.emphasis,P.strong],{match:r,split:!0}):m.unsetNodes(t,P.inlineCode,{match:r,split:!0}))}});function Pe(t,e,n){if(!K.hasRange(t,e))return!1;const r=g.marks(t);return r?!!r[n]:!1}const it=(t,e)=>{const[n]=g.nodes(t,{at:e,match:r=>!t.isEditable(r)});return!n},ge=(t,e)=>{const n=Ne(t),[r]=g.nodes(t,{at:e,match:n});return!!r},lt=t=>(e,n)=>{const r=Ne(t);if(!F.isText(e))return!1;const o=x.parent(t,n);return D.isElement(o)?r(o,S.parent(n)):!1},Ne=t=>(e,n)=>{if(D.isElement(e)){const r=t.factory.customElementMap.get(e.type);return r&&r.contentModelType?Q(r.contentModelType,T.phrasing):!1}else return!1};function Ae(t,e,n,r){if(U.isRange(e)){if(!K.hasRange(t,e))return!1}else if(S.isPath(e)){if(!g.hasPath(t,e))return!1}else if(!K.hasRange(t,{anchor:e,focus:e}))return!1;if(S.isPath(e)){const i=x.get(t,e);return R(i,n)&&(r?r(i):!0)}const[o]=g.nodes(t,{at:U.isRange(e)?g.unhangRange(t,e):e,match:i=>!g.isEditor(i)&&R(i,n)&&(r?r(i):!0)});return!!o}var Zt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",get TextNodeDecorator(){return P},isDecoratorActive:Pe,isRangeEditable:it,isRangeCustomTextPropsEnabled:ge,isCustomTextPropsEnabled:lt,isPhrasing:Ne,isElementActive:Ae,default:oe});W.add(qe);const Re=B({type:"link",isInline:!0,isLeaf:!1,contentType:T.phrasing,contentModelType:T.staticPhrasing,normalize:(t,e,n,r)=>{x.string(e).trim().length===0&&(m.removeNodes(t,{at:n}),r())},render:(t,{element:e,attributes:n,children:r})=>c("a",O(N({href:e.url,onClick:()=>window.open(e.url,"_blank"),style:{display:"inline-flex",cursor:"pointer"}},n),{children:r})),insert:(t,e,o)=>{var i=o,{text:n}=i,r=xe(i,["text"]);m.insertNodes(t,[N({type:"link",children:[{text:n}]},r),{text:" "}],{at:e,select:!0}),Et.isPoint(e)&&m.move(t,{distance:1})},match:{regexp:kt()}});var en=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Re});class tn{constructor(e,n){j(this,"state",[]);this.factory=e,this.editor=n}process(e){const[n,r]=e;if(g.isEditor(n))return this.state=[],[];if(D.isElement(n)){const o=this.factory.customElementMap.get(n.type);if(o&&!o.isInline){const i=o;if(i.decorate)return this.state.push({element:n,path:r,config:i}),[]}}if(this.state.length>0){for(const o of this.state.reverse())if(S.isAncestor(o.path,r))return o.config.decorate(this.editor,e,o.element)}return[]}}class nn{constructor(){j(this,"blockConfigs",[]);j(this,"inlineConfigs",[]);j(this,"textConfig");j(this,"inlineSet",new Set);j(this,"voidSet",new Set);j(this,"nonEditableSet",new Set);j(this,"customElementMap",new Map);j(this,"contentTypeMap",new Map);j(this,"contentModelTypeMap",new Map);j(this,"editorWrapHandlers",[]);j(this,"editorMountedHandlers",[])}use(e){return console.debug("factory.use",e.name),e(this),this}define(e){return e.isLeaf?this.textConfig=e:(e.isInline?(this.inlineSet.add(e.type),this.inlineConfigs.push(e)):this.blockConfigs.push(e),this.customElementMap.set(e.type,e),this.contentModelTypeMap.set(e.type,e.contentModelType),this.contentTypeMap.set(e.type,e.contentType),e.contentModelType===null&&this.voidSet.add(e.type),e.isEditable&&this.nonEditableSet.add(e.type)),this}onWrapEditor(e){this.editorWrapHandlers.push(e)}onEditorMounted(e){this.editorMountedHandlers.push(e)}triggerEditorMounted(e){this.editorMountedHandlers.forEach(n=>n(e))}wrapEditor(e){const{isVoid:n,isInline:r,normalizeNode:o,insertBreak:i}=e;e.factory=this;function s(a){g.isEditor(a)?(console.group("#root"),a.children.forEach(s),console.groupEnd()):D.isElement(a)?(console.group(a.type),a.children.forEach(s),console.groupEnd()):console.debug("text")}return window.debugPrintTree=()=>s(e),window.debugEditor=e,e.isContent=(a,l)=>D.isElement(a)?this.contentTypeMap.get(a.type)===l:F.isText(a)?this.textConfig.contentType===l:!1,e.canContainsContent=(a,l)=>{if(g.isEditor(a))return l===T.flow;if(D.isElement(a)){const p=this.contentModelTypeMap.get(a.type);return p?Q(l,p):!1}else return F.isText(a)?Q(l,oe.canContainsContentModelTypeOf(a)):!1},e.getContentType=a=>D.isElement(a)?this.contentTypeMap.get(a.type)||null:F.isText(a)&&this.textConfig.contentType||null,e.getContentModelType=a=>g.isEditor(a)?T.flow:D.isElement(a)?this.contentModelTypeMap.get(a.type)||null:F.isText(a)?this.textConfig.contentModelType:null,e.getContentTypePair=a=>D.isElement(a)?[this.contentTypeMap.get(a.type)||null,this.contentModelTypeMap.get(a.type)||null]:F.isText(a)?[this.textConfig.contentType||null,this.textConfig.contentModelType||null]:[null,null],e.toggle=(a,l,p)=>{const b=e.canToggle(a,l,!0);if(!b)return!1;const[[w,v],E]=b,u=typeof p=="object"?p:{};switch(E){case G.replace:return m.unsetNodes(e,Object.keys(x.extractProps(w)),{at:v}),m.setNodes(e,O(N({type:l.type},u),{children:[]}),{at:v}),!0;case G.wrap:return m.wrapNodes(e,N({type:l.type},u),{at:v}),!0;case G.custom:throw new Error("TODO: ToggleStrategy.custom");default:throw new Error("unknown ToggleStrategy: "+E)}},e.canToggle=(a,l,p)=>{const[b]=a,[w,v]=e.getContentTypePair(b);if(l.contentType!==w)return!1;if(l.contentModelType===v)return[a,G.replace];if(l.contentModelType===w)return[a,G.wrap];if(!p)return!1;const E=x.ancestors(e,a[1],{reverse:!0});for(const u of E){const f=e.canToggle(u,l,!1);if(f)return f}return!1},e.unwrap=(a,l)=>{if(!e.canUnwrap(a,l))return!1;const[p,b]=a,w=[[[]]];let v=[[p,[]]],E=0;for(;E<l.length-1;){const u=[];for(const[f,d]of v)for(const[h,_]of f.children.entries())u.push([_,d.concat(h)]);E+=1,v=u,w.push(u.map(([,f])=>f))}for(const u of w.reverse())for(const f of u.reverse())m.unwrapNodes(e,{at:b.concat(f),split:!0});return!0},e.canUnwrap=([a,l],p)=>{if(p.length===0)return!0;const b=e.getContentModelType(x.parent(e,l)),w=p[p.length-1].contentModelType;if(!b||!w||!Q(w,b))return!1;let v=[[a,[]]],E=0;for(;E<p.length;){const u=[];for(const[f,d]of v){if(!R(f,p[E].type))return!1;for(const[h,_]of f.children.entries())u.push([_,d.concat(h)])}E+=1,v=u}return!0},e.wrap=(a,l,p)=>{if(!e.canWrap(a,l,p))return!1;const[,b]=a;let w=l.length-1;for(;w>=0;){const v=l[w],E=p[w];m.wrapNodes(e,Object.assign({type:v.type,children:[]},E),{at:b}),w--}return!0},e.canWrap=(a,l,p)=>{console.assert(l.length===p.length,"editor.canWrap: configs.length should be equals to params.length");const[b,w]=a,v=x.parent(e,w);let E=0,u=e.getContentModelType(v);for(;E<l.length;){const d=l[E];if(u===null||!Q(d.contentType,u))return!1;u=d.contentModelType,E+=1}if(u===null)return!1;const f=e.getContentType(b);return f?Q(f,u):!1},e.nearest=(a,l)=>{const[p,b]=a;if(R(p,l.type))return a;for(const w of x.ancestors(e,b,{reverse:!0}))if(R(w[0],l.type))return w},e.isVoid=a=>this.voidSet.has(a.type)||n(a),e.isInline=a=>this.inlineSet.has(a.type)||r(a),e.isEditable=a=>D.isElement(a)?this.nonEditableSet.has(a.type):!0,e.normalizeNode=a=>{let l=!0;const p=()=>{l=!1};g.withoutNormalizing(e,()=>{var v;const[b,w]=a;if(D.isElement(b)){const E=(v=this.customElementMap.get(b.type))==null?void 0:v.normalize;E&&E(e,b,w,p)}F.isText(b)&&this.textConfig.normalize&&this.textConfig.normalize(e,b,w,p),g.isEditor(b)&&(b.children.length===0?m.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:[0]}):R(b.children[b.children.length-1],"paragraph")||m.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:[b.children.length]}))}),l&&o(a)},e.insertBreak=()=>{if(e.selection){const a=x.parent(e,e.selection.anchor.path);if(e.getContentModelType(a)!==T.phrasing){m.insertText(e,`
`);return}}i()},this.editorWrapHandlers.forEach(a=>a(e)),e}createDefaultEditableProps(e){const n=u=>{var d;const{selection:f}=e;if(f&&U.isCollapsed(f)){const h=f.anchor,_=x.get(e,h.path),M=x.parent(e,h.path);if(F.isText(_)&&D.isElement(M)&&M.type==="paragraph"&&u.data===" "&&!S.hasPrevious(h.path)){const C=_.text.slice(0,h.offset);for(const{toggle:A}of this.blockConfigs)if(!(typeof A.estimatePrefixLength=="number"&&C.length>A.estimatePrefixLength)&&((d=A.prefix)==null?void 0:d.test(C))){const z=A.onTrigger(C,e,S.parent(h.path));if(typeof z!="undefined"){m.delete(e,{at:{path:h.path,offset:0},distance:h.offset}),A.toggle(e,S.parent(h.path),z),u.preventDefault();return}}}if(F.isText(_)&&!R(M,"link")&&u.data===" "){for(const C of this.inlineConfigs)if(C.match){const A=C.match.regexp.exec(_.text.slice(0,h.offset));if(A){const z=A[0],H=A.index,Y=A.index+z.length,ae={anchor:{path:h.path,offset:H},focus:{path:h.path,offset:Y}};Re.insert(e,ae,{url:z,title:"",text:z}),u.preventDefault();return}}}if(g.isInline(e,M)){const C=S.parent(h.path).concat(M.children.length);m.insertNodes(e,{text:u.data||""},{at:C}),m.move(e,{distance:1}),u.preventDefault();return}}},r=(u,f)=>d=>{const{selection:h}=e;if(h&&U.isCollapsed(h)){const _=h.anchor,M=S.parent(_.path),C=x.get(e,M);if(D.isElement(C)){const A=this.customElementMap.get(C.type);if(!A||A.isInline)return;const z=f(A.events);if(z&&z(e,_.path)){d.preventDefault();return}if(rn(e,_)){if(A){const H=u(A.events);if(H&&H(e,_.path)){d.preventDefault();return}}if(C.type==="paragraph"){const H=x.parent(e,M);if(!S.hasPrevious(M)&&D.isElement(H)){const Y=this.customElementMap.get(H.type);if(Y==null?void 0:Y.wrappingParagraph){const ae=u(Y.events);if(ae&&ae(e,_.path)){d.preventDefault();return}}}}}}}},o=r(u=>u.onStartDelete,u=>u.onDeleteText),i=r(u=>u.onStartEnter,u=>u.onInsertParagraph),a=(u=>f=>{const{selection:d}=e;if(d&&U.isCollapsed(d)){const h=d.anchor,_=S.parent(h.path),M=x.parent(e,h.path);if(D.isElement(M)){const C=this.customElementMap.get(M.type);if(C){const A=u(C.events);if(A&&A(e,h.path)){f.preventDefault();return}}if(M.type==="paragraph"){const A=x.parent(e,_);if(D.isElement(A)){const z=this.customElementMap.get(A.type);if(z==null?void 0:z.wrappingParagraph){const H=u(z.events);if(H&&H(e,h.path)){f.preventDefault();return}}}}}}})(u=>u.onTab),l=new tn(this,e),p=u=>l.process(u),b=(u,f)=>{const d=f?g.rangeRef(e,f):null;e.uploadFile&&Promise.all(u.map(e.uploadFile)).then(h=>h.map((_,M)=>({type:"image",url:_,title:void 0,alt:u[M].name,children:[{text:""}]}))).then(h=>{var _;m.insertNodes(e,h,{at:(_=d==null?void 0:d.current)!=null?_:g.last(e,[])[1]})}).catch(console.error)},w=(u,f)=>{const d=[...u.files].filter(h=>/image\/*/.test(h.type));d.length>0&&b(d,f)};return{renderElement:u=>{const f=this.customElementMap.get(u.element.type);return f?f.render(e,u):(console.warn(`${u.element.type} not impl`),y.exports.createElement("div",u.attributes,u.children))},renderLeaf:u=>this.textConfig?this.textConfig.render(e,u):y.exports.createElement("span",u.attributes,u.children),decorate:p,onDOMBeforeInput:u=>{ct(e,()=>{switch(console.log(u.inputType),u.inputType){case"insertText":n(u);break;case"deleteContentBackward":o(u);break;case"insertParagraph":i(u);break}})},onKeyDown:u=>{ct(e,()=>{if(pe("tab",u)){a(u);return}if(pe(["ctrl+enter"],u)){m.insertText(e,`
`);return}if(e.selection){if(pe("meta+b",u)){oe.toggleDecorator(e,e.selection,P.strong),u.preventDefault();return}if(pe("meta+i",u)){oe.toggleDecorator(e,e.selection,P.emphasis),u.preventDefault();return}}})},onSelect:u=>{const f=window.getSelection();f&&(f.isCollapsed?e.hideSelectionToolbar():f.rangeCount>0&&e.updateSelectionToolbar(f.getRangeAt(0)))},onBlur:u=>{e.hideSelectionToolbar()},onClick:()=>{},onPaste:u=>{const f=u.clipboardData;!f||w(f,e.selection)},onDrop:u=>{w(u.dataTransfer,K.findEventRange(e,u))}}}createDefaultChildren(e){return[]}}function rn(t,e){return e.offset===0&&!S.hasPrevious(e.path)&&F.isText(x.get(t,e.path))}function ct(t,e){let n=!0;g.withoutNormalizing(t,()=>{e(()=>{n=!1})}),n||g.normalize(t)}W.add(fe);const $=B({type:"blockquote",isInline:!1,isLeaf:!1,wrappingParagraph:!0,contentType:T.flow,contentModelType:T.flow,render:(t,{children:e,attributes:n})=>c("blockquote",O(N({},n),{children:e})),toggle:{prefix:/^>$/,toggle:(t,e,n)=>n?t.runAction("indent-blockquote",e):!1,onTrigger(){return!0}},events:{onStartDelete:(t,e)=>{const n=x.parent(t,S.parent(e));return R(n,"blockquote")?t.runAction("outdent-blockquote",S.parent(e)):!1}}});var on=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$});const sn=t=>{let e=!1,n=!1;const r=()=>{e=!0,t.preventDefault()},o=()=>{n=!0,t.stopPropagation()};return{nativeEvent:t,currentTarget:t.currentTarget,target:t.target,bubbles:t.bubbles,cancelable:t.cancelable,defaultPrevented:t.defaultPrevented,eventPhase:t.eventPhase,isTrusted:t.isTrusted,preventDefault:r,isDefaultPrevented:()=>e,stopPropagation:o,isPropagationStopped:()=>n,persist:()=>{},timeStamp:t.timeStamp,type:t.type}};var k;(function(t){t.selection="selection",t.phrasing="phrasing",t.toplevel="toplevel"})(k||(k={}));function an({key:t,type:e,tips:n,defaultParams:r={},action:o,computeState:i,hotkeys:s,icon:a}){const l=N({active:!1,disabled:!1},r),p={key:t,type:e,hotkeys:s!=null?s:[],tips:n!=null?n:null,icon:a!=null?a:null,computeState:i!=null?i:()=>l,action:(b,w,v)=>{const E=p.computeState(b,w);return console.log("run action",t,w,E),E.disabled?!1:o(b,w,E,v)}};return p}function he(t,e,n){const r=n!=null?n:t.selection;if(!!r)switch(e){case k.phrasing:{const o=g.path(t,r),i=x.get(t,o);if(t.getContentModelType(i)===T.phrasing||!F.isText(i)&&t.getContentType(i)===T.flow)return o;for(const[a,l]of x.ancestors(t,o))if(t.getContentModelType(a)===T.phrasing)return l;break}case k.selection:return g.range(t,r);case k.toplevel:{const o=g.path(t,r);if(o.length>=1)return[o[0]];break}}}function ln(t){t.actions=[],t.actionMap=new Map,t.actionTypes={[k.selection]:[],[k.phrasing]:[],[k.toplevel]:[]},t.defineAction=e=>{const n=an(e);t.actionMap.set(n.key,n),t.actionTypes[n.type].push(n),t.actions.push(n)},t.onWrapEditor(e=>{e.runAction=(n,r,o)=>{const i=t.actionMap.get(n);if(!i||(r=he(e,i.type,r),!r))return!1;const s=r;let a;return g.withoutNormalizing(e,()=>{a=i.action(e,s,o!=null?o:sn(new Event("fake")))}),a},e.getActions=(n,r)=>{let o=t.actions;r&&(o=r.map(s=>t.actionMap.get(s)).filter(s=>!!s));const i={[k.toplevel]:he(e,k.toplevel,n),[k.selection]:he(e,k.selection,n),[k.phrasing]:he(e,k.phrasing,n)};return o.map(s=>{const a=i[s.type];return{state:a?s.computeState(e,a):{active:!1,disabled:!0},action:s}})}}),t.lineActions||(t.lineActions=[["toggle-heading-1","toggle-heading-2","toggle-heading-3","toggle-heading-4","toggle-heading-5","toggle-heading-6"],["toggle-ordered-list","toggle-unordered-list","indent-list","outdent-list"],["toggle-blockquote","toggle-codeblock","toggle-table"]]),t.selectionActions||(t.selectionActions=[P.strong,P.emphasis,P.delete,P.inlineCode,"toggle-link","table-insert-row-right","table-insert-row-left","table-insert-row-above","table-insert-row-below"])}function cn(t){t.defineAction({key:"toggle-blockquote",icon:c(I,{icon:fe}),type:k.phrasing,computeState:(e,n)=>{const r=[x.get(e,n),n],o=e.nearest(r,$),i=!!o;let s;return o?s=!e.canUnwrap(o,[$]):s=!e.canToggle(r,$,!1),{active:i,disabled:s,blockquoteEntry:o}},action:(e,n,r)=>{if(r.active){if(r.blockquoteEntry)return e.unwrap(r.blockquoteEntry,[$])}else return e.toggle([x.get(e,n),n],$,void 0);return!1}}),t.defineAction({key:"indent-blockquote",icon:c(I,{icon:fe}),type:k.phrasing,computeState:(e,n)=>({active:!1,disabled:!e.canToggle([x.get(e,n),n],$,!1)}),action:(e,n)=>e.toggle([x.get(e,n),n],$,void 0)}),t.defineAction({key:"outdent-blockquote",icon:c(I,{icon:fe}),type:k.phrasing,computeState:(e,n)=>{const r=[x.get(e,n),n],o=e.nearest(r,$),i=!!o,s=!o||!e.canUnwrap(o,[$]);return{active:i,disabled:s,blockquoteEntry:o}},action:(e,n,r)=>r.blockquoteEntry?e.unwrap(r.blockquoteEntry,[$]):!1})}var un=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:cn});function pn(t){t.defineAction({key:"toggle-codeblock",type:k.phrasing,icon:c(I,{icon:ue}),computeState:(e,n)=>{const r=x.get(e,n),o=R(r,"code");let i;if(o)i=!1;else{const s=x.parent(e,n),a=e.getContentModelType(s);a?i=!Q(st.contentType,a):i=!0}return{active:o,disabled:i}},action:(e,n,r)=>{const o=x.get(e,n);if(r.active)m.unsetNodes(e,Object.keys(x.extractProps(o)),{at:n}),m.setNodes(e,{type:"paragraph"},{at:n});else{const i=x.string(o);m.removeNodes(e,{at:n}),m.insertNodes(e,{type:"code",lang:"markdown",meta:void 0,children:[{text:i}]},{at:n,select:!0})}return!0}})}var fn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:pn});const me=B({type:"heading",isInline:!1,isLeaf:!1,wrappingParagraph:!1,contentType:T.flow,contentModelType:T.phrasing,render:(t,{element:e,children:n,attributes:r})=>c(ne,{element:e,children:({active:o})=>y.exports.createElement(`h${e.depth}`,Object.assign(r,{className:Z({active:o})}),n)}),toggle:{prefix:/^#{1,6}$/,estimatePrefixLength:6,toggle:(t,e,n)=>{n?t.runAction(`toggle-heading-${n.depth}`,e):t.runAction("toggle-paragraph",e)},onTrigger:t=>({depth:t.length})},events:{onInsertParagraph:t=>{if(!t.selection)return!1;const e=g.point(t,t.selection),n=S.parent(g.path(t,t.selection));return g.isStart(t,e,n)?t.runAction("toggle-paragraph",n):g.isEnd(t,e,n)?t.runAction("insert-paragraph",S.next(n)):(m.splitNodes(t,{at:t.selection}),t.runAction("toggle-paragraph",S.next(n)))}}});var dn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:me});W.add(Se);const X=B({type:"paragraph",isLeaf:!1,isInline:!1,wrappingParagraph:!1,contentType:T.flow,contentModelType:T.phrasing,toggle:{},events:{},render(t,{element:e,attributes:n,children:r}){return c(ne,{element:e,children:({active:o})=>c("p",O(N({className:Z({active:o})},n),{children:r}))})}});var gn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:X});function hn(t){[1,2,3,4,5,6].forEach(e=>{const n=`H${e}`;t.defineAction({key:`toggle-heading-${e}`,type:k.phrasing,defaultParams:{depth:e},icon:c("span",{children:n}),computeState:(r,o)=>{const i=[x.get(r,o),o],s=r.nearest(i,me),a=!!s&&s[0].depth===e;let l;return s?l=!r.canToggle(s,X,!1):l=!r.canToggle(i,me,!0),{active:a,disabled:l,depth:e}},action:(r,o,i)=>{const s=[x.get(r,o),o];return i.active?r.toggle(s,X,void 0):r.toggle(s,me,{depth:e})}})})}var mn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:hn});function ut(t,e){e&&(typeof e=="function"?e(t):e.current=t)}function bn(t,e){return n=>{ut(n,t),ut(n,e)}}const Oe=y.exports.forwardRef(function(o,r){var{children:t,attributes:i}=o,s=i,{ref:e}=s,n=xe(s,["ref"]);return c("span",O(N({className:"void-element",contentEditable:!1,ref:bn(r,e)},n),{children:t}))});Oe.displayName="VoidElement";W.add(He);const pt=B({type:"image",isInline:!0,isLeaf:!1,contentType:T.staticPhrasing,contentModelType:null,render:(t,{element:e,attributes:n,children:r})=>L(Oe,{attributes:n,children:[c("img",{alt:e.alt,src:e.url,title:e.title}),r]}),insert:(t,e,n)=>{m.insertNodes(t,[{text:" "},N({type:"image",children:[]},n),{text:" "}],{at:e})}});var yn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:pt});function _n({schema:t,onSubmit:e,defaultValues:n}){return c("div",{contentEditable:!1,children:c(Mt,{className:"action-form",formData:n,onSubmit:r=>e(r.formData),schema:t})})}function xn(t,e){return y.exports.useCallback(()=>t.selection?K.toDOMRange(t,t.selection).getBoundingClientRect():e.getBoundingClientRect(),[t,e])}function wn(t,e){return y.exports.useCallback(()=>{t("user canceled"),e.current&&e.current.hide()},[t])}function vn(){const t=y.exports.useRef(),e=y.exports.useCallback(n=>{t.current=n},[t]);return[t,e]}function Tn(t,e,n,r){const o=y.exports.useCallback(i=>{var s;e(i),(s=r.current)==null||s.hide()},[e,r]);return y.exports.useMemo(()=>c(_n,{defaultValues:n,onSubmit:o,schema:t}),[t,o])}function Sn({editor:t,el:e,reject:n,resolve:r,schema:o,defaultValues:i}){const[s,a]=vn(),l=xn(t,e),p=wn(n,s),b=Tn(o,r,i,s);return c(ce,{content:b,getReferenceClientRect:l,interactive:!0,onClickOutside:p,onMount:a,placement:"right-start",visible:!0,children:c("span",{})})}function De(t,e,n,r){return new Promise((o,i)=>{t.setActionForm(c(Sn,{defaultValues:r,editor:t,el:e,reject:i,resolve:o,schema:n}))}).catch(o=>{if(o==="user canceled")return Promise.resolve(void 0);throw o})}const En="\u6DFB\u52A0\u56FE\u7247",kn="object",Mn={src:{title:"\u94FE\u63A5",type:"string",format:"url"},alt:{title:"\u66FF\u4EE3\u6587\u672C\uFF08alt\uFF09",type:"string"}},Cn=["src","alt"];var Pn={title:En,type:kn,properties:Mn,required:Cn};function Nn(t){t.defineAction({key:"toggle-image",type:k.selection,icon:c(I,{icon:He}),computeState:(e,n)=>{const r=Ae(e,n,"image"),o=!S.equals(S.parent(n.focus.path),S.parent(n.anchor.path))||!ge(e,n);return{active:r,disabled:o}},action:(e,n,r,o)=>{if(r.active)return m.unwrapNodes(e,{at:g.unhangRange(e,n),match:i=>!g.isEditor(i)&&D.isElement(i)&&i.type==="image"}),!0;{const i=g.rangeRef(e,n);return De(e,o.target,Pn,{alt:g.string(e,n),src:""}).then(s=>{if(!!i.current&&s){const{src:a,alt:l}=s;g.withoutNormalizing(e,()=>{pt.insert(e,n,{url:a,title:"",alt:l})})}}).finally(()=>{i.unref()}),!1}}})}var An=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:Nn});const Rn="\u6DFB\u52A0\u8D85\u94FE\u63A5",On="object",Dn={src:{title:"\u94FE\u63A5",type:"string",format:"url"},text:{title:"\u663E\u793A\u6587\u672C",type:"string"}},zn=["src","text"];var In={title:Rn,type:On,properties:Dn,required:zn};function Bn(t){t.defineAction({key:"toggle-link",type:k.selection,icon:c(I,{icon:qe}),computeState:(e,n)=>{const r=Ae(e,n,"link"),o=!S.equals(S.parent(n.focus.path),S.parent(n.anchor.path))||!ge(e,n);return{active:r,disabled:o}},action:(e,n,r,o)=>{if(r.active)return m.unwrapNodes(e,{at:g.unhangRange(e,n),match:i=>!g.isEditor(i)&&D.isElement(i)&&i.type==="link"}),!0;{const i=g.rangeRef(e,n);return De(e,o.target,In,{text:g.string(e,n),src:""}).then(s=>{if(!!i.current&&s){const{src:a,text:l}=s;g.withoutNormalizing(e,()=>{Re.insert(e,n,{url:a,title:"",text:l})})}}).finally(()=>{i.unref()}),!1}}})}var jn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:Bn});W.add(We,Ue);const V=B({type:"listItem",isLeaf:!1,isInline:!1,wrappingParagraph:!0,contentType:T.list,contentModelType:T.flow,normalize:(t,e,n,r)=>{if(e.children.length>0)if(R(e.children[0],"list")){m.moveNodes(t,{at:n.concat(0),to:S.parent(n)}),r();return}else{const s=e.children.length-1;if(e.children.length>1&&R(e.children[s],"paragraph")){const a=S.next(n);m.moveNodes(t,{at:n.concat(s),to:a}),m.wrapNodes(t,{type:"listItem",checked:e.checked,spread:e.spread,children:[]},{at:a}),r();return}}else{m.removeNodes(t,{at:n}),r();return}const o=x.parent(t,n);t.getContentModelType(o)!==T.list&&(m.wrapNodes(t,{type:"list",ordered:!1,start:void 0,spread:void 0,children:[]},{at:n}),r())},render(t,{element:e,attributes:n,children:r}){return c("li",O(N({},n),{children:r}))},toggle:{},events:{onStartDelete:(t,e)=>t.runAction("outdent-list",S.parent(e)),onStartEnter:(t,e)=>x.string(x.get(t,e))?!1:t.runAction("outdent-list",S.parent(e)),onTab:(t,e)=>t.runAction("indent-list",S.parent(e))}});var Fn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:V});W.add(Ve,Ke);const q=B({type:"list",isLeaf:!1,isInline:!1,wrappingParagraph:!0,contentType:T.flow,contentModelType:T.list,normalize:(t,e,n,r)=>{if(e.children.length===0){m.removeNodes(t,{at:n}),r();return}if(S.hasPrevious(n)){const o=x.get(t,S.previous(n));if(R(o,"list")&&Boolean(o.ordered)===Boolean(e.ordered)&&o.start===void 0&&e.start===void 0){m.mergeNodes(t,{at:n}),r();return}}},render(t,{element:e,attributes:n,children:r}){return e.ordered?c("ol",O(N({},n),{start:e.start,children:r})):c("ul",O(N({},n),{children:r}))},toggle:{prefix:/^(?:-|\d+\.)$/,toggle:(t,e,n)=>{if(n===!1)throw new Error("should never reach");{let r;return t.runActionParams=n,t.nearest([x.get(t,e),e],q)?r=t.runAction("indent-list",e):r=t.runAction(`toggle-${n.ordered?"ordered":"unordered"}-list`,e),t.runActionParams=void 0,r}},onTrigger:t=>{if(t==="-")return{ordered:!1,start:void 0,spread:void 0};{const e=parseInt(t);return{ordered:!0,start:e===1?void 0:e,spread:void 0}}}},events:{}});var Ln=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:q});const ft=t=>{let e,n;if(t.runActionParams&&typeof t.runActionParams=="object"){const{ordered:r,start:o}=t.runActionParams;typeof r=="boolean"&&(e=r),typeof o=="number"&&(n=o)}return{ordered:e,start:n}};function $n(t){t.defineAction({key:"indent-list",type:k.phrasing,icon:c(I,{icon:We}),computeState:(e,n)=>{const r=[x.get(e,n),n],o=e.nearest(r,V),i=e.nearest(o!=null?o:r,q),s=!1,a=!i||!o||!S.hasPrevious(o[1])||i[0].children.length<=1;return N({active:s,disabled:a,listEntry:i,listItemEntry:o},ft(e))},action:(e,n,r)=>{var s;const{listEntry:o,listItemEntry:i}=r;return!i||!o?!1:e.wrap(i,[V,q],[{spread:void 0,checked:void 0},{ordered:(s=r.ordered)!=null?s:o[0].ordered,spread:void 0,start:r.start}])?(m.mergeNodes(e,{at:i[1]}),!0):!1}}),t.defineAction({key:"outdent-list",type:k.phrasing,icon:c(I,{icon:Ue}),computeState:(e,n)=>{const r=[x.get(e,n),n],o=e.nearest(r,V),i=e.nearest(o!=null?o:r,q);return{active:!1,disabled:!i||!o,listEntry:i,listItemEntry:o}},action:(e,n,r)=>{const{listEntry:o,listItemEntry:i}=r;if(!i||!o)return!1;const s=g.pathRef(e,i[1]),a=S.next(i[1]);if(g.hasPath(e,a)&&m.splitNodes(e,{at:a}),m.splitNodes(e,{at:i[1]}),s.current){const l=S.parent(s.current),p=[x.get(e,l),l];e.unwrap(p,[q,V]),m.splitNodes(e,{at:l})}return s.unref(),!0}}),[!0,!1].forEach(e=>{const n={ordered:e,spread:void 0,start:void 0},r={spread:void 0,checked:void 0};t.defineAction({key:`toggle-${e?"ordered":"unordered"}-list`,type:k.phrasing,icon:c(I,{icon:e?Ve:Ke}),computeState:(o,i)=>{const s=[x.get(o,i),i],a=o.nearest(s,q),l=a?Boolean(a[0].ordered)===Boolean(e):!1;let p;return a?l?p=!o.canUnwrap(a,[q,V]):p=!0:p=!o.canWrap(s,[q,V],[n,r]),{active:l,disabled:p,listEntry:a}},action:(o,i,s)=>{const a=[x.get(o,i),i],{ordered:l,start:p}=ft(o);return s.listEntry?s.active?o.unwrap(s.listEntry,[q,V]):(m.setNodes(o,{ordered:l,start:p},{at:s.listEntry[1]}),!0):o.wrap(a,[q,V],[Object.assign({},n,{start:p}),r])}})})}var qn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:$n});function Hn(t){t.defineAction({key:"toggle-paragraph",type:k.phrasing,icon:c(I,{icon:Se}),computeState:(e,n)=>{const r=[x.get(e,n),n],o=e.nearest(r,X),i=!!o;let s;return o?s=!0:s=!e.canToggle(r,X,!0),{active:i,disabled:s}},action:(e,n,r)=>{const o=[x.get(e,n),n];return r.active?!1:e.toggle(o,X,void 0)}}),t.defineAction({key:"insert-paragraph",type:k.toplevel,icon:c(I,{icon:Se}),computeState:()=>({active:!1,disabled:!1}),action:(e,n,r)=>(m.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:n,select:!0}),!0)})}var Wn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:Hn});const be=y.exports.createContext({isHeader:!1});var Un=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",TableContext:be});const dt=B({type:"tableCell",isInline:!1,isLeaf:!1,contentType:T.tableRow,contentModelType:T.phrasing,wrappingParagraph:!1,events:{onStartDelete:(t,e)=>!0,onInsertParagraph:(t,e)=>(t.insertText(`
`),!0)},toggle:{},render:(t,{element:e,attributes:n,children:r})=>c(be.Consumer,{children:({isHeader:o})=>o?c("th",O(N({},n),{children:r})):c("td",O(N({},n),{children:r}))})});var Vn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:dt});W.add(Qe);const gt=B({type:"table",isInline:!1,isLeaf:!1,contentType:T.flow,contentModelType:T.table,wrappingParagraph:!1,events:{},toggle:{},render:(t,{element:e,attributes:n,children:r})=>{const[o,...i]=r,s={isHeader:!0,align:e.align},a={isHeader:!1,align:e.align};return c(ne,{element:e,children:L("table",O(N({},n),{children:[c(be.Provider,{value:s,children:c("thead",{children:o})}),c(be.Provider,{value:a,children:c("tbody",{children:i})})]}))})}});var Kn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:gt});const Qn=B({type:"tableRow",isInline:!1,isLeaf:!1,contentType:T.table,contentModelType:T.tableRow,wrappingParagraph:!1,events:{},toggle:{},render:(t,{element:e,attributes:n,children:r})=>c("tr",O(N({},n),{children:r}))});var Gn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Qn});const Yn="\u6DFB\u52A0\u56FE\u7247",Xn="object",Jn={cols:{title:"\u5217\u6570",type:"number",min:2},rows:{title:"\u884C\u6570",type:"number",min:2}},Zn=["cols","rows"];var er={title:Yn,type:Xn,properties:Jn,required:Zn};const tr=t=>{let e,n;if(t.runActionParams&&typeof t.runActionParams=="object"){const{rows:r,cols:o}=t.runActionParams;typeof r=="boolean"&&(e=r),typeof o=="number"&&(n=o)}return{rows:e,cols:n}},ze=t=>t.children.length>0?t.children[0].children.length:0;function ht(t,e,n){let r;return t.selection&&([r]=g.nodes(t,{at:t.selection,mode:"lowest",match:o=>R(o,"tableRow")})),r?r[1]:e.concat(n)}function mt(t,e){let n;if(t.selection){const r=t.selection.focus.path,o=t.nearest([x.get(t,r),r],dt);o&&(n=o[1][o[1].length-1])}return typeof n!="number"&&(n=e),n}function bt(t,e,n){m.insertNodes(t,{type:"tableRow",children:Array(n).fill(0).map(()=>({type:"tableCell",children:[{text:""}]}))},{at:e})}function yt(t,e,n){for(const[r]of Array(e[0].children.length).fill(0).entries()){const o=e[1].concat(r,n);m.insertNodes(t,{type:"tableCell",children:[{text:""}]},{at:o})}}function nr(t){t.defineAction({key:"toggle-table",type:k.phrasing,icon:c(I,{icon:Qe}),computeState:(e,n)=>{const r=x.get(e,n),o=R(r,"table");let i,s;if(o)s=!1,i=[r,n];else{const a=x.parent(e,n),l=e.getContentModelType(a);l?s=!Q(gt.contentType,l):s=!0}return{active:o,disabled:s,tableEntry:i}},action:(e,n,r,o)=>{if(tr(e),r.active){if(!r.tableEntry)return!1;const[i,s]=r.tableEntry,a=[...x.texts(i)].map(([l])=>l.text).join(" ");return m.removeNodes(e,{at:s}),m.insertNodes(e,{type:"paragraph",children:[{text:a}]},{at:s}),!0}else{const i=g.pathRef(e,n);return De(e,o.target,er,{cols:2,rows:2}).then(s=>{const a=i.current;!a||s&&g.withoutNormalizing(e,()=>{const{cols:l,rows:p}=s;m.removeNodes(e,{at:a}),m.insertNodes(e,{type:"table",align:void 0,children:Array(p).fill(0).map(()=>({type:"tableRow",children:Array(l).fill(0).map(()=>({type:"tableCell",children:[{text:""}]}))}))},{at:a})})}).finally(()=>i.unref()),!0}}}),t.defineAction({key:"table-insert-row-above",type:k.selection,icon:c(Ct,{}),computeState:(e,n)=>{const[r]=g.nodes(e,{at:n,mode:"lowest",match:o=>R(o,"table")});return{active:!1,disabled:!r,tableEntry:r}},action:(e,n,r)=>{if(!r.tableEntry)return!1;const[o,i]=r.tableEntry,s=ht(e,i,0),a=ze(o);return bt(e,s,a),!0}}),t.defineAction({key:"table-insert-row-below",type:k.selection,icon:c(Pt,{}),computeState:(e,n)=>{const[r]=g.nodes(e,{at:n,mode:"lowest",match:o=>R(o,"table")});return{active:!1,disabled:!r,tableEntry:r}},action:(e,n,r)=>{if(!r.tableEntry)return!1;const[o,i]=r.tableEntry,s=ht(e,i,o.children.length-1);s[s.length-1]+=1;const a=ze(o);return bt(e,s,a),!0}}),t.defineAction({key:"table-insert-row-left",type:k.selection,icon:c(Nt,{}),computeState:(e,n)=>{const[r]=g.nodes(e,{at:n,mode:"lowest",match:o=>R(o,"table")});return{active:!1,disabled:!r,tableEntry:r}},action:(e,n,r)=>{if(!r.tableEntry)return!1;const o=mt(e,0);return yt(e,r.tableEntry,o),!0}}),t.defineAction({key:"table-insert-row-right",type:k.selection,icon:c(At,{}),computeState:(e,n)=>{const[r]=g.nodes(e,{at:n,mode:"lowest",match:o=>R(o,"table")});return{active:!1,disabled:!r,tableEntry:r}},action:(e,n,r)=>{if(!r.tableEntry)return!1;const o=mt(e,ze(r.tableEntry[0])-1)+1;return yt(e,r.tableEntry,o),!0}})}var rr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:nr});function or(t){[{key:P.strong,icon:we,tips:c(de,{children:"\u52A0\u7C97"})},{key:P.emphasis,icon:ve,tips:c(de,{children:"\u659C\u4F53"})},{key:P.inlineCode,icon:ue,tips:c(de,{children:"\u884C\u5185\u4EE3\u7801"})},{key:P.delete,icon:Te,tips:c(de,{children:"\u5220\u9664"})}].forEach(({icon:e,key:n,tips:r})=>{t.defineAction({key:n,type:k.selection,icon:c(I,{icon:e}),tips:r,computeState:(o,i)=>{const s=Pe(o,i,n),a=!ge(o,i);return{active:s,disabled:a}},action:(o,i,s,a)=>(oe.toggleDecorator(o,i,n),!0)})})}var sr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:or}),ar=B({type:"thematicBreak",isLeaf:!1,isInline:!1,wrappingParagraph:!1,contentType:T.flow,contentModelType:null,render(t,{element:e,children:n,attributes:r}){return c(ne,{element:e,children:L(Oe,{attributes:r,children:[c("hr",{}),n]})})},toggle:{prefix:/^---$/,estimatePrefixLength:3,toggle:(t,e,n)=>{n?(m.removeNodes(t,{at:e}),m.insertNodes(t,{type:"paragraph",children:[{text:""}]},{at:e}),m.insertNodes(t,{type:"thematicBreak",children:[]},{at:e}),K.deselect(t),m.select(t,g.start(t,S.next(e)))):m.setNodes(t,{type:"thematicBreak",children:[{text:""}]},{at:e})},onTrigger:(t,e,n)=>{if(!(n.length>1))return!0}},events:{}}),ir=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ar});const lr={"./blockquote/BlockquoteNode.tsx":on,"./blockquote/action.tsx":un,"./code/CodeNode.tsx":Jt,"./code/actions.tsx":fn,"./heading/HeadingNode.tsx":dn,"./heading/actions.tsx":mn,"./image/ImageNode.tsx":yn,"./image/action.tsx":An,"./link/LinkNode.tsx":en,"./link/action.tsx":jn,"./list/ListItemNode.tsx":Fn,"./list/ListNode.tsx":Ln,"./list/actions.tsx":qn,"./paragraph/ParagraphNode.tsx":gn,"./paragraph/actions.tsx":Wn,"./table/TableCellNode.tsx":Vn,"./table/TableNode.tsx":Kn,"./table/TableRowNode.tsx":Gn,"./table/actions.tsx":rr,"./table/context.tsx":Un,"./text/TextNode.tsx":Zt,"./text/actions.tsx":sr,"./thematic-break/ThematicBreakNode.tsx":ir};function cr(t){for(const[e,{default:n,register:r}]of Object.entries(lr)){const o=r||(n==null?void 0:n.register);typeof o=="function"&&(console.debug("auto detected",e),o(t))}}W.add(we,ve,Te,ue);function _t(t,e){if(!!e)return typeof e=="function"?e(t):e}function ur(t,e){var r;if(!e)return[];const n=(r=K.toSlateRange(t,e,{exactMatch:!0}))!=null?r:t.selection;if(n){if(!it(t,n))return[];const[o]=g.nodes(t,{at:n,match:i=>{const s=i.type;if(s){const a=t.factory.customElementMap.get(s);if(a&&a.contentModelType!==T.value)return!0}return!1}});if(!o)return[]}return t.getActions(n!=null?n:void 0,t.factory.selectionActions).map(({action:{key:o,icon:i,tips:s},state:a})=>({key:o,disabled:a.disabled,active:a.active,icon:_t(a,i),tips:_t(a,s),action:l=>{t.runAction(o,n!=null?n:void 0,l)}})).filter(o=>!o.disabled)}function pr(){const t=le(),e=y.exports.useRef(null),n=y.exports.useRef(),[r,o]=y.exports.useState(!0),i=nt(),[s,a]=y.exports.useState([]);t.hideSelectionToolbar=()=>o(!0);const l=y.exports.useMemo(()=>({getBoundingClientRect(){return n.current?n.current.getBoundingClientRect():{width:0,height:0}}}),[t,n]),{styles:p,attributes:b,update:w}=Rt(l,e.current,{placement:"top",modifiers:[{name:"computeStyles",options:{adaptive:!1}},{name:"offset",options:{offset:[0,8]}}]});return t.updateSelectionToolbar=v=>{if(v){const u=!n.current;n.current=v,u&&setTimeout(()=>{t.updateSelectionToolbar()},0)}const E=ur(t,n.current);a(E),E.length>0?(o(!1),w&&w()):o(!0),i()},t.toggleSelectionToolbar=v=>{r?t.updateSelectionToolbar(v):t.hideSelectionToolbar()},c("div",O(N({className:"ti-hovering-toolbar",ref:e,style:O(N({},p.popper),{opacity:r?0:1,pointerEvents:r?"none":"initial"})},b.popper),{children:s.map(v=>c(et,{action:v.action,active:v.active,disabled:v.disabled,icon:v.icon,tips:v.tips},v.key))}))}function fr(t){const e=t.createDefaultChildren.bind(t);t.createDefaultChildren=n=>{const r=e(n);return r.push(y.exports.createElement(pr,{key:"selection-toolbar"})),r},t.onWrapEditor(n=>{n.updateSelectionToolbar=n.hideSelectionToolbar=n.toggleSelectionToolbar=()=>{}})}function ye(t,e,n){let r=t[e];return typeof r=="function"&&(Object.prototype.hasOwnProperty.call(t,e)||(r=r.bind(t))),t[e]=n(r),t}const dr=Ot({proto:!1,circles:!1});function gr(t){const e=[],n=[],r=ee(),o=ee(),i=ee();t.freezeProcessors=()=>{r.use(e).use(Ge).use(te).use(Ye,{emphasis:"*",strong:"*",listItemIndent:"one",fence:"`",bullet:"-"}).freeze(),o.use(Xe).use(te).use(Ee).use(n).freeze(),i.use(Dt).use(zt).use(te).use(Ee).use(n).freeze()},t.configProcessor=(...s)=>{t.configSerializeProcessor(...s),t.configDeserializeProcessor(...s)},t.configSerializeProcessor=(...s)=>{e.push(...s)},t.configDeserializeProcessor=(...s)=>{n.push(...s)},t.generateMarkdown=s=>r.stringify(r.runSync({type:"root",children:dr(s)})),t.parseMarkdown=s=>o.processSync(s).result,t.parseHtml=s=>i.processSync(s).result,ye(t,"createDefaultEditableProps",s=>a=>ye(s(a),"onPaste",l=>p=>{const b=p.clipboardData;if(b&&b.types.indexOf("application/x-slate-fragment")<0){if(b.types.indexOf("text/html")>=0){const w=b.getData("text/html"),v=t.parseHtml(w);a.insertFragment(v),p.preventDefault();return}else if(b.types.indexOf("text/plain")>=0){const w=b.getData("text/plain"),v=t.parseMarkdown(w);a.insertFragment(v),p.preventDefault();return}}l==null||l(p)})),t.onWrapEditor(s=>{ye(s,"insertFragment",a=>l=>{if(s.selection){const p=x.parent(s,s.selection.anchor.path);if(s.getContentModelType(p)===T.value){m.insertText(s,t.generateMarkdown(l));return}}a(l)}),ye(s,"setFragmentData",a=>l=>{a(l),l.setData("text/plain",t.generateMarkdown(s.getFragment()))})})}var G;(function(t){t[t.replace=1]="replace",t[t.wrap=2]="wrap",t[t.unwrap=3]="unwrap",t[t.custom=4]="custom"})(G||(G={}));const J=y.exports.forwardRef(({disabled:t=!1,initialMarkdown:e="",config:n,uploadFile:r,value:o,onChange:i,children:s},a)=>{const l=y.exports.useMemo(()=>{const _=new nn;return _.use(gr),_.use(ln),_.use(fr),cr(_),n&&n(_),_.freezeProcessors(),_},[]),p=y.exports.useMemo(()=>{const _=It(Bt(jt()));return _.onAlert=(M,C)=>{console.warn(M,C)},l.wrapEditor(_)},[l]);y.exports.useEffect(()=>{a&&(typeof a=="function"?a(p):a.current=p)},[p,a]),y.exports.useEffect(()=>{e&&(p.markdown=e)},[p]);const b=y.exports.useMemo(()=>l.createDefaultEditableProps(p),[l,p]),w=y.exports.useRef(null),v=y.exports.useMemo(()=>({getEditorDOMRect(){var _,M;return(M=(_=w.current)==null?void 0:_.getBoundingClientRect())!=null?M:new DOMRect}}),[w]),[E,u]=y.exports.useState();p.setActionForm=u,r&&(p.uploadFile=r);const f=y.exports.useMemo(()=>{if(E)return Ft.exports.createPortal(E,document.body)},[E]),d=y.exports.useCallback(_=>{i(_)},[i]);y.exports.useEffect(()=>{l.triggerEditorMounted(p)},[p]);const h=y.exports.useMemo(()=>l.createDefaultChildren(p),[l,p]);return L(Lt,{editor:p,onChange:d,value:o,children:[h,L(rt.Provider,{value:v,children:[c("div",{className:"ti-community-editor-container",ref:w,children:c($t,N({as:"article",className:"ti-community-editor markdown-body",readOnly:t},b))}),s]}),f]})});J.displayName="TiEditor";J.propTypes={disabled:Je.bool,initialMarkdown:Je.string};J.defaultProps={disabled:!1,initialMarkdown:""};const hr=t=>{console.log(t)};var mr=B({type:"section",isLeaf:!1,isInline:!1,isEditable:!1,contentType:T.flow,contentModelType:T.flow,wrappingParagraph:!1,normalize:(t,e,n,r)=>{e.children.length===0&&(m.removeNodes(t,{at:n}),r())},render(t,{attributes:e,children:n}){return c("section",O(N({},e),{"data-slate-zero-width":!0,onBeforeInputCapture:hr,children:n}))},events:{},toggle:{}});const br=()=>t=>{qt(t,n=>"children"in n&&"type"in n,n=>{for(let r=n.children.length-1;r>=0;--r){const o=n.children[r];o.type==="section"&&n.children.splice(r,1,...o.children)}})};function yr(t,e,n){for(const r of e)if((Ze.isNodeOperation(r)||Ze.isTextOperation(r))&&U.includes(n,r.path))return!0;return!1}function se({section:t,value:e=[],onChange:n}){const r=le(),o=y.exports.useRef(n),i=y.exports.useRef([]);return o.current=n,y.exports.useEffect(()=>{const s=r.factory.registerOnChange(()=>{const l=r.getSectionRange(t);if(!!l&&yr(r,r.operations,l)){const p=r.getSection(t);i.current=p,o.current(p)}}),a=r.factory.registerOnSectionLayout(l=>{t===l&&e!==i.current&&(i.current=e,r.setSection(t,e))});return()=>{s(),a()}},[r]),y.exports.useEffect(()=>{e!==i.current&&r.setSection(t,e)},[e]),null}function xt(t){mr.register(t),t.configSerializeProcessor(br);let e=[];t.configSections=s=>{e=s};const n=new WeakMap;t.onWrapEditor(s=>{const{normalizeNode:a,deleteFragment:l,deleteBackward:p,deleteForward:b,insertFragment:w,runAction:v,onChange:E}=s,u=[];n.set(s,u),s.insertFragment=f=>{w(f.filter(d=>!R(d,"section")))},s.runAction=(f,d,h)=>{if(d){const _=g.range(s,d);let M=!1;for(const C of u)if(C.current&&U.includes(_,C.current)){M=!0;break}if(M)return s.onAlert("\u65E0\u6CD5\u64CD\u4F5C\u56FA\u5B9A\u5185\u5BB9",""),!1}return v(f,d,h)},s.deleteFragment=f=>{if(s.selection){let d=!1;for(const h of u)if(h.current&&U.includes(s.selection,h.current)){d=!0;break}if(d){s.onAlert("\u65E0\u6CD5\u5220\u9664\u56FA\u5B9A\u5185\u5BB9","");return}}l(f)},s.deleteBackward=f=>{if(s.selection){const d=g.before(s,s.selection,{unit:f});if(d&&R(g.node(s,d,{depth:1})[0],"section")){s.onAlert("\u65E0\u6CD5\u5220\u9664\u56FA\u5B9A\u5185\u5BB9","");return}}p(f)},s.deleteForward=f=>{if(s.selection){const d=g.after(s,s.selection,{unit:f});if(d&&R(g.node(s,d,{depth:1})[0],"section")){s.onAlert("\u65E0\u6CD5\u5220\u9664\u56FA\u5B9A\u5185\u5BB9","");return}}b(f)},s.normalizeNode=f=>{a(f)},Object.defineProperty(s,"markdown",{get(){console.warn("editor.markdown was disabled for layout plugin, use editor.getSectionMarkdown instead")},set(){console.warn("editor.markdown was disabled for layout plugin, use editor.setSectionMarkdown instead")}}),s.getSectionSpan=f=>{if(f>=u.length)return;let d=u[f].current;if(!d)return;let h;if(f<u.length-1?h=u[f+1].current:h=[s.children.length-1],!!h&&(d=S.next(d),S.hasPrevious(h)?h=S.previous(h):h=d,S.isBefore(h,d)&&(h=d),!(!g.hasPath(s,d)||!g.hasPath(s,h))))return[d,h]},s.getSectionRange=f=>{const d=s.getSectionSpan(f);if(!d)return;const[h,_]=d,M=g.start(s,h),C=g.end(s,_);return{anchor:M,focus:C}},s.getSection=f=>{const d=s.getSectionSpan(f);if(!d)return[];const[...h]=g.nodes(s,{at:d,mode:"highest",match:_=>!g.isEditor(_)});return h.map(([_])=>_)},s.getSectionMarkdown=f=>t.generateMarkdown(s.getSection(f)),s.setSection=(f,d)=>{const h=s.getSectionRange(f);!h||(m.select(s,h),s.insertFragment(d))},s.setSectionMarkdown=(f,d)=>{s.setSection(f,t.parseMarkdown(d))},s.onChange=()=>{E(),Object.values(o).forEach(f=>f())},s.onSectionLayout=f=>{Object.values(i).forEach(d=>d(f))}}),t.onEditorMounted(s=>{const a=n.get(s);if(!a)throw new Error;const l=(p,b)=>(m.insertNodes(s,[p,{type:"paragraph",children:[{text:""}]}],{at:[b*2]}),g.pathRef(s,[b*2]));ke.withoutSaving(s,()=>{g.withoutNormalizing(s,()=>{if(e.length&&a.length===0){for(let p=0;p<e.length;++p)a[p]=l(e[p],p);return}})});for(let p=0;p<e.length;++p)s.onSectionLayout(p)});let r=0;const o={},i={};t.registerOnChange=s=>{const a=++r;return o[a]=s,()=>{delete o[r]}},t.registerOnSectionLayout=s=>{const a=++r;return i[a]=s,()=>{delete i[r]}}}ee().use(Ge).use(te).use(Ye,{emphasis:"*",strong:"*",listItemIndent:"one",fence:"`",bullet:"-"}).freeze();ee().use(Xe).use(te).use(Ee).freeze();const _r=`### \u5F15\u7528 (blockquote)

\`\`\`markdown
> blockquote
> 
> yeah
\`\`\`

> blockquote
> 
> yeah

- \u6DFB\u52A0\u5F15\u7528
  - \u8F93\u5165 \`>\` \u5E76\u8F93\u5165\u7A7A\u683C
- \u5220\u9664\u5F15\u7528
  - \u5728\u5F15\u7528\u8D77\u59CB\u5904\u70B9\u51FB \`<Backspace>\`
`;var xr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:_r});const wr=`### Codes

### Usage

- \u8F93\u5165 \\\`\\\`\\\` \u52A0\u7A7A\u683C

### Examples

\`\`\`javascript
console.log('hello world')
\`\`\`

\`\`\`sql
SELECT * FROM hello_world;
\`\`\`

`;var vr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:wr});const Tr=`### \u6807\u9898

\`\`\`markdown
# h1
## h2
### h3
#### h4
##### h5
###### h6
\`\`\`

> # h1
> ## h2
> ### h3
> #### h4
> ##### h5
> ###### h6

- \u521B\u5EFA\u6807\u9898
  1. \u8F93\u5165 1-6 \u4E2A \`#\` \u5E76\u8F93\u5165\u7A7A\u683C
  2. \u5728\u6807\u9898\u4E2D\u95F4\u6216\u7ED3\u5C3E\u70B9\u51FB \`<Enter>\`
- \u5220\u9664\u6807\u9898
  - \u5728\u6807\u9898\u8D77\u59CB\u5904\u70B9\u51FB \`<Enter>\` \u4EE5\u5C06\u6807\u9898\u8F6C\u6362\u6210\u6BB5\u843D
`;var Sr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:Tr});const Er=`### Image

![google logo](https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_92x30dp.png "google")
`;var kr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:Er});const Mr=`### \u94FE\u63A5

\`\`\`
[title](url)
\`\`\`

> [title](#)

- \u521B\u5EFA\u94FE\u63A5
  - \u8F93\u5165\u94FE\u63A5 url \u5E76\u8F93\u5165\u7A7A\u683C\u4F1A\u81EA\u52A8\u8F6C\u6362
`;var Cr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:Mr});const Pr=`### \u5217\u8868

\`\`\`markdown
- \u65E0\u5E8F\u5217\u8868
- ...
  - \u7F29\u8FDB\u5217\u8868

1. \u6709\u5E8F\u5217\u8868
\`\`\`

> - \u65E0\u5E8F\u5217\u8868
> - ...
>   - \u7F29\u8FDB\u5217\u8868
> 
> 1. \u6709\u5E8F\u5217\u8868 1
> 2. \u6709\u5E8F\u5217\u8868 2

\u4F7F\u7528\u4EE5\u4E0B\u65B9\u5F0F\u63A7\u5236 Markdown \u5217\u8868\uFF1A
- \u65B0\u5EFA\u5217\u8868\uFF1A
  1. \u8F93\u5165 \`-\` \u52A0\u7A7A\u683C\u63D2\u5165\u65E0\u5E8F\u5217\u8868
  2. \u8F93\u5165 \`number.\` \u52A0\u7A7A\u683C\u63D2\u5165\u6709\u5E8F\u5217\u8868
- \u5217\u8868\u7F29\u8FDB\uFF1A
  1. \u5728\u5217\u8868\u9879\u4E2D\u8F93\u5165 \`<Tab>\` \u751F\u6210\u4E0B\u7EA7\u5217\u8868 
  2. \u5728\u5217\u8868\u9879\u4E2D\u8F93\u5165 \`-\` \u6216 \`<number>\`\u3002
- \u53D6\u6D88\u5217\u8868
  1. \u5728\u7A7A\u5217\u8868\u9879\u4E2D\u76F4\u63A5\u8F93\u5165 \`<Enter>\`
`;var Nr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:Pr});const Ar=`### Table

| foo | bar |
| :-- | :-: |
| baz | qux |

`;var Rr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:Ar});const Or=`# a-editor

## \u6280\u672F\u6808

- core
  - [slate](https://www.slatejs.org/)
  - [remark](https://remark.js.org/)
  - [remark-slate-transformer](https://github.com/inokawa/remark-slate-transformer)
- code highlight
  - [prism](https://prismjs.com/)

## \u6837\u5F0F\u914D\u7F6E

### \u4EE3\u7801\u9AD8\u4EAE

\u5728 \`src/slate-markdown/elements/code/style.less\` \u6DFB\u52A0\u5BF9\u5E94 token \u6837\u5F0F\u3002

abc
deb

## \u7528\u6CD5
`,Dr={"./slate-markdown/elements/blockquote/instructions.md":xr,"./slate-markdown/elements/code/instructions.md":vr,"./slate-markdown/elements/heading/instructions.md":Sr,"./slate-markdown/elements/image/instructions.md":kr,"./slate-markdown/elements/link/instructions.md":Cr,"./slate-markdown/elements/list/instructions.md":Nr,"./slate-markdown/elements/table/instructions.md":Rr},zr=Or+`

`+Object.values(Dr).map(t=>t.plainText).join(`

`);function Ir(t){t.use(xt),t.configSections([{type:"section",children:[{type:"heading",depth:1,children:[{text:"section 1",inlineCode:!0},{text:" \u65E0\u6CD5\u4FEE\u6539\u6216\u5220\u9664\uFF0C\u4F7F\u7528\u65B9\u6CD5\u67E5\u770B "},{text:"plugins/layout",inlineCode:!0}]},{type:"blockquote",children:[{type:"paragraph",children:[{text:"\u7528\u4E8E\u56FA\u5B9A\u7684\u5185\u5BB9\u7ED3\u6784"}]}]}]},{type:"section",children:[{type:"heading",depth:1,children:[{text:"section 2",inlineCode:!0}]}]}]),t.onEditorMounted(e=>{setTimeout(()=>{ke.withoutSaving(e,()=>{e.setSectionMarkdown(0,"write something here"),e.setSectionMarkdown(1,zr)})})})}async function Br(t){return new Promise((e,n)=>{const r=new FileReader;r.onloadend=function(){setTimeout(()=>{e(r.result)},500)},r.onerror=function(){n(r.error)},r.readAsDataURL(t)})}function jr(){const[t,e]=y.exports.useState([]),n=y.exports.useCallback(a=>{e(a)},[t]),[r,o]=y.exports.useState([]),[i,s]=y.exports.useState([]);return c("div",{children:L(J,{config:Ir,onChange:n,uploadFile:Br,value:t,children:[c(se,{onChange:o,section:0,value:r}),c(se,{onChange:s,section:1,value:i})]})})}async function Fr(t){return new Promise((e,n)=>{const r=new FileReader;r.onloadend=function(){setTimeout(()=>{e(r.result)},500)},r.onerror=function(){n(r.error)},r.readAsDataURL(t)})}function Lr(){const[t,e]=y.exports.useState([{type:"paragraph",children:[{text:"here to input"}]}]),n=y.exports.useCallback(r=>{e(r)},[t]);return c("div",{children:c(J,{onChange:n,uploadFile:Fr,value:t})})}function $r(t){t.use(xt),t.configSections([{type:"section",children:[{type:"heading",depth:1,children:[{text:"section 1",inlineCode:!0}]},{type:"blockquote",children:[{type:"paragraph",children:[{text:"\u7528\u4E8E\u56FA\u5B9A\u7684\u5185\u5BB9\u7ED3\u6784"}]}]}]},{type:"section",children:[{type:"heading",depth:1,children:[{text:"section 2",inlineCode:!0}]}]},{type:"section",children:[{type:"heading",depth:1,children:[{text:"section 3",inlineCode:!0}]}]}]),t.onEditorMounted(e=>{setTimeout(()=>{ke.withoutSaving(e,()=>{e.setSectionMarkdown(0,"write something here"),e.setSectionMarkdown(1,"write something here"),e.setSectionMarkdown(2,"write something here")})})})}async function qr(t){return new Promise((e,n)=>{const r=new FileReader;r.onloadend=function(){setTimeout(()=>{e(r.result)},500)},r.onerror=function(){n(r.error)},r.readAsDataURL(t)})}function Hr(){const[t,e]=y.exports.useState([]),n=y.exports.useCallback(p=>{e(p)},[t]),[r,o]=y.exports.useState([]),[i,s]=y.exports.useState([]),[a,l]=y.exports.useState([]);return c("div",{children:L(J,{config:$r,onChange:n,uploadFile:qr,value:t,children:[c(se,{onChange:o,section:0,value:r}),c(se,{onChange:s,section:1,value:i}),c(se,{onChange:l,section:2,value:a})]})})}Ht.render(c(Wt.StrictMode,{children:c(Ut,{basename:"https://634750802.github.io/a-editor/",children:L("div",{children:[L("nav",{children:[c(Me,{to:"/",children:"Full example"}),c(Me,{to:"/empty",children:"Empty example"}),c(Me,{to:"/sections",children:"Sections example"})]}),c("main",{children:L(Vt,{children:[c(Ce,{component:Lr,exact:!0,path:"/empty"}),c(Ce,{component:Hr,exact:!0,path:"/sections"}),c(Ce,{component:jr,path:"/"})]})})]})})}),document.getElementById("root"));
