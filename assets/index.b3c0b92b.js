var kt=Object.defineProperty,Ct=Object.defineProperties;var Mt=Object.getOwnPropertyDescriptors;var oe=Object.getOwnPropertySymbols;var qe=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable;var Te=(t,e,n)=>e in t?kt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,R=(t,e)=>{for(var n in e||(e={}))qe.call(e,n)&&Te(t,n,e[n]);if(oe)for(var n of oe(e))He.call(e,n)&&Te(t,n,e[n]);return t},O=(t,e)=>Ct(t,Mt(e));var we=(t,e)=>{var n={};for(var r in t)qe.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&oe)for(var r of oe(t))e.indexOf(r)<0&&He.call(t,r)&&(n[r]=t[r]);return n};var F=(t,e,n)=>(Te(t,typeof e!="symbol"?e+"":e,n),n);import{E as B,u as ae,r as y,a as p,j as u,c as Y,T as le,l as G,f as We,b as Ue,d as D,F as I,e as Se,g as Ee,h as ke,i as ie,R as K,P as S,N as x,k as $,m as Ve,n as Pt,o as d,p as Ce,q as Ge,s as j,t as Qe,v as ce,w as Nt,_ as Me,x as ue,y as Pe,z as Ke,A as Rt,B as Ye,C as Xe,D as Je,G as Ze,H as Ne,I as At,J as Ot,K as zt,L as Bt,M as Dt,O as It,Q as pe,S as Lt,U as $t,V as fe,W as et,X as de,Y as jt,Z as Ft,$ as qt,a0 as Ht,a1 as tt,a2 as Wt,a3 as Ut,a4 as Vt,a5 as Gt,a6 as Qt,a7 as Kt,a8 as Yt,a9 as Xt,aa as Jt,ab as nt,ac as Re,ad as rt,ae as Zt,af as en,ag as tn,ah as ge,ai as nn,aj as he}from"./vendor.bed8b778.js";const rn=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}};rn();var k;(function(t){t[t.flow=16]="flow",t[t.list=32]="list",t[t.phrasing=48]="phrasing",t[t.staticPhrasing=49]="staticPhrasing",t[t.value=64]="value",t[t.table=80]="table",t[t.tableRow=96]="tableRow"})(k||(k={}));function q(t,e){return t===e||t<e&&(t^e)<16}function L(t){return O(R({},t),{register(e){e.define(O(R({},t),{isEditable:typeof t.isEditable=="boolean"?t.isEditable:!0}))}})}function P(t,e){return B.isElement(t)?e instanceof Array?e.indexOf(t.type)>=0:t.type===e:!1}function st({icon:t,active:e,disabled:n,action:r,tips:s}){const l=ae(),o=y.exports.useCallback(i=>{r&&i.button===0&&(i.preventDefault(),i.stopPropagation(),n||p.withoutNormalizing(l,()=>{r(i)}))},[r]),a=u("span",{className:Y("a-editor-toolbar-item",{active:e,disabled:n}),onMouseDown:o,children:t});return s?u(le,{content:u("span",{className:"toolbar-item-tips",children:s}),children:a}):a}G.add(We,Ue);function sn({extraWidth:t,isEmpty:e,element:n,items:r,setActive:s}){return u(le,{appendTo:"parent",arrow:!1,content:on(r),hideOnClick:!1,interactive:!0,onHide:()=>s(!1),onShow:()=>s(!0),children:D("div",{className:"line-operations",contentEditable:!1,children:[u("span",{className:"icon",children:u(I,{icon:e?Ue:We})}),u("div",{className:"spacer",style:{width:t,height:"100%"}})]})})}const on=t=>u("div",{className:"block-toolbar",children:t.map((e,n)=>u("div",{className:"toolbar-group",children:e.map(r=>u(st,{action:r.action,active:r.active,disabled:r.disabled,icon:r.icon,tips:r.tips},r.key))},n))});G.add(Se,Ee,ke,ie);function ot(t,e){if(!!e)return typeof e=="function"?e(t):e}function an(t,e){const n=e==null?void 0:e.current;return n?t.factory.lineActions.map(r=>t.getActions(n,r).map(({action:{key:s,icon:l,tips:o},state:a})=>({key:s,disabled:a.disabled,active:a.active,icon:ot(a,l),tips:ot(a,o),action:i=>{t.runAction(s,n,i)}}))):[]}function at(){const[t,e]=y.exports.useState(0);return()=>{e(n=>n+1)}}const lt=y.exports.createContext({getEditorDOMRect:()=>new DOMRect});function ee({element:t,children:e}){const[n,r]=y.exports.useState(null),s=y.exports.useRef(),l=ae(),o=an(l,s.current),a=at(),[i,c]=y.exports.useState(0),{getEditorDOMRect:m}=y.exports.useContext(lt),b=y.exports.useCallback(()=>{var T;const _=(T=n==null?void 0:n.getBoundingClientRect())!=null?T:new DOMRect,{x:g=0}=_,{x:h}=m();return c(g-h),_},[m,n]);y.exports.useLayoutEffect(()=>{var _,g;if(n){const h=document.createRange();h.selectNode(n.childNodes.item(0));const T=K.toSlateRange(l,h,{exactMatch:!1});let M=S.common(T.anchor.path,T.focus.path);for(;M.length!==0;){if(p.isBlock(l,x.get(l,M))){s.current=p.pathRef(l,M);break}M=S.parent(M)}}else s.current&&((g=(_=s.current).unref)==null||g.call(_)),s.current=void 0},[n]);const[v,E]=y.exports.useState(!1),f=(()=>{const _=t.children[0];return t.children.length===1&&$.isText(_)&&_.text===""})();return Ve()?typeof e=="function"?e({active:v,pathRef:s.current}):e:u(Pt,{appendTo:document.body,arrow:!1,getReferenceClientRect:b,hideOnClick:!1,interactive:!0,interactiveBorder:12,offset:[0,8],onTrigger:a,placement:"left",popperOptions:{modifiers:[{name:"flip",options:{allowedAutoPlacements:["left"]}}]},ref:r,render:()=>u(sn,{element:t,extraWidth:i,isEmpty:f,items:o,setActive:E}),children:typeof e=="function"?e({active:v,pathRef:s.current}):e})}function it({editor:t,pathRef:e,options:n,lang:r}){const s=y.exports.useCallback(l=>{(e==null?void 0:e.current)&&d.setNodes(t,{lang:l.currentTarget.value},{at:e.current})},[t,e]);return D("select",{className:"lang-selector",contentEditable:!1,onChange:s,tabIndex:void 0,value:r||void 0,children:[u("option",{}),n.map(l=>u("option",{children:l},l))]})}var ln=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:it});const cn=["markdown","javascript","typescript","jsx","tsx","sql","bash","go","rust","json","log"],te=Symbol("prism_token"),ct=({attributes:t,element:e,children:n},r,s=!1)=>u("pre",O(R({},t),{className:Y({active:r,selected:s},e.lang?`language-${e.lang}`:void 0),children:u("code",{className:"prism-code",children:n})})),ut=L({type:"code",isInline:!1,isLeaf:!1,wrappingParagraph:!1,contentType:k.flow,contentModelType:k.value,render:(t,e)=>{const{element:n}=e,r=Ve(),s=Ce();return r?ct(e,!1):u(ee,{element:n,children:({active:l,pathRef:o})=>u(le,{appendTo:document.body,content:u(it,{editor:t,lang:n.lang,options:cn,pathRef:o}),interactive:!0,placement:"top-start",children:ct(e,l,s)})})},toggle:{prefix:/^`{3}(?: (\w+))?$/,toggle:(t,e,n)=>t.runAction("toggle-codeblock",e),onTrigger:(t,e,n)=>{if(n.length>1)return;const r=/^`{3}(?: (\w+))?$/.exec(t);return r?{lang:r[1]||"markdown",meta:void 0}:{lang:"markdown",meta:void 0}}},events:{},decorate:(t,[e,n],r)=>{if($.isText(e)&&r.lang){const s=Ge.languages[r.lang];if(!s)return[];const l=[],o=Ge.tokenize(e.text,s);let a=0;for(const i of o){const c=pt(i),m=a+c;typeof i!="string"&&l.push({[te]:i.type,anchor:{path:n,offset:a},focus:{path:n,offset:m}}),a=m}return l}return[]}}),pt=t=>typeof t=="string"?t.length:typeof t.content=="string"?t.content.length:t.content.reduce((e,n)=>e+pt(n),0);var un=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",SYMBOL_PRISM_TOKEN:te,default:ut}),A;(function(t){t.strong="strong",t.emphasis="emphasis",t.delete="delete",t.inlineCode="inlineCode"})(A||(A={}));const Ae=L({isLeaf:!0,contentType:k.staticPhrasing,contentModelType:k.value,canContainsContentModelTypeOf:t=>t.inlineCode?k.value:(t.strong||t.emphasis||t.delete,k.phrasing),normalize:(t,e,n,r)=>{if(e.text===""){const s=[A.strong,A.emphasis,A.delete,A.inlineCode].filter(l=>!!e[l]);s.length>0&&d.unsetNodes(t,s,{at:n})}},render(t,{leaf:e,children:n,attributes:r}){let s=n;return e[te]&&(s=u("span",{className:Y(e[te]?`token ${e[te]}`:void 0,r.className),children:s})),e.delete&&(s=u("del",{children:s})),e.emphasis&&(s=u("em",{children:s})),e.strong&&(s=u("strong",{children:s})),e.inlineCode&&(s=u("code",{children:s})),u("span",O(R({},r),{children:s}))},toggleDecorator:(t,e,n)=>{const r=dt(t),s=l=>r(x.get(t,l.anchor.path),l.anchor.path);Oe(t,e,n)?j.isCollapsed(e)?s(e)&&p.addMark(t,n,!1):d.setNodes(t,{[n]:!1},{match:r,split:!0}):j.isCollapsed(e)?s(e)&&(p.addMark(t,n,!0),n===A.inlineCode?(p.addMark(t,A.inlineCode,!1),p.addMark(t,A.emphasis,!1),p.addMark(t,A.delete,!1)):p.addMark(t,A.inlineCode,!1)):(d.setNodes(t,{[n]:!0},{match:r,split:!0}),n===A.inlineCode?d.unsetNodes(t,[A.delete,A.emphasis,A.strong],{match:r,split:!0}):d.unsetNodes(t,A.inlineCode,{match:r,split:!0}))}});function Oe(t,e,n){if(!K.hasRange(t,e))return!1;const r=p.marks(t);return r?!!r[n]:!1}const ft=(t,e)=>{const[n]=p.nodes(t,{at:e,match:r=>!t.isEditable(r)});return!n},me=(t,e)=>{const n=ze(t),[r]=p.nodes(t,{at:e,match:n});return!!r},dt=t=>(e,n)=>{const r=ze(t);if(!$.isText(e))return!1;const s=x.parent(t,n);return B.isElement(s)?r(s,S.parent(n)):!1},ze=t=>(e,n)=>{if(B.isElement(e)){const r=t.factory.customElementMap.get(e.type);return r&&r.contentModelType?q(r.contentModelType,k.phrasing):!1}else return!1};function Be(t,e,n,r){if(j.isRange(e)){if(!K.hasRange(t,e))return!1}else if(S.isPath(e)){if(!p.hasPath(t,e))return!1}else if(!K.hasRange(t,{anchor:e,focus:e}))return!1;if(S.isPath(e)){const l=x.get(t,e);return P(l,n)&&(r?r(l):!0)}const[s]=p.nodes(t,{at:j.isRange(e)?p.unhangRange(t,e):e,match:l=>!p.isEditor(l)&&P(l,n)&&(r?r(l):!0)});return!!s}var pn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",get TextNodeDecorator(){return A},isDecoratorActive:Oe,isRangeEditable:ft,isRangeCustomTextPropsEnabled:me,isCustomTextPropsEnabled:dt,isPhrasing:ze,isElementActive:Be,default:Ae});G.add(Qe);const De=L({type:"link",isInline:!0,isLeaf:!1,contentType:k.phrasing,contentModelType:k.staticPhrasing,normalize:(t,e,n,r)=>{x.string(e).trim().length===0&&(d.removeNodes(t,{at:n}),r())},render:(t,{element:e,attributes:n,children:r})=>u("a",O(R({href:e.url,onClick:()=>window.open(e.url,"_blank"),style:{display:"inline-flex",cursor:"pointer"}},n),{children:r})),insert:(t,e,s)=>{var l=s,{text:n}=l,r=we(l,["text"]);d.insertNodes(t,[R({type:"link",children:[{text:n}]},r),{text:" "}],{at:e,select:!0}),ce.isPoint(e)&&d.move(t,{distance:1})},match:{regexp:Nt()}});var fn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:De});class dn{constructor(e,n){F(this,"state",[]);this.factory=e,this.editor=n}process(e){const[n,r]=e;if(p.isEditor(n))return this.state=[],[];if(B.isElement(n)){const s=this.factory.customElementMap.get(n.type);if(s&&!s.isInline){const l=s;if(l.decorate)return this.state.push({element:n,path:r,config:l}),[]}}if(this.state.length>0){for(const s of this.state.reverse())if(S.isAncestor(s.path,r))return s.config.decorate(this.editor,e,s.element)}return[]}}class gn{constructor(){F(this,"blockConfigs",[]);F(this,"inlineConfigs",[]);F(this,"textConfig");F(this,"inlineSet",new Set);F(this,"voidSet",new Set);F(this,"nonEditableSet",new Set);F(this,"customElementMap",new Map);F(this,"contentTypeMap",new Map);F(this,"contentModelTypeMap",new Map);F(this,"editorWrapHandlers",[]);F(this,"editorMountedHandlers",[])}use(e){return console.debug("factory.use",e.name),e(this),this}define(e){return e.isLeaf?this.textConfig=e:(e.isInline?(this.inlineSet.add(e.type),this.inlineConfigs.push(e)):this.blockConfigs.push(e),this.customElementMap.set(e.type,e),this.contentModelTypeMap.set(e.type,e.contentModelType),this.contentTypeMap.set(e.type,e.contentType),e.contentModelType===null&&this.voidSet.add(e.type),e.isEditable&&this.nonEditableSet.add(e.type)),this}onWrapEditor(e){this.editorWrapHandlers.push(e)}onEditorMounted(e){this.editorMountedHandlers.push(e)}triggerEditorMounted(e){this.editorMountedHandlers.forEach(n=>n(e))}wrapEditor(e){const{isVoid:n,isInline:r,normalizeNode:s,insertBreak:l}=e;e.factory=this;function o(a){p.isEditor(a)?(console.group("#root"),a.children.forEach(o),console.groupEnd()):B.isElement(a)?(console.group(a.type),a.children.forEach(o),console.groupEnd()):console.debug("text")}return window.debugPrintTree=()=>o(e),window.debugEditor=e,e.isContent=(a,i)=>B.isElement(a)?this.contentTypeMap.get(a.type)===i:$.isText(a)?this.textConfig.contentType===i:!1,e.canContainsContent=(a,i)=>{if(p.isEditor(a))return i===k.flow;if(B.isElement(a)){const c=this.contentModelTypeMap.get(a.type);return c?q(i,c):!1}else return $.isText(a)?q(i,Ae.canContainsContentModelTypeOf(a)):!1},e.getContentType=a=>B.isElement(a)?this.contentTypeMap.get(a.type)||null:$.isText(a)&&this.textConfig.contentType||null,e.getContentModelType=a=>p.isEditor(a)?k.flow:B.isElement(a)?this.contentModelTypeMap.get(a.type)||null:$.isText(a)?this.textConfig.contentModelType:null,e.getContentTypePair=a=>B.isElement(a)?[this.contentTypeMap.get(a.type)||null,this.contentModelTypeMap.get(a.type)||null]:$.isText(a)?[this.textConfig.contentType||null,this.textConfig.contentModelType||null]:[null,null],e.toggle=(a,i,c)=>{const m=e.canToggle(a,i,!0);if(!m)return!1;const[[b,v],E]=m,f=typeof c=="object"?c:{};switch(E){case X.replace:return d.unsetNodes(e,Object.keys(x.extractProps(b)),{at:v}),d.setNodes(e,O(R({type:i.type},f),{children:[]}),{at:v}),!0;case X.wrap:return d.wrapNodes(e,R({type:i.type},f),{at:v}),!0;case X.custom:throw new Error("TODO: ToggleStrategy.custom");default:throw new Error("unknown ToggleStrategy: "+E)}},e.canToggle=(a,i,c)=>{const[m]=a,[b,v]=e.getContentTypePair(m);if(i.contentType!==b)return!1;if(i.contentModelType===v)return[a,X.replace];if(i.contentModelType===b)return[a,X.wrap];if(!c)return!1;const E=x.ancestors(e,a[1],{reverse:!0});for(const f of E){const w=e.canToggle(f,i,!1);if(w)return w}return!1},e.unwrap=(a,i)=>{if(!e.canUnwrap(a,i))return!1;const[c,m]=a,b=[[[]]];let v=[[c,[]]],E=0;for(;E<i.length-1;){const f=[];for(const[w,_]of v)for(const[g,h]of w.children.entries())f.push([h,_.concat(g)]);E+=1,v=f,b.push(f.map(([,w])=>w))}for(const f of b.reverse())for(const w of f.reverse())d.unwrapNodes(e,{at:m.concat(w),split:!0});return!0},e.canUnwrap=([a,i],c)=>{if(c.length===0)return!0;const m=e.getContentModelType(x.parent(e,i)),b=c[c.length-1].contentModelType;if(!m||!b||!q(b,m))return!1;let v=[[a,[]]],E=0;for(;E<c.length;){const f=[];for(const[w,_]of v){if(!P(w,c[E].type))return!1;for(const[g,h]of w.children.entries())f.push([h,_.concat(g)])}E+=1,v=f}return!0},e.wrap=(a,i,c)=>{if(!e.canWrap(a,i,c))return!1;const[,m]=a;let b=i.length-1;for(;b>=0;){const v=i[b],E=c[b];d.wrapNodes(e,Object.assign({type:v.type,children:[]},E),{at:m}),b--}return!0},e.canWrap=(a,i,c)=>{console.assert(i.length===c.length,"editor.canWrap: configs.length should be equals to params.length");const[m,b]=a,v=x.parent(e,b);let E=0,f=e.getContentModelType(v);for(;E<i.length;){const _=i[E];if(f===null||!q(_.contentType,f))return!1;f=_.contentModelType,E+=1}if(f===null)return!1;const w=e.getContentType(m);return w?q(w,f):!1},e.nearest=(a,i)=>{const[c,m]=a;if(P(c,i.type))return a;for(const b of x.ancestors(e,m,{reverse:!0}))if(P(b[0],i.type))return b},e.isVoid=a=>this.voidSet.has(a.type)||n(a),e.isInline=a=>this.inlineSet.has(a.type)||r(a),e.isEditable=a=>B.isElement(a)?this.nonEditableSet.has(a.type):!0,e.normalizeNode=a=>{let i=!0;const c=()=>{i=!1};p.withoutNormalizing(e,()=>{var v;const[m,b]=a;if(B.isElement(m)){const E=(v=this.customElementMap.get(m.type))==null?void 0:v.normalize;E&&E(e,m,b,c)}$.isText(m)&&this.textConfig.normalize&&this.textConfig.normalize(e,m,b,c),p.isEditor(m)&&(m.children.length===0?d.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:[0]}):P(m.children[m.children.length-1],"paragraph")||d.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:[m.children.length]}))}),i&&s(a)},e.insertBreak=()=>{if(e.selection){const a=x.parent(e,e.selection.anchor.path);if(e.getContentModelType(a)!==k.phrasing){d.insertText(e,`
`);return}}l()},this.editorWrapHandlers.forEach(a=>a(e)),e}createDefaultEditableProps(e){const n=f=>{var _;const{selection:w}=e;if(w&&j.isCollapsed(w)){const g=w.anchor,h=x.get(e,g.path),T=x.parent(e,g.path);if($.isText(h)&&B.isElement(T)&&T.type==="paragraph"&&f.data===" "&&!S.hasPrevious(g.path)){const M=h.text.slice(0,g.offset);for(const{toggle:N}of this.blockConfigs)if(!(typeof N.estimatePrefixLength=="number"&&M.length>N.estimatePrefixLength)&&((_=N.prefix)==null?void 0:_.test(M))){const z=N.onTrigger(M,e,S.parent(g.path));if(typeof z!="undefined"){d.delete(e,{at:{path:g.path,offset:0},distance:g.offset}),N.toggle(e,S.parent(g.path),z),f.preventDefault();return}}}if($.isText(h)&&!P(T,"link")&&f.data===" "){for(const M of this.inlineConfigs)if(M.match){const N=M.match.regexp.exec(h.text.slice(0,g.offset));if(N){const z=N[0],V=N.index,J=N.index+z.length,se={anchor:{path:g.path,offset:V},focus:{path:g.path,offset:J}};De.insert(e,se,{url:z,title:"",text:z}),f.preventDefault();return}}}if(p.isInline(e,T)){const M=S.next(S.parent(g.path));d.insertNodes(e,{text:f.data||""},{at:M}),d.move(e,{distance:1}),f.preventDefault();return}}},r=(f,w)=>_=>{const{selection:g}=e;if(g&&j.isCollapsed(g)){const h=g.anchor,T=S.parent(h.path),M=x.get(e,T);if(B.isElement(M)){const N=this.customElementMap.get(M.type);if(!N)return;if(N.isInline){p.isEnd(e,h,T)&&(d.move(e,{unit:"offset"}),e.insertBreak(),_.preventDefault());return}const z=w(N.events);if(z&&z(e,h.path)){_.preventDefault();return}if(hn(e,h)){if(N){const V=f(N.events);if(V&&V(e,h.path)){_.preventDefault();return}}if(M.type==="paragraph"){const V=x.parent(e,T);if(!S.hasPrevious(T)&&B.isElement(V)){const J=this.customElementMap.get(V.type);if(J==null?void 0:J.wrappingParagraph){const se=f(J.events);if(se&&se(e,h.path)){_.preventDefault();return}}}}}}}},s=r(f=>f.onStartDelete,f=>f.onDeleteText),l=r(f=>f.onStartEnter,f=>f.onInsertParagraph),a=(f=>w=>{const{selection:_}=e;if(_&&j.isCollapsed(_)){const g=_.anchor,h=S.parent(g.path),T=x.parent(e,g.path);if(B.isElement(T)){const M=this.customElementMap.get(T.type);if(M){const N=f(M.events);if(N&&N(e,g.path)){w.preventDefault();return}}if(T.type==="paragraph"){const N=x.parent(e,h);if(B.isElement(N)){const z=this.customElementMap.get(N.type);if(z==null?void 0:z.wrappingParagraph){const V=f(z.events);if(V&&V(e,g.path)){w.preventDefault();return}}}}}}})(f=>f.onTab),i=new dn(this,e),c=f=>i.process(f),m=(f,w)=>{const _=w?p.rangeRef(e,w):null;e.uploadFile&&Promise.all(f.map(e.uploadFile)).then(g=>g.map((h,T)=>({type:"image",url:h,title:void 0,alt:f[T].name,children:[{text:""}]}))).then(g=>{var h;d.insertNodes(e,g,{at:(h=_==null?void 0:_.current)!=null?h:p.last(e,[])[1]})}).catch(console.error)},b=(f,w)=>{const _=[...f.files].filter(g=>/image\/*/.test(g.type));_.length>0&&m(_,w)};return{renderElement:f=>{const w=this.customElementMap.get(f.element.type);return w?w.render(e,f):(console.warn(`${f.element.type} not impl`),y.exports.createElement("div",f.attributes,f.children))},renderLeaf:f=>this.textConfig?this.textConfig.render(e,f):y.exports.createElement("span",f.attributes,f.children),decorate:c,onDOMBeforeInput:f=>{gt(e,()=>{switch(console.log(f.inputType),f.inputType){case"insertText":n(f);break;case"deleteContentBackward":s(f);break;case"insertParagraph":l(f);break}})},onKeyDown:f=>{gt(e,()=>{if(Me("tab",f)){a(f);return}if(Me(["ctrl+enter"],f)){d.insertText(e,`
`);return}})},onSelect:f=>{const w=window.getSelection();w&&(w.isCollapsed?e.hideSelectionToolbar():w.rangeCount>0&&e.updateSelectionToolbar(w.getRangeAt(0)))},onBlur:f=>{e.hideSelectionToolbar()},onClick:()=>{},onPaste:f=>{const w=f.clipboardData;!w||b(w,e.selection)},onDrop:f=>{b(f.dataTransfer,K.findEventRange(e,f))}}}createDefaultChildren(e){return[]}}function hn(t,e){return e.offset===0&&!S.hasPrevious(e.path)&&$.isText(x.get(t,e.path))}function gt(t,e){let n=!0;p.withoutNormalizing(t,()=>{e(()=>{n=!1})}),n||p.normalize(t)}G.add(ue);const H=L({type:"blockquote",isInline:!1,isLeaf:!1,wrappingParagraph:!0,contentType:k.flow,contentModelType:k.flow,render:(t,{children:e,attributes:n})=>u("blockquote",O(R({},n),{children:e})),toggle:{prefix:/^>$/,toggle:(t,e,n)=>n?t.runAction("indent-blockquote",e):!1,onTrigger(){return!0}},events:{onStartDelete:(t,e)=>{const n=x.parent(t,S.parent(e));return P(n,"blockquote")?t.runAction("outdent-blockquote",S.parent(e)):!1}}});var mn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:H});const bn=t=>{let e=!1,n=!1;const r=()=>{e=!0,t.preventDefault()},s=()=>{n=!0,t.stopPropagation()};return{nativeEvent:t,currentTarget:t.currentTarget,target:t.target,bubbles:t.bubbles,cancelable:t.cancelable,defaultPrevented:t.defaultPrevented,eventPhase:t.eventPhase,isTrusted:t.isTrusted,preventDefault:r,isDefaultPrevented:()=>e,stopPropagation:s,isPropagationStopped:()=>n,persist:()=>{},timeStamp:t.timeStamp,type:t.type}};function W(t,e,n){let r=t[e];return typeof r=="function"&&(Object.prototype.hasOwnProperty.call(t,e)||(r=r.bind(t))),t[e]=n(r),t}var C;(function(t){t.selection="selection",t.phrasing="phrasing",t.toplevel="toplevel"})(C||(C={}));function yn({key:t,type:e,tips:n,defaultParams:r={},action:s,computeState:l,hotkeys:o,icon:a}){const i=R({active:!1,disabled:!1},r),c={key:t,type:e,hotkeys:o!=null?o:[],tips:n!=null?n:null,icon:a!=null?a:null,computeState:l!=null?l:()=>i,action:(m,b,v)=>{const E=c.computeState(m,b);return console.log("run action",t,b,E),E.disabled?!1:s(m,b,E,v)}};return c}function be(t,e,n){let r=n!=null?n:t.selection;if(!!r)switch(j.isRange(r)&&(r=p.unhangRange(t,r)),e){case C.phrasing:{const s=p.path(t,r),l=x.get(t,s);if(t.getContentModelType(l)===k.phrasing||!$.isText(l)&&t.getContentType(l)===k.flow)return s;for(const[a,i]of x.ancestors(t,s))if(t.getContentModelType(a)===k.phrasing)return i;break}case C.selection:return p.range(t,r);case C.toplevel:{const s=p.path(t,r);if(s.length>=1)return[s[0]];break}}}function xn(t){t.actions=[],t.actionMap=new Map,t.actionTypes={[C.selection]:[],[C.phrasing]:[],[C.toplevel]:[]};const e=new Map;t.defineAction=n=>{const r=yn(n);t.actionMap.set(r.key,r),t.actionTypes[r.type].push(r),t.actions.push(r);for(const s of r.hotkeys)e.set(s,r.key)},t.actionHotKeysHas=n=>{for(const r of e.keys())if(Me(r,n))return r},t.onWrapEditor(n=>{n.runAction=(r,s,l)=>{const o=t.actionMap.get(r);if(!o||(s=be(n,o.type,s),!s))return!1;const a=s;let i;return p.withoutNormalizing(n,()=>{i=o.action(n,a,l!=null?l:bn(new Event("fake")))}),i},n.getActions=(r,s)=>{let l=t.actions;s&&(l=s.map(a=>t.actionMap.get(a)).filter(a=>!!a));const o={[C.toplevel]:be(n,C.toplevel,r),[C.selection]:be(n,C.selection,r),[C.phrasing]:be(n,C.phrasing,r)};return l.map(a=>{const i=o[a.type];return{state:i?a.computeState(n,i):{active:!1,disabled:!0},action:a}})}}),W(t,"createDefaultEditableProps",n=>r=>W(n(r),"onKeyDown",s=>l=>{const o=t.actionHotKeysHas(l);if(o&&r.runAction(o,void 0,l)){l.preventDefault(),l.stopPropagation();return}s==null||s(l)})),t.lineActions||(t.lineActions=[["toggle-heading-1","toggle-heading-2","toggle-heading-3","toggle-heading-4","toggle-heading-5","toggle-heading-6"],["toggle-ordered-list","toggle-unordered-list","indent-list","outdent-list"],["toggle-blockquote","toggle-codeblock","toggle-table"]]),t.selectionActions||(t.selectionActions=[A.strong,A.emphasis,A.delete,A.inlineCode,"toggle-link","toggle-image","remove-selection-table","table-insert-row-right","table-insert-row-left","table-insert-row-above","table-insert-row-below","table-delete-row","table-delete-col"])}function _n(t){t.defineAction({key:"toggle-blockquote",icon:u(I,{icon:ue}),type:C.phrasing,computeState:(e,n)=>{const r=[x.get(e,n),n],s=e.nearest(r,H),l=!!s;let o;return s?o=!e.canUnwrap(s,[H]):o=!e.canToggle(r,H,!1),{active:l,disabled:o,blockquoteEntry:s}},action:(e,n,r)=>{if(r.active){if(r.blockquoteEntry)return e.unwrap(r.blockquoteEntry,[H])}else return e.toggle([x.get(e,n),n],H,void 0);return!1}}),t.defineAction({key:"indent-blockquote",icon:u(I,{icon:ue}),type:C.phrasing,computeState:(e,n)=>({active:!1,disabled:!e.canToggle([x.get(e,n),n],H,!1)}),action:(e,n)=>e.toggle([x.get(e,n),n],H,void 0)}),t.defineAction({key:"outdent-blockquote",icon:u(I,{icon:ue}),type:C.phrasing,computeState:(e,n)=>{const r=[x.get(e,n),n],s=e.nearest(r,H),l=!!s,o=!s||!e.canUnwrap(s,[H]);return{active:l,disabled:o,blockquoteEntry:s}},action:(e,n,r)=>r.blockquoteEntry?e.unwrap(r.blockquoteEntry,[H]):!1})}var vn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:_n});function Tn(t){t.defineAction({key:"toggle-codeblock",type:C.phrasing,icon:u(I,{icon:ie}),computeState:(e,n)=>{const r=x.get(e,n),s=P(r,"code");let l;if(s)l=!1;else{const o=x.parent(e,n),a=e.getContentModelType(o);a?l=!q(ut.contentType,a):l=!0}return{active:s,disabled:l}},action:(e,n,r)=>{const s=x.get(e,n);if(r.active)d.unsetNodes(e,Object.keys(x.extractProps(s)),{at:n}),d.setNodes(e,{type:"paragraph"},{at:n});else{const l=x.string(s);d.removeNodes(e,{at:n}),d.insertNodes(e,{type:"code",lang:"markdown",meta:void 0,children:[{text:l}]},{at:n,select:!0})}return!0}})}var wn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:Tn});const ye=L({type:"heading",isInline:!1,isLeaf:!1,wrappingParagraph:!1,contentType:k.flow,contentModelType:k.phrasing,render:(t,{element:e,children:n,attributes:r})=>u(ee,{element:e,children:({active:s})=>y.exports.createElement(`h${e.depth}`,Object.assign(r,{className:Y({active:s})}),n)}),toggle:{prefix:/^#{1,6}$/,estimatePrefixLength:6,toggle:(t,e,n)=>{n?t.runAction(`toggle-heading-${n.depth}`,e):t.runAction("toggle-paragraph",e)},onTrigger:t=>({depth:t.length})},events:{onInsertParagraph:t=>{if(!t.selection)return!1;const e=p.point(t,t.selection),n=S.parent(p.path(t,t.selection));return p.isStart(t,e,n)?t.runAction("toggle-paragraph",n):p.isEnd(t,e,n)?t.runAction("insert-paragraph",S.next(n)):(d.splitNodes(t,{at:t.selection}),t.runAction("toggle-paragraph",S.next(n)))}}});var Sn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ye});G.add(Pe);const Z=L({type:"paragraph",isLeaf:!1,isInline:!1,wrappingParagraph:!1,contentType:k.flow,contentModelType:k.phrasing,toggle:{},events:{},render(t,{element:e,attributes:n,children:r}){return u(ee,{element:e,children:({active:s})=>u("p",O(R({className:Y({active:s})},n),{children:r}))})}});var En=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Z});function kn(t){[1,2,3,4,5,6].forEach(e=>{const n=`H${e}`;t.defineAction({key:`toggle-heading-${e}`,type:C.phrasing,defaultParams:{depth:e},icon:u("span",{children:n}),computeState:(r,s)=>{const l=[x.get(r,s),s],o=r.nearest(l,ye),a=!!o&&o[0].depth===e;let i;return o?i=!r.canToggle(o,Z,!1):i=!r.canToggle(l,ye,!0),{active:a,disabled:i,depth:e}},action:(r,s,l)=>{const o=[x.get(r,s),s];return l.active?r.toggle(o,Z,void 0):r.toggle(o,ye,{depth:e})}})})}var Cn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:kn});function ht(t,e){e&&(typeof e=="function"?e(t):e.current=t)}function Mn(t,e){return n=>{ht(n,t),ht(n,e)}}const Ie=y.exports.forwardRef(function(s,r){var{children:t,attributes:l}=s,o=l,{ref:e}=o,n=we(o,["ref"]);return u("span",O(R({className:"void-element",contentEditable:!1,ref:Mn(r,e)},n),{children:t}))});Ie.displayName="VoidElement";G.add(Ke);const mt=L({type:"image",isInline:!0,isLeaf:!1,contentType:k.staticPhrasing,contentModelType:null,render:(t,{element:e,attributes:n,children:r})=>{const s=Ce();return D(Ie,{attributes:n,children:[u("img",{alt:e.alt,className:Y({selected:s}),src:e.url,title:e.title}),r]})},insert:(t,e,n)=>{d.insertNodes(t,[{text:" "},R({type:"image",children:[]},n),{text:" "}],{at:e})}});var Pn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:mt});function Nn({schema:t,onSubmit:e,defaultValues:n}){return u("div",{contentEditable:!1,children:u(Rt,{className:"action-form",formData:n,onSubmit:r=>e(r.formData),schema:t})})}function Rn(t,e){return y.exports.useCallback(()=>t.selection?K.toDOMRange(t,t.selection).getBoundingClientRect():e.getBoundingClientRect(),[t,e])}function An(t,e){return y.exports.useCallback(()=>{t("user canceled"),e.current&&e.current.hide()},[t])}function On(){const t=y.exports.useRef(),e=y.exports.useCallback(n=>{t.current=n},[t]);return[t,e]}function zn(t,e,n,r){const s=y.exports.useCallback(l=>{var o;e(l),(o=r.current)==null||o.hide()},[e,r]);return y.exports.useMemo(()=>u(Nn,{defaultValues:n,onSubmit:s,schema:t}),[t,s])}function Bn({editor:t,el:e,reject:n,resolve:r,schema:s,defaultValues:l}){const[o,a]=On(),i=Rn(t,e),c=An(n,o),m=zn(s,r,l,o);return u(le,{content:m,getReferenceClientRect:i,interactive:!0,onClickOutside:c,onMount:a,placement:"right-start",visible:!0,children:u("span",{})})}function Le(t,e,n,r){return new Promise((s,l)=>{t.setActionForm(u(Bn,{defaultValues:r,editor:t,el:e,reject:l,resolve:s,schema:n}))}).catch(s=>{if(s==="user canceled")return Promise.resolve(void 0);throw s})}const Dn="\u6DFB\u52A0\u56FE\u7247",In="object",Ln={src:{title:"\u94FE\u63A5",type:"string",format:"url"},alt:{title:"\u66FF\u4EE3\u6587\u672C\uFF08alt\uFF09",type:"string"}},$n=["src","alt"];var jn={title:Dn,type:In,properties:Ln,required:$n};function Fn(t){t.defineAction({key:"toggle-image",type:C.selection,icon:u(I,{icon:Ke}),computeState:(e,n)=>{const r=Be(e,n,"image"),s=!S.equals(S.parent(n.focus.path),S.parent(n.anchor.path))||!me(e,n);return{active:r,disabled:s}},action:(e,n,r,s)=>{if(r.active)return d.unwrapNodes(e,{at:p.unhangRange(e,n),match:l=>!p.isEditor(l)&&B.isElement(l)&&l.type==="image"}),!0;{const l=p.rangeRef(e,n);return Le(e,s.target,jn,{alt:p.string(e,n),src:""}).then(o=>{if(!!l.current&&o){const{src:a,alt:i}=o;p.withoutNormalizing(e,()=>{mt.insert(e,n,{url:a,title:"",alt:i})})}}).finally(()=>{l.unref()}),!1}}})}var qn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:Fn});const Hn="\u6DFB\u52A0\u8D85\u94FE\u63A5",Wn="object",Un={src:{title:"\u94FE\u63A5",type:"string",format:"url"},text:{title:"\u663E\u793A\u6587\u672C",type:"string"}},Vn=["src","text"];var Gn={title:Hn,type:Wn,properties:Un,required:Vn};function Qn(t){t.defineAction({key:"toggle-link",type:C.selection,icon:u(I,{icon:Qe}),computeState:(e,n)=>{const r=Be(e,n,"link"),s=!S.equals(S.parent(n.focus.path),S.parent(n.anchor.path))||!me(e,n);return{active:r,disabled:s}},action:(e,n,r,s)=>{if(r.active)return d.unwrapNodes(e,{at:p.unhangRange(e,n),match:l=>!p.isEditor(l)&&B.isElement(l)&&l.type==="link"}),!0;{const l=p.rangeRef(e,n);return Le(e,s.target,Gn,{text:p.string(e,n),src:""}).then(o=>{if(!!l.current&&o){const{src:a,text:i}=o;p.withoutNormalizing(e,()=>{De.insert(e,n,{url:a,title:"",text:i})})}}).finally(()=>{l.unref()}),!1}}})}var Kn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:Qn});G.add(Ye,Xe);const Q=L({type:"listItem",isLeaf:!1,isInline:!1,wrappingParagraph:!0,contentType:k.list,contentModelType:k.flow,normalize:(t,e,n,r)=>{if(e.children.length>0)if(P(e.children[0],"list")){d.moveNodes(t,{at:n.concat(0),to:S.parent(n)}),r();return}else{const o=e.children.length-1;if(e.children.length>1&&P(e.children[o],"paragraph")){const a=S.next(n);d.moveNodes(t,{at:n.concat(o),to:a}),d.wrapNodes(t,{type:"listItem",checked:e.checked,spread:e.spread,children:[]},{at:a}),r();return}}else{d.removeNodes(t,{at:n}),r();return}const s=x.parent(t,n);t.getContentModelType(s)!==k.list&&(d.wrapNodes(t,{type:"list",ordered:!1,start:void 0,spread:void 0,children:[]},{at:n}),r())},render(t,{element:e,attributes:n,children:r}){return u("li",O(R({},n),{children:r}))},toggle:{},events:{onStartDelete:(t,e)=>t.runAction("outdent-list",S.parent(e)),onStartEnter:(t,e)=>x.string(x.get(t,e))?!1:t.runAction("outdent-list",S.parent(e)),onTab:(t,e)=>t.runAction("indent-list",S.parent(e))}});var Yn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Q});G.add(Je,Ze);const U=L({type:"list",isLeaf:!1,isInline:!1,wrappingParagraph:!0,contentType:k.flow,contentModelType:k.list,normalize:(t,e,n,r)=>{if(e.children.length===0){d.removeNodes(t,{at:n}),r();return}if(S.hasPrevious(n)){const s=x.get(t,S.previous(n));if(P(s,"list")&&Boolean(s.ordered)===Boolean(e.ordered)&&s.start===void 0&&e.start===void 0){d.mergeNodes(t,{at:n}),r();return}}},render(t,{element:e,attributes:n,children:r}){return e.ordered?u("ol",O(R({},n),{start:e.start,children:r})):u("ul",O(R({},n),{children:r}))},toggle:{prefix:/^(?:-|\d+\.)$/,toggle:(t,e,n)=>{if(n===!1)throw new Error("should never reach");{let r;return t.runActionParams=n,t.nearest([x.get(t,e),e],U)?r=t.runAction("indent-list",e):r=t.runAction(`toggle-${n.ordered?"ordered":"unordered"}-list`,e),t.runActionParams=void 0,r}},onTrigger:t=>{if(t==="-")return{ordered:!1,start:void 0,spread:void 0};{const e=parseInt(t);return{ordered:!0,start:e===1?void 0:e,spread:void 0}}}},events:{}});var Xn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:U});const bt=t=>{let e,n;if(t.runActionParams&&typeof t.runActionParams=="object"){const{ordered:r,start:s}=t.runActionParams;typeof r=="boolean"&&(e=r),typeof s=="number"&&(n=s)}return{ordered:e,start:n}};function Jn(t){t.defineAction({key:"indent-list",type:C.phrasing,icon:u(I,{icon:Ye}),computeState:(e,n)=>{const r=[x.get(e,n),n],s=e.nearest(r,Q),l=e.nearest(s!=null?s:r,U),o=!1,a=!l||!s||!S.hasPrevious(s[1])||l[0].children.length<=1;return R({active:o,disabled:a,listEntry:l,listItemEntry:s},bt(e))},action:(e,n,r)=>{var o;const{listEntry:s,listItemEntry:l}=r;return!l||!s?!1:e.wrap(l,[Q,U],[{spread:void 0,checked:void 0},{ordered:(o=r.ordered)!=null?o:s[0].ordered,spread:void 0,start:r.start}])?(d.mergeNodes(e,{at:l[1]}),!0):!1}}),t.defineAction({key:"outdent-list",type:C.phrasing,icon:u(I,{icon:Xe}),computeState:(e,n)=>{const r=[x.get(e,n),n],s=e.nearest(r,Q),l=e.nearest(s!=null?s:r,U);return{active:!1,disabled:!l||!s,listEntry:l,listItemEntry:s}},action:(e,n,r)=>{const{listEntry:s,listItemEntry:l}=r;if(!l||!s)return!1;const o=p.pathRef(e,l[1]),a=S.next(l[1]);if(p.hasPath(e,a)&&d.splitNodes(e,{at:a}),d.splitNodes(e,{at:l[1]}),o.current){const i=S.parent(o.current),c=[x.get(e,i),i];e.unwrap(c,[U,Q]),d.splitNodes(e,{at:i})}return o.unref(),!0}}),[!0,!1].forEach(e=>{const n={ordered:e,spread:void 0,start:void 0},r={spread:void 0,checked:void 0};t.defineAction({key:`toggle-${e?"ordered":"unordered"}-list`,type:C.phrasing,icon:u(I,{icon:e?Je:Ze}),computeState:(s,l)=>{const o=[x.get(s,l),l],a=s.nearest(o,U),i=a?Boolean(a[0].ordered)===Boolean(e):!1;let c;return a?i?c=!s.canUnwrap(a,[U,Q]):c=!0:c=!s.canWrap(o,[U,Q],[n,r]),{active:i,disabled:c,listEntry:a}},action:(s,l,o)=>{const a=[x.get(s,l),l],{ordered:i,start:c}=bt(s);return o.listEntry?o.active?s.unwrap(o.listEntry,[U,Q]):(d.setNodes(s,{ordered:i,start:c},{at:o.listEntry[1]}),!0):s.wrap(a,[U,Q],[Object.assign({},n,{start:c}),r])}})})}var Zn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:Jn});function er(t){t.defineAction({key:"toggle-paragraph",type:C.phrasing,icon:u(I,{icon:Pe}),computeState:(e,n)=>{const r=[x.get(e,n),n],s=e.nearest(r,Z),l=!!s;let o;return s?o=!0:o=!e.canToggle(r,Z,!0),{active:l,disabled:o}},action:(e,n,r)=>{const s=[x.get(e,n),n];return r.active?!1:e.toggle(s,Z,void 0)}}),t.defineAction({key:"insert-paragraph",type:C.toplevel,icon:u(I,{icon:Pe}),computeState:()=>({active:!1,disabled:!1}),action:(e,n,r)=>(d.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:n,select:!0}),!0)})}var tr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:er});const xe=y.exports.createContext({isHeader:!1});var nr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",TableContext:xe});const $e=L({type:"tableCell",isInline:!1,isLeaf:!1,contentType:k.tableRow,contentModelType:k.phrasing,wrappingParagraph:!1,events:{onStartDelete:(t,e)=>!0,onInsertParagraph:(t,e)=>(t.insertText(`
`),!0)},toggle:{},render:(t,{element:e,attributes:n,children:r})=>u(xe.Consumer,{children:({isHeader:s})=>s?u("th",O(R({},n),{children:r})):u("td",O(R({},n),{children:r}))})});var rr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$e});const yt=L({type:"tableRow",isInline:!1,isLeaf:!1,contentType:k.table,contentModelType:k.tableRow,wrappingParagraph:!1,events:{},toggle:{},normalize:(t,e,n,r)=>{for(const[o,a]of e.children.entries())if(!P(a,"tableCell")){const i=t.getContentType(a);if(i)if(q(i,$e.contentModelType))d.unsetNodes(t,Object.keys(x.extractProps(a)),{at:n.concat(o)}),d.setNodes(t,{type:"tableCell"},{at:n.concat(o)});else{const[...c]=p.nodes(t,{at:n.concat(o),mode:"highest",match:b=>{if($.isText(b))return!0;const v=t.getContentType(b);return!!v&&q(v,k.phrasing)}}),m=c.map(b=>b[0]);m.length===0&&(m[0]={text:""}),d.removeNodes(t,{at:n.concat(o)}),d.insertNodes(t,{type:"tableCell",children:c.map(b=>b[0])},{at:n.concat(o),select:!0})}}const s=e.children.length,l=x.parent(t,n).children[0].children.length;if(s===0)d.removeNodes(t,{at:n}),r();else if(s<l)d.insertNodes(t,Array(l-s).fill({type:"tableCell",children:[{text:""}]}),{at:n.concat(s)});else for(let o=s-1;o>=l;o--)d.removeNodes(t,{at:n.concat(o)})},render:(t,{element:e,attributes:n,children:r})=>u("tr",O(R({},n),{children:r}))});var sr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yt});G.add(Ne);const xt=L({type:"table",isInline:!1,isLeaf:!1,contentType:k.flow,contentModelType:k.table,wrappingParagraph:!1,events:{},toggle:{},normalize:(t,e,n,r)=>{e.children.length===0&&(d.removeNodes(t,{at:n}),r());for(let s=e.children.length-1;s>=0;--s){const l=e.children[s],o=t.getContentType(l);(!o||!q(o,yt.contentType))&&d.removeNodes(t,{at:n.concat(s)})}},render:(t,{element:e,attributes:n,children:r})=>{const s=Ce(),l=Y({selected:s}),[o,...a]=r,i={isHeader:!0,align:e.align},c={isHeader:!1,align:e.align};return u(ee,{element:e,children:D("table",O(R({className:l},n),{children:[o&&u(xe.Provider,{value:i,children:u("thead",{children:o})}),u(xe.Provider,{value:c,children:u("tbody",{children:a})})]}))})}});var or=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:xt});const ar="\u6DFB\u52A0\u56FE\u7247",lr="object",ir={cols:{title:"\u5217\u6570",type:"number",min:2},rows:{title:"\u884C\u6570",type:"number",min:2}},cr=["cols","rows"];var ur={title:ar,type:lr,properties:ir,required:cr};const _e=t=>t.children.length>0?t.children[0].children.length:0;function je(t,e,n){let r;return t.selection&&([r]=p.nodes(t,{at:t.selection,mode:"lowest",match:s=>P(s,"tableRow")})),r?r[1]:e.concat(n)}function Fe(t,e){let n;if(t.selection){const r=t.selection.focus.path,s=t.nearest([x.get(t,r),r],$e);s&&(n=s[1][s[1].length-1])}return typeof n!="number"&&(n=e),n}function _t(t,e,n){d.insertNodes(t,{type:"tableRow",children:Array(n).fill(0).map(()=>({type:"tableCell",children:[{text:""}]}))},{at:e})}function vt(t,e,n){for(const[r]of Array(e[0].children.length).fill(0).entries()){const s=e[1].concat(r,n);d.insertNodes(t,{type:"tableCell",children:[{text:""}]},{at:s})}}function pr(t){t.defineAction({key:"toggle-table",type:C.phrasing,icon:u(I,{icon:Ne}),computeState:(e,n)=>{const r=x.get(e,n),s=P(r,"table");let l,o;if(s)o=!1,l=[r,n];else{const a=x.parent(e,n),i=e.getContentModelType(a);i?o=!q(xt.contentType,i):o=!0}return{active:s,disabled:o,tableEntry:l}},action:(e,n,r,s)=>{if(r.active){if(!r.tableEntry)return!1;const[l,o]=r.tableEntry,a=[...x.texts(l)].map(([i])=>i.text).join(" ");return d.removeNodes(e,{at:o}),d.insertNodes(e,{type:"paragraph",children:[{text:a}]},{at:o}),!0}else{const l=p.pathRef(e,n);return Le(e,s.target,ur,{cols:2,rows:2}).then(o=>{const a=l.current;!a||o&&p.withoutNormalizing(e,()=>{const{cols:i,rows:c}=o;d.removeNodes(e,{at:a}),d.insertNodes(e,{type:"table",align:void 0,children:Array(c).fill(0).map(()=>({type:"tableRow",children:Array(i).fill(0).map(()=>({type:"tableCell",children:[{text:""}]}))}))},{at:a})})}).finally(()=>l.unref()),!0}}}),t.defineAction({key:"remove-selection-table",type:C.selection,icon:u(I,{icon:Ne}),computeState:(e,n)=>{const[r]=p.nodes(e,{at:n,match:o=>P(o,"table")});return{active:!!r,disabled:!r,tableEntry:r}},action:(e,n,r)=>{if(!r.tableEntry)return!1;const[s,l]=r.tableEntry,o=[...x.texts(s)].map(([a])=>a.text).join(" ");return d.removeNodes(e,{at:l}),d.insertNodes(e,{type:"paragraph",children:[{text:o}]},{at:l,select:!0}),!0}}),t.defineAction({key:"table-insert-row-above",type:C.selection,icon:u(At,{}),computeState:(e,n)=>{const[r]=p.nodes(e,{at:n,mode:"lowest",match:s=>P(s,"table")});return{active:!1,disabled:!r,tableEntry:r}},action:(e,n,r)=>{if(!r.tableEntry)return!1;const[s,l]=r.tableEntry,o=je(e,l,0),a=_e(s);return _t(e,o,a),!0}}),t.defineAction({key:"table-insert-row-below",type:C.selection,icon:u(Ot,{}),computeState:(e,n)=>{const[r]=p.nodes(e,{at:n,mode:"lowest",match:s=>P(s,"table")});return{active:!1,disabled:!r,tableEntry:r}},action:(e,n,r)=>{if(!r.tableEntry)return!1;const[s,l]=r.tableEntry,o=je(e,l,s.children.length-1);o[o.length-1]+=1;const a=_e(s);return _t(e,o,a),!0}}),t.defineAction({key:"table-insert-row-left",type:C.selection,icon:u(zt,{}),computeState:(e,n)=>{const[r]=p.nodes(e,{at:n,mode:"lowest",match:s=>P(s,"table")});return{active:!1,disabled:!r,tableEntry:r}},action:(e,n,r)=>{if(!r.tableEntry)return!1;const s=Fe(e,0);return vt(e,r.tableEntry,s),!0}}),t.defineAction({key:"table-insert-row-right",type:C.selection,icon:u(Bt,{}),computeState:(e,n)=>{const[r]=p.nodes(e,{at:n,mode:"lowest",match:s=>P(s,"table")});return{active:!1,disabled:!r,tableEntry:r}},action:(e,n,r)=>{if(!r.tableEntry)return!1;const s=Fe(e,_e(r.tableEntry[0])-1)+1;return vt(e,r.tableEntry,s),!0}}),t.defineAction({key:"table-delete-row",type:C.selection,icon:u(Dt,{}),computeState:(e,n)=>{const[r]=p.nodes(e,{at:n,mode:"lowest",match:s=>P(s,"table")});return{active:!1,disabled:!r||r[0].children.length<=1,tableEntry:r}},action:(e,n,r)=>{if(!r.tableEntry)return!1;const[,s]=r.tableEntry,l=je(e,s,0);return d.removeNodes(e,{at:l}),d.deselect(e),!0}}),t.defineAction({key:"table-delete-col",type:C.selection,icon:u(It,{}),computeState:(e,n)=>{const[r]=p.nodes(e,{at:n,mode:"lowest",match:s=>P(s,"table")});return{active:!1,disabled:!r||_e(r[0])<=1,tableEntry:r}},action:(e,n,r)=>{if(!r.tableEntry)return!1;const[,s]=r.tableEntry,l=Fe(e,0);return d.removeNodes(e,{at:s,match:(o,a)=>P(o,"tableCell")&&a[a.length-1]===l}),d.deselect(e),!0}})}var fr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:pr});function dr(t){t.onWrapEditor(e=>{W(e,"deleteFragment",n=>r=>{var s;if(e.selection){const[...l]=p.nodes(e,{at:e.selection,match:o=>P(o,"table"),mode:"highest"});if(l.length){const o=p.rangeRef(e,e.selection),a=[],[i,c]=p.edges(e,e.selection);let m=i;for(const[,b]of l){let v=!0;const E=p.point(e,S.next(b),{edge:"start"});if(S.hasPrevious(b)){const w=p.point(e,S.previous(b),{edge:"end"});ce.isBefore(m,w)&&(ce.isBefore(E,c)?(a.push(p.range(e,b)),v=!1):a.push(p.unhangRange(e,{anchor:m,focus:w})))}if(m=E,!v)continue;const f=p.nodes(e,{match:(w,_)=>_.length>2&&S.isParent(b,S.parent(S.parent(_)))});for(const[,w]of f){const _=j.intersection(e.selection,p.range(e,w));_&&!j.isCollapsed(_)&&d.delete(e,{at:_})}}ce.isBefore(m,c)&&a.push({anchor:m,focus:c});for(const b of a.reverse())d.select(e,p.unhangRange(e,b)),n(r);d.select(e,(s=o.current)!=null?s:p.end(e,[])),o.unref();return}}n(r)})}),W(t,"createDefaultEditableProps",e=>n=>W(e(n),"onDrag",r=>s=>{const[l]=p.nodes(n,{match:o=>P(o,"table")});l&&(s.preventDefault(),s.stopPropagation()),r==null||r(s)}))}var gr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:dr});function hr(t){[{key:A.strong,icon:Se,tips:u(pe,{children:"\u52A0\u7C97"}),hotkeys:["meta+b"]},{key:A.emphasis,icon:Ee,tips:u(pe,{children:"\u659C\u4F53"}),hotkeys:["meta+i"]},{key:A.inlineCode,icon:ie,tips:u(pe,{children:"\u884C\u5185\u4EE3\u7801"})},{key:A.delete,icon:ke,tips:u(pe,{children:"\u5220\u9664"})}].forEach(({icon:e,key:n,tips:r,hotkeys:s})=>{t.defineAction({key:n,type:C.selection,icon:u(I,{icon:e}),tips:r,hotkeys:s,computeState:(l,o)=>{const a=Oe(l,o,n),i=!me(l,o);return{active:a,disabled:i}},action:(l,o,a,i)=>(Ae.toggleDecorator(l,o,n),!0)})})}var mr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:hr}),br=L({type:"thematicBreak",isLeaf:!1,isInline:!1,wrappingParagraph:!1,contentType:k.flow,contentModelType:null,render(t,{element:e,children:n,attributes:r}){return u(ee,{element:e,children:D(Ie,{attributes:r,children:[u("hr",{}),n]})})},toggle:{prefix:/^---$/,estimatePrefixLength:3,toggle:(t,e,n)=>{n?(d.removeNodes(t,{at:e}),d.insertNodes(t,{type:"paragraph",children:[{text:""}]},{at:e}),d.insertNodes(t,{type:"thematicBreak",children:[]},{at:e}),K.deselect(t),d.select(t,p.start(t,S.next(e)))):d.setNodes(t,{type:"thematicBreak",children:[{text:""}]},{at:e})},onTrigger:(t,e,n)=>{if(!(n.length>1))return!0}},events:{}}),yr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:br});const xr={"./blockquote/BlockquoteNode.tsx":mn,"./blockquote/action.tsx":vn,"./code/CodeNode.tsx":un,"./code/LangSelect.tsx":ln,"./code/actions.tsx":wn,"./heading/HeadingNode.tsx":Sn,"./heading/actions.tsx":Cn,"./image/ImageNode.tsx":Pn,"./image/action.tsx":qn,"./link/LinkNode.tsx":fn,"./link/action.tsx":Kn,"./list/ListItemNode.tsx":Yn,"./list/ListNode.tsx":Xn,"./list/actions.tsx":Zn,"./paragraph/ParagraphNode.tsx":En,"./paragraph/actions.tsx":tr,"./table/TableCellNode.tsx":rr,"./table/TableNode.tsx":or,"./table/TableRowNode.tsx":sr,"./table/actions.tsx":fr,"./table/context.tsx":nr,"./table/rules.tsx":gr,"./text/TextNode.tsx":pn,"./text/actions.tsx":mr,"./thematic-break/ThematicBreakNode.tsx":yr};function _r(t){for(const[e,{default:n,register:r}]of Object.entries(xr)){const s=r||(n==null?void 0:n.register);typeof s=="function"&&(console.debug("auto detected",e),s(t))}}G.add(Se,Ee,ke,ie);function Tt(t,e){if(!!e)return typeof e=="function"?e(t):e}function vr(t,e){var r;if(!e)return[];const n=(r=K.toSlateRange(t,e,{exactMatch:!0}))!=null?r:t.selection;if(n){if(!ft(t,n))return[];const[s]=p.nodes(t,{at:n,match:l=>{const o=l.type;if(o){const a=t.factory.customElementMap.get(o);if(a&&a.contentModelType!==k.value)return!0}return!1}});if(!s)return[]}return t.getActions(n!=null?n:void 0,t.factory.selectionActions).map(({action:{key:s,icon:l,tips:o},state:a})=>({key:s,disabled:a.disabled,active:a.active,icon:Tt(a,l),tips:Tt(a,o),action:i=>{t.runAction(s,n!=null?n:void 0,i)}})).filter(s=>!s.disabled)}function Tr(){const t=ae(),e=y.exports.useRef(null),n=y.exports.useRef(),[r,s]=y.exports.useState(!0),l=at(),[o,a]=y.exports.useState([]);t.hideSelectionToolbar=()=>s(!0);const i=y.exports.useMemo(()=>({getBoundingClientRect(){return n.current?n.current.getBoundingClientRect():{width:0,height:0}}}),[t,n]),{styles:c,attributes:m,update:b}=Lt(i,e.current,{placement:"top",modifiers:[{name:"computeStyles",options:{adaptive:!1}},{name:"offset",options:{offset:[0,8]}}]});return t.updateSelectionToolbar=v=>{if(v){const f=!n.current;n.current=v,f&&setTimeout(()=>{t.updateSelectionToolbar()},0)}const E=vr(t,n.current);a(E),E.length>0?(s(!1),b&&b()):s(!0),l()},t.toggleSelectionToolbar=v=>{r?t.updateSelectionToolbar(v):t.hideSelectionToolbar()},u("div",O(R({className:"ti-hovering-toolbar",ref:e,style:O(R({},c.popper),{opacity:r?0:1,pointerEvents:r?"none":"initial"})},m.popper),{children:o.map(v=>u(st,{action:v.action,active:v.active,disabled:v.disabled,icon:v.icon,tips:v.tips},v.key))}))}function wr(t){const e=t.createDefaultChildren.bind(t);t.createDefaultChildren=n=>{const r=e(n);return r.push(y.exports.createElement(Tr,{key:"selection-toolbar"})),r},t.onWrapEditor(n=>{n.updateSelectionToolbar=n.hideSelectionToolbar=n.toggleSelectionToolbar=()=>{}})}const wt=$t({proto:!1,circles:!1});function Sr(t){const e=[],n=[],r=fe(),s=fe(),l=fe(),o=fe();t.freezeProcessors=()=>{r.use(e).use(et).use(de).use(jt,{emphasis:"*",strong:"*",listItemIndent:"one",fence:"`",bullet:"-"}).freeze(),s.use(e).use(et).use(de).use(Ft).use(qt).freeze(),l.use(Ht).use(de).use(tt).use(n).freeze(),o.use(Wt).use(Ut).use(de).use(tt).use(n).freeze()},t.configProcessor=(...a)=>{t.configSerializeProcessor(...a),t.configDeserializeProcessor(...a)},t.configSerializeProcessor=(...a)=>{e.push(...a)},t.configDeserializeProcessor=(...a)=>{n.push(...a)},t.generateMarkdown=a=>r.stringify(r.runSync({type:"root",children:wt(a)})),t.generateHtml=a=>s.stringify(s.runSync({type:"root",children:wt(a)})),t.parseMarkdown=a=>l.processSync(a).result,t.parseHtml=a=>o.processSync(a).result,W(t,"createDefaultEditableProps",a=>i=>W(a(i),"onPaste",c=>m=>{const b=m.clipboardData;if(b&&b.types.indexOf("application/x-slate-fragment")<0){if(b.types.indexOf("text/html")>=0){const v=b.getData("text/html"),E=t.parseHtml(v);i.insertFragment(E),m.preventDefault();return}else if(b.types.indexOf("text/plain")>=0){const v=b.getData("text/plain"),E=t.parseMarkdown(v);i.insertFragment(E),m.preventDefault();return}}c==null||c(m)})),t.onWrapEditor(a=>{W(a,"insertFragment",i=>c=>{if(a.selection){const m=x.parent(a,a.selection.anchor.path);if(a.getContentModelType(m)===k.value){d.insertText(a,t.generateMarkdown(c));return}}i(c)}),W(a,"setFragmentData",i=>c=>{i(c),c.setData("text/plain",t.generateMarkdown(a.getFragment()))})})}var X;(function(t){t[t.replace=1]="replace",t[t.wrap=2]="wrap",t[t.unwrap=3]="unwrap",t[t.custom=4]="custom"})(X||(X={}));function ve(t){const e=new gn;return e.use(Sr),e.use(xn),e.use(wr),_r(e),t&&t(e),e.freezeProcessors(),e}const ne=y.exports.forwardRef(({factory:t,disabled:e=!1,initialMarkdown:n="",config:r,uploadFile:s,value:l,onChange:o,children:a},i)=>{const c=y.exports.useMemo(()=>{const h=Vt(Gt(Qt()));return h.onAlert=(T,M)=>{console.warn(T,M)},t.wrapEditor(h)},[t]);y.exports.useEffect(()=>{i&&(typeof i=="function"?i(c):i.current=c)},[c,i]),y.exports.useEffect(()=>{n&&(c.markdown=n)},[c]);const m=y.exports.useMemo(()=>t.createDefaultEditableProps(c),[t,c]),b=y.exports.useRef(null),v=y.exports.useMemo(()=>({getEditorDOMRect(){var h,T;return(T=(h=b.current)==null?void 0:h.getBoundingClientRect())!=null?T:new DOMRect}}),[b]),[E,f]=y.exports.useState();c.setActionForm=f,s&&(c.uploadFile=s);const w=y.exports.useMemo(()=>{if(E)return Kt.exports.createPortal(E,document.body)},[E]),_=y.exports.useCallback(h=>{o(h)},[o]);y.exports.useEffect(()=>{t.triggerEditorMounted(c)},[c]);const g=y.exports.useMemo(()=>t.createDefaultChildren(c),[t,c]);return D(Yt,{editor:c,onChange:_,value:l,children:[g,D(lt.Provider,{value:v,children:[u("div",{className:"ti-community-editor-container",ref:b,children:u(Xt,R({as:"article",className:"ti-community-editor markdown-body",readOnly:e},m))}),a]}),w]})});ne.displayName="TiEditor";var Er=L({type:"section",isLeaf:!1,isInline:!1,isEditable:!1,contentType:k.flow,contentModelType:k.flow,wrappingParagraph:!1,normalize:(t,e,n,r)=>{e.children.length===0&&(d.removeNodes(t,{at:n}),r())},render(t,{attributes:e,children:n}){return u("section",O(R({},e),{children:n}))},events:{},toggle:{}});const kr=()=>t=>{Jt(t,n=>"children"in n&&"type"in n,n=>{for(let r=n.children.length-1;r>=0;--r){const s=n.children[r];s.type==="section"&&n.children.splice(r,1,...s.children)}})};function Cr(t,e,n){for(const r of e)if((nt.isNodeOperation(r)||nt.isTextOperation(r))&&j.includes(n,r.path))return!0;return!1}function re({section:t,value:e=[],onChange:n}){const r=ae(),s=y.exports.useRef(n),l=y.exports.useRef([]);return s.current=n,y.exports.useEffect(()=>{const o=r.factory.registerOnChange(()=>{const i=r.getSectionRange(t);if(!!i&&Cr(r,r.operations,i)){const c=r.getSection(t);l.current=c,s.current(c)}}),a=r.factory.registerOnSectionLayout(i=>{t===i&&e!==l.current&&(l.current=e,r.setSection(t,e))});return()=>{o(),a()}},[r]),y.exports.useEffect(()=>{e!==l.current&&r.setSection(t,e)},[e]),null}function St(t){Er.register(t),t.configSerializeProcessor(kr);let e=[];t.configSections=o=>{e=o};const n=new WeakMap;t.onWrapEditor(o=>{const{normalizeNode:a,deleteFragment:i,deleteBackward:c,deleteForward:m,insertFragment:b,runAction:v,onChange:E,insertText:f,insertBreak:w}=o,_=[];n.set(o,_),o.insertFragment=g=>{b(g.filter(h=>!P(h,"section")))},o.runAction=(g,h,T)=>{if(h){const M=p.range(o,h);let N=!1;for(const z of _)if(z.current&&j.includes(M,z.current)){N=!0;break}if(N)return o.onAlert("\u65E0\u6CD5\u64CD\u4F5C\u56FA\u5B9A\u5185\u5BB9",""),!1}return v(g,h,T)},o.deleteFragment=g=>{if(o.selection){let h=!1;for(const T of _)if(T.current&&j.includes(o.selection,T.current)){h=!0;break}if(h){o.onAlert("\u65E0\u6CD5\u5220\u9664\u56FA\u5B9A\u5185\u5BB9","");return}}i(g)},o.deleteBackward=g=>{if(o.selection){const h=p.before(o,o.selection,{unit:g});if(h&&P(p.node(o,h,{depth:1})[0],"section")){o.onAlert("\u65E0\u6CD5\u5220\u9664\u56FA\u5B9A\u5185\u5BB9","");return}}c(g)},o.deleteForward=g=>{if(o.selection){const h=p.after(o,o.selection,{unit:g});if(h&&P(p.node(o,h,{depth:1})[0],"section")){o.onAlert("\u65E0\u6CD5\u5220\u9664\u56FA\u5B9A\u5185\u5BB9","");return}}m(g)},o.normalizeNode=g=>{a(g)},Object.defineProperty(o,"markdown",{get(){console.warn("editor.markdown was disabled for layout plugin, use editor.getSectionMarkdown instead")},set(){console.warn("editor.markdown was disabled for layout plugin, use editor.setSectionMarkdown instead")}}),o.getSectionSpan=g=>{if(g>=_.length)return;let h=_[g].current;if(!h)return;let T;if(g<_.length-1?T=_[g+1].current:T=[o.children.length-1],!!T&&(h=S.next(h),S.hasPrevious(T)?T=S.previous(T):T=h,S.isBefore(T,h)&&(T=h),!(!p.hasPath(o,h)||!p.hasPath(o,T))))return[h,T]},o.getSectionRange=g=>{const h=o.getSectionSpan(g);if(!h)return;const[T,M]=h,N=p.start(o,T),z=p.end(o,M);return{anchor:N,focus:z}},o.getSection=g=>{const h=o.getSectionSpan(g);if(!h)return[];const[...T]=p.nodes(o,{at:h,mode:"highest",match:M=>!p.isEditor(M)});return T.map(([M])=>M)},o.getSectionMarkdown=g=>t.generateMarkdown(o.getSection(g)),o.setSection=(g,h)=>{const T=o.getSectionRange(g);!T||(d.select(o,T),o.insertFragment(h))},o.setSectionMarkdown=(g,h)=>{o.setSection(g,t.parseMarkdown(h))},o.onChange=()=>{E(),Object.values(s).forEach(g=>g())},o.onSectionLayout=g=>{Object.values(l).forEach(h=>h(g))}}),t.onEditorMounted(o=>{const a=n.get(o);if(!a)throw new Error;const i=(c,m)=>(d.insertNodes(o,[c,{type:"paragraph",children:[{text:""}]}],{at:[m*2]}),p.pathRef(o,[m*2]));Re.withoutSaving(o,()=>{p.withoutNormalizing(o,()=>{if(e.length&&a.length===0){for(let c=0;c<e.length;++c)a[c]=i(e[c],c);return}})});for(let c=0;c<e.length;++c)o.onSectionLayout(c)});let r=0;const s={},l={};t.registerOnChange=o=>{const a=++r;return s[a]=o,()=>{delete s[r]}},t.registerOnSectionLayout=o=>{const a=++r;return l[a]=o,()=>{delete l[r]}},W(t,"createDefaultEditableProps",o=>a=>W(o(a),"onKeyDown",i=>c=>{if((!c.metaKey||t.actionHotKeysHas(c))&&a.selection){let m=!1;for(const b of n.get(a)||[])if(b.current&&j.intersection(a.selection,p.range(a,b.current))){m=!0;break}if(m){a.onAlert("\u65E0\u6CD5\u7F16\u8F91\u56FA\u5B9A\u5185\u5BB9",""),c.preventDefault(),c.stopPropagation();return}}i==null||i(c)}))}var Mr=L({type:"linkBlock",isLeaf:!1,isInline:!1,contentType:k.flow,contentModelType:null,wrappingParagraph:!1,normalize:(t,e,n)=>{const r=S.next(n);p.hasPath(t,r)||d.insertNodes(t,{type:"paragraph",children:[{text:""}]},{at:r})},render:(t,{attributes:e,children:n,element:r})=>{const s=t.factory.renderLinkBlock(t,r.link);return D("div",O(R({className:"ti-link-block",contentEditable:!1},e),{children:[s,n]}))},events:{},toggle:{}});function Pr(t,e){return typeof t.test=="function"?t.test(e):t.test.test(e)}function Nr(t){return e=>{Mr.register(e),e.renderLinkBlock=(n,r)=>{for(const s of t.rules)if(Pr(s,r))return s.render(n,r);return y.exports.createElement("a",{href:r},[r])}}}const Rr=`### \u5F15\u7528 (blockquote)

\`\`\`markdown
> blockquote
> 
> yeah
\`\`\`

> blockquote
> 
> yeah

- \u6DFB\u52A0\u5F15\u7528
  - \u8F93\u5165 \`>\` \u5E76\u8F93\u5165\u7A7A\u683C
- \u5220\u9664\u5F15\u7528
  - \u5728\u5F15\u7528\u8D77\u59CB\u5904\u70B9\u51FB \`<Backspace>\`
`;var Ar=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:Rr});const Or=`### Codes

### Usage

- \u8F93\u5165 \\\`\\\`\\\` \u52A0\u7A7A\u683C

### Examples

\`\`\`javascript
console.log('hello world')
\`\`\`

\`\`\`sql
SELECT * FROM hello_world;
\`\`\`

`;var zr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:Or});const Br=`### \u6807\u9898

\`\`\`markdown
# h1
## h2
### h3
#### h4
##### h5
###### h6
\`\`\`

> # h1
> ## h2
> ### h3
> #### h4
> ##### h5
> ###### h6

- \u521B\u5EFA\u6807\u9898
  1. \u8F93\u5165 1-6 \u4E2A \`#\` \u5E76\u8F93\u5165\u7A7A\u683C
  2. \u5728\u6807\u9898\u4E2D\u95F4\u6216\u7ED3\u5C3E\u70B9\u51FB \`<Enter>\`
- \u5220\u9664\u6807\u9898
  - \u5728\u6807\u9898\u8D77\u59CB\u5904\u70B9\u51FB \`<Enter>\` \u4EE5\u5C06\u6807\u9898\u8F6C\u6362\u6210\u6BB5\u843D
`;var Dr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:Br});const Ir=`### Image

![google logo](https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_92x30dp.png "google")
`;var Lr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:Ir});const $r=`### \u94FE\u63A5

\`\`\`
[title](url)
\`\`\`

> [title](#)

- \u521B\u5EFA\u94FE\u63A5
  - \u8F93\u5165\u94FE\u63A5 url \u5E76\u8F93\u5165\u7A7A\u683C\u4F1A\u81EA\u52A8\u8F6C\u6362
`;var jr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:$r});const Fr=`### \u5217\u8868

\`\`\`markdown
- \u65E0\u5E8F\u5217\u8868
- ...
  - \u7F29\u8FDB\u5217\u8868

1. \u6709\u5E8F\u5217\u8868
\`\`\`

> - \u65E0\u5E8F\u5217\u8868
> - ...
>   - \u7F29\u8FDB\u5217\u8868
> 
> 1. \u6709\u5E8F\u5217\u8868 1
> 2. \u6709\u5E8F\u5217\u8868 2

\u4F7F\u7528\u4EE5\u4E0B\u65B9\u5F0F\u63A7\u5236 Markdown \u5217\u8868\uFF1A
- \u65B0\u5EFA\u5217\u8868\uFF1A
  1. \u8F93\u5165 \`-\` \u52A0\u7A7A\u683C\u63D2\u5165\u65E0\u5E8F\u5217\u8868
  2. \u8F93\u5165 \`number.\` \u52A0\u7A7A\u683C\u63D2\u5165\u6709\u5E8F\u5217\u8868
- \u5217\u8868\u7F29\u8FDB\uFF1A
  1. \u5728\u5217\u8868\u9879\u4E2D\u8F93\u5165 \`<Tab>\` \u751F\u6210\u4E0B\u7EA7\u5217\u8868 
  2. \u5728\u5217\u8868\u9879\u4E2D\u8F93\u5165 \`-\` \u6216 \`<number>\`\u3002
- \u53D6\u6D88\u5217\u8868
  1. \u5728\u7A7A\u5217\u8868\u9879\u4E2D\u76F4\u63A5\u8F93\u5165 \`<Enter>\`
`;var qr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:Fr});const Hr=`### Table

| foo | bar |
| :-- | :-: |
| baz | qux |

`;var Wr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:Hr});const Ur=`# a-editor

## \u6280\u672F\u6808

- core
  - [slate](https://www.slatejs.org/)
  - [remark](https://remark.js.org/)
  - [remark-slate-transformer](https://github.com/inokawa/remark-slate-transformer)
- code highlight
  - [prism](https://prismjs.com/)

## \u6837\u5F0F\u914D\u7F6E

### \u4EE3\u7801\u9AD8\u4EAE

\u5728 \`src/slate-markdown/elements/code/style.less\` \u6DFB\u52A0\u5BF9\u5E94 token \u6837\u5F0F\u3002

abc
deb

## \u7528\u6CD5
`,Vr={"../src/slate-markdown/elements/blockquote/instructions.md":Ar,"../src/slate-markdown/elements/code/instructions.md":zr,"../src/slate-markdown/elements/heading/instructions.md":Dr,"../src/slate-markdown/elements/image/instructions.md":Lr,"../src/slate-markdown/elements/link/instructions.md":jr,"../src/slate-markdown/elements/list/instructions.md":qr,"../src/slate-markdown/elements/table/instructions.md":Wr},Gr=Ur+`

`+Object.values(Vr).map(t=>t.plainText).join(`

`);function Qr(t){t.use(St),t.configSections([{type:"section",children:[{type:"heading",depth:1,children:[{text:"section 1",inlineCode:!0},{text:" \u65E0\u6CD5\u4FEE\u6539\u6216\u5220\u9664\uFF0C\u4F7F\u7528\u65B9\u6CD5\u67E5\u770B "},{text:"plugins/layout",inlineCode:!0}]},{type:"blockquote",children:[{type:"paragraph",children:[{text:"\u7528\u4E8E\u56FA\u5B9A\u7684\u5185\u5BB9\u7ED3\u6784"}]}]}]},{type:"section",children:[{type:"heading",depth:1,children:[{text:"section 2",inlineCode:!0}]}]}]),t.onEditorMounted(e=>{setTimeout(()=>{Re.withoutSaving(e,()=>{e.setSectionMarkdown(0,"write something here"),e.setSectionMarkdown(1,Gr)})})})}async function Kr(t){return new Promise((e,n)=>{const r=new FileReader;r.onloadend=function(){setTimeout(()=>{e(r.result)},500)},r.onerror=function(){n(r.error)},r.readAsDataURL(t)})}const Yr=ve(Qr);function Xr(){const[t,e]=y.exports.useState([]),n=y.exports.useCallback(a=>{e(a)},[t]),[r,s]=y.exports.useState([]),[l,o]=y.exports.useState([]);return u("div",{children:D(ne,{factory:Yr,onChange:n,uploadFile:Kr,value:t,children:[u(re,{onChange:s,section:0,value:r}),u(re,{onChange:o,section:1,value:l})]})})}async function Jr(t){return new Promise((e,n)=>{const r=new FileReader;r.onloadend=function(){setTimeout(()=>{e(r.result)},500)},r.onerror=function(){n(r.error)},r.readAsDataURL(t)})}const Zr=ve();function es(){const[t,e]=y.exports.useState([{type:"paragraph",children:[{text:"here to input"}]}]),n=y.exports.useCallback(r=>{e(r)},[t]);return u("div",{children:u(ne,{factory:Zr,onChange:n,uploadFile:Jr,value:t})})}function ts(t){t.use(St),t.configSections([{type:"section",children:[{type:"heading",depth:1,children:[{text:"section 1",inlineCode:!0}]},{type:"blockquote",children:[{type:"paragraph",children:[{text:"\u7528\u4E8E\u56FA\u5B9A\u7684\u5185\u5BB9\u7ED3\u6784"}]}]}]},{type:"section",children:[{type:"heading",depth:1,children:[{text:"section 2",inlineCode:!0}]}]},{type:"section",children:[{type:"heading",depth:1,children:[{text:"section 3",inlineCode:!0}]}]}]),t.onEditorMounted(e=>{setTimeout(()=>{Re.withoutSaving(e,()=>{e.setSectionMarkdown(0,"write something here"),e.setSectionMarkdown(1,"write something here"),e.setSectionMarkdown(2,"write something here")})})})}async function ns(t){return new Promise((e,n)=>{const r=new FileReader;r.onloadend=function(){setTimeout(()=>{e(r.result)},500)},r.onerror=function(){n(r.error)},r.readAsDataURL(t)})}const rs=ve(ts);function ss(){const[t,e]=y.exports.useState([]),n=y.exports.useCallback(c=>{e(c)},[t]),[r,s]=y.exports.useState([]),[l,o]=y.exports.useState([]),[a,i]=y.exports.useState([]);return u("div",{children:D(ne,{factory:rs,onChange:n,uploadFile:ns,value:t,children:[u(re,{onChange:s,section:0,value:r}),u(re,{onChange:o,section:1,value:l}),u(re,{onChange:i,section:2,value:a})]})})}async function os(t){return new Promise((e,n)=>{const r=new FileReader;r.onloadend=function(){setTimeout(()=>{e(r.result)},500)},r.onerror=function(){n(r.error)},r.readAsDataURL(t)})}const Et=ve(t=>{t.use(Nr({rules:[{test:/github\.com/,render:(e,n)=>{const r=/github\.com\/([^/]+)\/([^/]+)/.exec(n);if(r){const[,s,l]=r;return D("span",{children:[u(rt,{}),"\xA0",s,"/",l]})}else return D("span",{children:[u(rt,{}),"\xA0",n]})}}]}))});function as(){const[t,e]=y.exports.useState([...Et.parseMarkdown(`# LinkBlock example
`),{type:"linkBlock",link:"https://github.com/634750802/a-editor",children:[{text:""}]},{type:"paragraph",children:[{text:""}]}]),n=y.exports.useCallback(r=>{e(r)},[t]);return u("div",{children:u(ne,{factory:Et,onChange:n,uploadFile:os,value:t})})}Zt.render(u(en.StrictMode,{children:u(tn,{basename:"https://634750802.github.io/a-editor/",children:D("div",{children:[D("nav",{children:[u(ge,{to:"/",children:"Full example"}),u(ge,{to:"/empty",children:"Empty example"}),u(ge,{to:"/sections",children:"Sections example"}),u(ge,{to:"/linkblock",children:"LinkBlock example"})]}),u("main",{children:D(nn,{children:[u(he,{component:es,exact:!0,path:"/empty"}),u(he,{component:ss,exact:!0,path:"/sections"}),u(he,{component:as,exact:!0,path:"/linkblock"}),u(he,{component:Xr,path:"/"})]})})]})})}),document.getElementById("root"));
