var _e=Object.defineProperty,ve=Object.defineProperties;var ke=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var ne=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;var G=(t,e,n)=>e in t?_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,x=(t,e)=>{for(var n in e||(e={}))ne.call(e,n)&&G(t,n,e[n]);if(A)for(var n of A(e))se.call(e,n)&&G(t,n,e[n]);return t},P=(t,e)=>ve(t,ke(e));var re=(t,e)=>{var n={};for(var s in t)ne.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&A)for(var s of A(t))e.indexOf(s)<0&&se.call(t,s)&&(n[s]=t[s]);return n};var T=(t,e,n)=>(G(t,typeof e!="symbol"?e+"":e,n),n);import{r as p,u as oe,a as ae,p as we,b as Ne,c as Pe,d as Te,E as v,e as C,P as u,N as b,T as d,j as i,R as L,f as M,g as K,F as D,h as J,i as Q,k as W,l as j,m as $,n as Se,o as X,q as z,s as ie,t as Ee,v as Ce,_ as F,w as Y,x as q,y as le,z as ce,A as Ie,B as V,C as ue,D as pe,G as Me,H as De,I as Le,J as Re,K as ze,S as Fe,L as Oe,M as fe,O as Be,Q as Ae}from"./vendor.13259191.js";const je=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const f of a.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}};je();class $e{constructor(e,n){T(this,"getMarkdownProcessor",oe().use(ae).use(we).use(Ne,{bullet:"-",listItemIndent:"one",fence:"`",rule:"-"}));T(this,"setMarkdownProcessor",oe().use(ae).use(Pe).use(Te));this.editor=e,this.setValue=n,this.getMarkdownProcessor.freeze(),this.setMarkdownProcessor.freeze()}get markdown(){return this.getMarkdownProcessor.stringify(this.getMarkdownProcessor.runSync({type:"root",children:this.editor.children}))}set markdown(e){this.setValue(this.setMarkdownProcessor.processSync(e).result),setTimeout(()=>{v.normalize(this.editor,{force:!0})},0)}}function qe(t){const[e,n]=p.exports.useState([{type:"paragraph",children:[{text:""}]}]);return[p.exports.useMemo(()=>new $e(t,n),[t]),e,n]}function S(t){return P(x({},t),{register(e){e.define(t)}})}function E(t,e){return C.isElement(t)&&t.type===e}function Ve(t,e){const n=u.previous(e),s=b.get(t,n);return n.concat(s.children.length)}var N;(function(t){t.strong="strong",t.emphasis="emphasis",t.delete="delete",t.inlineCode="inlineCode"})(N||(N={}));const O=S({isLeaf:!0,normalize:(t,e,n,s)=>{if(e.text===""){const r=[N.strong,N.emphasis,N.delete,N.inlineCode].filter(a=>!!e[a]);r.length>0&&d.unsetNodes(t,r,{at:n})}},render(t,{text:e,children:n,attributes:s}){let r=n;return e.delete&&(r=i("del",{children:r})),e.emphasis&&(r=i("em",{children:r})),e.strong&&(r=i("strong",{children:r})),e.inlineCode&&(r=i("code",{children:r})),i("span",P(x({},s),{children:r}))},toggleDecorator:(t,e,n)=>{Z(t,e,n)?L.isCollapsed(e)?v.addMark(t,n,!1):d.setNodes(t,{[n]:!1},{match:M.isText,split:!0}):L.isCollapsed(e)?v.addMark(t,n,!0):d.setNodes(t,{[n]:!0},{match:M.isText,split:!0})},toolbarItems:[{key:N.strong,icon:K,tips:i(D,{children:"\u52A0\u7C97"})},{key:N.emphasis,icon:J,tips:i(D,{children:"\u659C\u4F53"})},{key:N.inlineCode,icon:Q,tips:i(D,{children:"\u884C\u5185\u4EE3\u7801"})},{key:N.delete,icon:W,tips:i(D,{children:"\u5220\u9664"})}].map(({key:t,icon:e,tips:n})=>({key:t,icon:i(j,{icon:e}),isActive:(s,r)=>Z(s,r,t),isDisabled:()=>!1,action:(s,r,a)=>{O.toggleDecorator(s,r,t)},tips:n}))});function Z(t,e,n){if(!$.hasRange(t,e))return!1;const s=v.marks(t);return s?!!s[n]:!1}function B(t,e,n,s){if(u.isPath(e)){const a=b.get(t,e);return E(a,n)&&(s?s(a):!0)}const[r]=v.nodes(t,{at:L.isRange(e)?v.unhangRange(t,e):e,match:a=>!v.isEditor(a)&&E(a,n)&&(s?s(a):!0)});return!!r}var He=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",get TextNodeDecorator(){return N},isDecoratorActive:Z,isElementActive:B,default:O});function Ue({schema:t,onSubmit:e,defaultValues:n}){return i("div",{contentEditable:!1,children:i(Se,{className:"action-form",formData:n,onSubmit:s=>e(s.formData),schema:t})})}function Ge(t,e){return p.exports.useCallback(()=>t.selection?$.toDOMRange(t,t.selection).getBoundingClientRect():e.getBoundingClientRect(),[t,e])}function Ke(t,e){return p.exports.useCallback(()=>{t("user canceled"),e.current&&e.current.hide()},[t])}function Je(){const t=p.exports.useRef(),e=p.exports.useCallback(n=>{t.current=n},[t]);return[t,e]}function Qe(t,e,n,s){const r=p.exports.useCallback(a=>{var f;e(a),(f=s.current)==null||f.hide()},[e,s]);return p.exports.useMemo(()=>i(Ue,{defaultValues:n,onSubmit:r,schema:t}),[t,r])}function We({editor:t,el:e,reject:n,resolve:s,schema:r,defaultValues:a}){const[f,y]=Je(),o=Ge(t,e),c=Ke(n,f),g=Qe(r,s,a,f);return i(X,{content:g,getReferenceClientRect:o,interactive:!0,onClickOutside:c,onMount:y,placement:"right-start",visible:!0,children:i("span",{})})}function Xe(t,e,n,s){return new Promise((r,a)=>{t.setActionForm(i(We,{defaultValues:s,editor:t,el:e,reject:a,resolve:r,schema:n}))}).catch(r=>{if(r==="user canceled")return Promise.resolve(void 0);throw r})}const Ye="\u6DFB\u52A0\u8D85\u94FE\u63A5",Ze="object",et={src:{title:"\u94FE\u63A5",type:"string",format:"url"},text:{title:"\u663E\u793A\u6587\u672C",type:"string"}},tt=["src","text"];var nt={title:Ye,type:Ze,properties:et,required:tt};z.add(ie);const ee=S({type:"link",isInline:!0,isVoid:!1,isLeaf:!1,normalize:(t,e,n,s)=>{b.string(e).trim().length===0&&(d.removeNodes(t,{at:n}),s())},render:(t,{element:e,attributes:n,children:s})=>i("a",P(x({href:e.url,onClick:()=>window.open(e.url,"_blank"),style:{display:"inline-flex",cursor:"pointer"}},n),{children:s})),insert:(t,e,r)=>{var a=r,{text:n}=a,s=re(a,["text"]);console.log(e),d.insertNodes(t,[x({type:"link",children:[{text:n}]},s),{text:" "}],{at:e}),Ee.isPoint(e)&&d.move(t,{distance:1})},match:{regexp:Ce()},toolbarItems:[{key:"link",icon:i(j,{icon:ie}),tips:i(D,{children:"\u8D85\u94FE\u63A5"}),isActive:(t,e)=>B(t,e,"link"),isDisabled:(t,e)=>!u.equals(u.parent(e.focus.path),u.parent(e.anchor.path)),action:(t,e,n)=>{B(t,e,"link")?d.unwrapNodes(t,{at:v.unhangRange(t,e),match:s=>!v.isEditor(s)&&C.isElement(s)&&s.type==="link"}):Xe(t,n.target,nt,{text:v.string(t,e),src:""}).then(s=>{if(s){const{src:r,text:a}=s;v.withoutNormalizing(t,()=>{ee.insert(t,e,{url:r,title:"",text:a})})}})}}]});var st=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ee});class rt{constructor(){T(this,"blockConfigs",[]);T(this,"inlineConfigs",[]);T(this,"textConfig");T(this,"inlineSet",new Set);T(this,"voidSet",new Set);T(this,"customElementMap",new Map)}define(e){return e.isLeaf?this.textConfig=e:(e.isInline?(this.inlineSet.add(e.type),this.inlineConfigs.push(e)):this.blockConfigs.push(e),this.customElementMap.set(e.type,e),e.isVoid&&this.voidSet.add(e.type)),this}wrapEditor(e){const{isVoid:n,isInline:s,normalizeNode:r}=e;return e.factory=this,e.updatePopper=()=>{},e.isVoid=a=>this.voidSet.has(a.type)||n(a),e.isInline=a=>this.inlineSet.has(a.type)||s(a),e.normalizeNode=a=>{let f=!0;const y=()=>{f=!1};v.withoutNormalizing(e,()=>{var g;const[o,c]=a;if(C.isElement(o)){const l=(g=this.customElementMap.get(o.type))==null?void 0:g.normalize;l&&l(e,o,c,y)}M.isText(o)&&this.textConfig.normalize&&this.textConfig.normalize(e,o,c,y)}),f&&r(a)},e}createDefaultEditableProps(e){const n=o=>{var g;const{selection:c}=e;if(c&&L.isCollapsed(c)){const l=c.anchor,m=b.get(e,l.path),_=b.parent(e,l.path);if(M.isText(m)&&C.isElement(_)&&_.type==="paragraph"&&o.data===" "&&!u.hasPrevious(l.path)){const w=m.text.slice(0,l.offset);for(const{toggle:h}of this.blockConfigs)if(!(typeof h.estimatePrefixLength=="number"&&w.length>h.estimatePrefixLength)&&((g=h.prefix)==null?void 0:g.test(w))){const k=h.onTrigger(w);if(typeof k!="undefined"){d.delete(e,{at:{path:l.path,offset:0},distance:l.offset}),h.toggle(e,u.parent(l.path),k),o.preventDefault();return}}}if(M.isText(m)&&o.data===" "){for(const w of this.inlineConfigs)if(w.match){const h=w.match.regexp.exec(m.text.slice(0,l.offset));if(h){const k=h[0],I=h.index,ye=h.index+k.length,xe={anchor:{path:l.path,offset:I},focus:{path:l.path,offset:ye}};ee.insert(e,xe,{url:k,title:"",text:k}),o.preventDefault();return}}}if(v.isInline(e,_)){const w=u.parent(l.path).concat(_.children.length);d.insertNodes(e,{text:o.data||""},{at:w}),d.move(e,{distance:1}),o.preventDefault();return}}},s=o=>c=>{const{selection:g}=e;if(g&&L.isCollapsed(g)){const l=g.anchor;if(ot(e,l)){const m=u.parent(l.path),_=b.get(e,m);if(C.isElement(_)){const w=this.customElementMap.get(_.type);if(w){const h=o(w.events);if(h&&h(e,l.path)){c.preventDefault();return}}if(_.type==="paragraph"){const h=b.parent(e,m);if(!u.hasPrevious(m)&&C.isElement(h)){const k=this.customElementMap.get(h.type);if(k==null?void 0:k.wrappingParagraph){const I=o(k.events);if(I&&I(e,l.path)){c.preventDefault();return}}}}}}}},r=s(o=>o.onStartDelete),a=s(o=>o.onStartEnter),y=(o=>c=>{const{selection:g}=e;if(g&&L.isCollapsed(g)){const l=g.anchor,m=u.parent(l.path),_=b.parent(e,l.path);if(C.isElement(_)){const w=this.customElementMap.get(_.type);if(w){const h=o(w.events);if(h&&h(e,l.path)){c.preventDefault();return}}if(_.type==="paragraph"){const h=b.parent(e,m);if(C.isElement(h)){const k=this.customElementMap.get(h.type);if(k==null?void 0:k.wrappingParagraph){const I=o(k.events);if(I&&I(e,l.path)){c.preventDefault();return}}}}}}})(o=>o.onTab);return{renderElement:o=>{const c=this.customElementMap.get(o.element.type);return c?c.render(e,o):(console.warn(`${o.element.type} not impl`),p.exports.createElement("div",o.attributes,o.children))},renderLeaf:o=>this.textConfig?this.textConfig.render(e,o):p.exports.createElement("span",o.attributes,o.children),onDOMBeforeInput:o=>{de(e,()=>{switch(console.log(o.inputType),o.inputType){case"insertText":n(o);break;case"deleteContentBackward":r(o);break;case"insertParagraph":a(o);break;case"insertFromPaste":console.log(o);break}})},onKeyDown:o=>{de(e,()=>{if(F("tab",o)){y(o);return}if(F(["ctrl+enter"],o)){d.insertText(e,`
`);return}if(F("enter",o)&&e.selection){const c=b.parent(e,e.selection.anchor.path);if(v.isBlock(e,c)&&!/paragraph|heading/.test(c.type)){d.insertText(e,`
`),o.preventDefault();return}}if(e.selection){if(F("meta+b",o)){O.toggleDecorator(e,e.selection,N.strong),o.preventDefault();return}if(F("meta+i",o)){O.toggleDecorator(e,e.selection,N.emphasis),o.preventDefault();return}}})},onSelect:o=>{const c=window.getSelection();c&&(c.isCollapsed?e.hidePopper():c.rangeCount>0&&(e.updatePopper(c.getRangeAt(0)),o.preventDefault(),o.stopPropagation()))},onBlur:o=>{e.hidePopper()}}}}function ot(t,e){return e.offset===0&&!u.hasPrevious(e.path)&&M.isText(b.get(t,e.path))}function de(t,e){let n=!0;v.withoutNormalizing(t,()=>{e(()=>{n=!1})}),n||v.normalize(t)}const ge=S({type:"blockquote",isInline:!1,isLeaf:!1,isVoid:!1,wrappingParagraph:!0,render:(t,{children:e,attributes:n})=>i("blockquote",P(x({},n),{children:e})),toggle:{prefix:/^>$/,toggle:(t,e,n)=>{n?d.wrapNodes(t,{type:"blockquote",children:[]},{at:e}):d.unwrapNodes(t,{at:u.parent(e)})},onTrigger(){return!0}},events:{onStartDelete:(t,e)=>{const n=b.parent(t,u.parent(e));return E(n,"blockquote")?(ge.toggle.toggle(t,u.parent(e),!1),!0):!1}},toolbarItems:[]});var at=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ge});function he({icon:t,active:e,disabled:n,action:s,tips:r}){const a=Y(),f=p.exports.useCallback(o=>{s&&o.button===0&&(o.preventDefault(),o.stopPropagation(),n||v.withoutNormalizing(a,()=>{s(o)}))},[s]),y=i("span",{className:q("toolbar-item",{active:e,disabled:n}),onMouseDown:f,children:t});return r?i(X,{content:r,children:y}):y}z.add(le,ce);function it({isEmpty:t,element:e,items:n,setActive:s}){return i(X,{appendTo:"parent",content:lt(n),hideOnClick:!1,interactive:!0,onHide:()=>s(!1),onShow:()=>s(!0),children:i("span",{className:"line-operations",contentEditable:!1,children:i(j,{icon:t?ce:le})})})}const lt=t=>i("div",{className:"block-toolbar",children:t.map(e=>i(he,{action:e.action,active:e.active,disabled:e.disabled,icon:e.icon,tips:e.tips},e.key))});z.add(K,J,W,Q);function ct(t,e){return t.factory.blockConfigs.flatMap(s=>s.toolbarItems).map(({key:s,isDisabled:r,isActive:a,action:f,icon:y,tips:o})=>({key:s,disabled:e?r(t,e):!1,active:e?a(t,e):!1,icon:y,action:e?c=>f(t,e,c):()=>{},tips:o}))}function me(){const[t,e]=p.exports.useState(0);return()=>{e(n=>n+1)}}function te({element:t,children:e}){const[n,s]=p.exports.useState(null),r=p.exports.useRef(),a=Y(),f=ct(a,r.current),y=me();p.exports.useLayoutEffect(()=>{if(n){const l=document.createRange();l.selectNode(n.childNodes.item(0));const m=$.toSlateRange(a,l,{exactMatch:!1});let _=u.common(m.anchor.path,m.focus.path);for(;_.length!==0;){if(v.isBlock(a,b.get(a,_))){r.current=_;break}_=u.parent(_)}}else r.current=void 0},[n]);const[o,c]=p.exports.useState(!1),g=(()=>{const l=t.children[0];return t.children.length===1&&M.isText(l)&&l.text===""})();return i(Ie,{appendTo:document.body,arrow:!1,hideOnClick:!1,interactive:!0,interactiveBorder:12,offset:[0,8],onTrigger:y,placement:"left",popperOptions:{modifiers:[{name:"flip",options:{allowedAutoPlacements:["left"]}}]},ref:s,render:()=>i(it,{element:t,isEmpty:g,items:f,setActive:c}),children:e({active:o})})}const ut=S({type:"code",isInline:!1,isLeaf:!1,isVoid:!1,wrappingParagraph:!1,render:(t,{element:e,children:n,attributes:s})=>i(te,{element:e,children:({active:r})=>i("pre",P(x({className:q({active:r})},s),{children:i("code",{children:n})}))}),toggle:{},events:{},toolbarItems:[]});var pt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ut});const H=S({type:"heading",isInline:!1,isLeaf:!1,isVoid:!1,wrappingParagraph:!1,render:(t,{element:e,children:n,attributes:s})=>i(te,{element:e,children:({active:r})=>p.exports.createElement(`h${e.depth}`,Object.assign(s,{className:q({active:r})}),n)}),toggle:{prefix:/^#{1,6}$/,estimatePrefixLength:6,toggle:(t,e,n)=>{n?d.setNodes(t,x({type:"heading"},n),{at:e}):(d.unsetNodes(t,"depth",{at:e}),d.setNodes(t,{type:"paragraph"},{at:e}))},onTrigger:t=>({depth:t.length})},events:{onStartEnter:(t,e)=>{const n=b.parent(t,e);return E(n,"heading")?(H.toggle.toggle(t,u.parent(e),!1),!0):!1}},toolbarItems:[1,2,3,4,5,6].map(t=>{const e=(n,s)=>B(n,s,"heading",r=>r.depth===t);return{key:`heading-level-${t}`,icon:V(D,{children:["H",t]}),isActive:e,isDisabled:()=>!1,action:(n,s,r)=>{e(n,s)?H.toggle.toggle(n,s,!1):H.toggle.toggle(n,s,{depth:t})}}})});var ft=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:H}),be=S({type:"image",isInline:!0,isVoid:!1,isLeaf:!1,render:(t,{element:e,attributes:n})=>i("img",x({alt:e.alt,src:e.url,title:e.title},n)),insert:(t,e,n)=>{d.insertNodes(t,[{text:" "},x({type:"image",children:[]},n),{text:" "}],{at:e})},toolbarItems:[]}),dt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:be});z.add(ue,pe);const R=S({type:"list",isLeaf:!1,isInline:!1,isVoid:!1,wrappingParagraph:!0,normalize:(t,e,n,s)=>{if(e.children.length===0){d.removeNodes(t,{at:n}),s();return}if(u.hasPrevious(n)){const r=b.get(t,u.previous(n));if(E(r,"list")&&r.ordered===e.ordered&&r.spread===e.spread&&r.start===void 0){d.mergeNodes(t,{at:n}),s();return}}},render(t,{element:e,attributes:n,children:s}){return e.ordered?i("ol",P(x({},n),{start:e.start,children:s})):i("ul",P(x({},n),{children:s}))},toggle:{prefix:/^(?:-|\d+\.)$/,toggle:(t,e,n)=>{if(!E(b.get(t,e),"paragraph"))throw new Error("can only call ListNode.toggle on a paragraph node.");if(n===!1){const s=u.parent(e),r=u.next(u.parent(s));d.splitNodes(t,{at:s}),d.moveNodes(t,{at:r.concat(0),to:r}),d.unwrapNodes(t,{at:r}),d.select(t,{path:r,offset:0})}else{const s=u.parent(e),r=b.get(t,s);if(E(r,"listItem")){if(u.hasPrevious(s)){const a=Ve(t,s);d.moveNodes(t,{at:s,to:a}),d.wrapNodes(t,x({type:"list",children:[]},n),{at:a})}}else d.wrapNodes(t,{type:"listItem",checked:void 0,spread:n.spread,children:[]},{at:e}),d.wrapNodes(t,x({type:"list",children:[]},n),{at:e})}},onTrigger:t=>t==="-"?{ordered:!1,start:void 0,spread:void 0}:{ordered:!0,start:parseInt(t),spread:void 0}},events:{},toolbarItems:[!0,!1].map(t=>{const e=(n,s)=>s.length>2&&B(n,u.parent(u.parent(s)),"list",r=>r.ordered===t);return{key:`list-${t?"ordered":"unordered"}`,icon:i(j,{icon:t?ue:pe}),isActive:e,isDisabled:()=>!1,action:(n,s,r)=>{e(n,s)?R.toggle.toggle(n,s,!1):R.toggle.toggle(n,s,{ordered:t,start:void 0,spread:void 0})}}})});var gt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:R});const ht=S({type:"listItem",isLeaf:!1,isInline:!1,isVoid:!1,wrappingParagraph:!0,normalize:(t,e,n)=>{const s=e.children.length-1;if(e.children.length>1&&E(e.children[s],"paragraph")){const r=u.next(n);d.moveNodes(t,{at:n.concat(s),to:r}),d.wrapNodes(t,{type:"listItem",checked:e.checked,spread:e.spread,children:[]},{at:r})}},render(t,{element:e,attributes:n,children:s}){return i("li",P(x({},n),{children:s}))},toggle:{},events:{onStartDelete:(t,e)=>(R.toggle.toggle(t,u.parent(e),!1),!0),onStartEnter:(t,e)=>b.string(b.get(t,e))?!1:(R.toggle.toggle(t,u.parent(e),!1),!0),onTab:(t,e)=>{const n=b.parent(t,u.parent(u.parent(e)));if(E(n,"list")){const{spread:s,ordered:r}=n;return R.toggle.toggle(t,u.parent(e),{spread:s,ordered:r,start:void 0}),!0}else return console.warn(`bad structure, expect a list at ${e}-2`),!1}},toolbarItems:[]});var mt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ht});const bt=S({type:"paragraph",isLeaf:!1,isInline:!1,isVoid:!1,wrappingParagraph:!1,toggle:{},events:{},render(t,{element:e,attributes:n,children:s}){return i(te,{element:e,children:({active:r})=>i("p",P(x({className:q({active:r})},n),{children:s}))})},toolbarItems:[]});var yt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:bt});const xt={"./blockquote/BlockquoteNode.tsx":at,"./code/CodeNode.tsx":pt,"./heading/HeadingNode.tsx":ft,"./image/ImageNode.tsx":dt,"./link/LinkNode.tsx":st,"./list/ListItemNode.tsx":mt,"./list/ListNode.tsx":gt,"./paragraph/ParagraphNode.tsx":yt,"./text/TextNode.tsx":He};function _t(t){for(const[e,{default:n}]of Object.entries(xt))typeof(n==null?void 0:n.register)=="function"&&(console.debug("auto detected",e),n.register(t))}z.add(K,J,W,Q);function vt(t,e){var r;if(!e)return[];const n=(r=$.toSlateRange(t,e,{exactMatch:!0}))!=null?r:t.selection;return O.toolbarItems.concat(t.factory.inlineConfigs.flatMap(a=>a.toolbarItems)).map(({key:a,isDisabled:f,isActive:y,action:o,icon:c,tips:g})=>({key:a,disabled:n?f(t,n):!1,active:n?y(t,n):!1,icon:c,action:n?l=>o(t,n,l):()=>{},tips:g}))}function kt(){const t=Y(),e=p.exports.useRef(null),n=p.exports.useRef(),[s,r]=p.exports.useState(!0),a=me();t.hidePopper=()=>r(!0);const f=p.exports.useMemo(()=>({getBoundingClientRect(){return n.current?n.current.getBoundingClientRect():{width:0,height:0}}}),[t,n]),{styles:y,attributes:o,update:c}=Me(f,e.current,{placement:"top",modifiers:[{name:"computeStyles",options:{adaptive:!1}},{name:"offset",options:{offset:[0,8]}}]}),g=vt(t,n.current);return t.updatePopper=l=>{if(l){const m=!n.current;n.current=l,m&&setTimeout(()=>{t.updatePopper()},0)}g.length>0?(r(!1),c&&c()):r(!0),a()},i("div",P(x({className:"ti-hovering-toolbar",ref:e,style:P(x({},y.popper),{opacity:s?0:1,pointerEvents:s?"none":"initial"})},o.popper),{children:g.map(l=>i(he,{action:l.action,active:l.active,disabled:l.disabled,icon:l.icon,tips:l.tips},l.key))}))}const U=p.exports.forwardRef(({disabled:t=!1,initialMarkdown:e=""},n)=>{const s=p.exports.useMemo(()=>{const m=new rt;return _t(m),m},[]),r=p.exports.useMemo(()=>{const m=De(Le(Re()));return s.wrapEditor(m)},[]),a=p.exports.useMemo(()=>s.createDefaultEditableProps(r),[]),[f,y,o]=qe(r);p.exports.useEffect(()=>{n&&(typeof n=="function"?n(f):n.current=f),f.markdown=e},[r]);const[c,g]=p.exports.useState();r.setActionForm=g;const l=p.exports.useMemo(()=>{if(c)return ze.exports.createPortal(c,document.body)},[c]);return V(Fe,{editor:r,onChange:o,value:y,children:[i(kt,{}),i(Oe,x({as:"article",className:"ti-community-editor"},a)),l]})});U.displayName="TiEditor";U.propTypes={disabled:fe.bool,initialMarkdown:fe.string};U.defaultProps={disabled:!1,initialMarkdown:""};const wt=`## \u5F15\u7528 (blockquote)

\`\`\`markdown
> blockquote
> 
> yeah
\`\`\`

> blockquote
> 
> yeah

- \u6DFB\u52A0\u5F15\u7528
  - \u8F93\u5165 \`>\` \u5E76\u8F93\u5165\u7A7A\u683C
- \u5220\u9664\u5F15\u7528
  - \u5728\u5F15\u7528\u8D77\u59CB\u5904\u70B9\u51FB \`<Backspace>\`
`;var Nt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:wt});const Pt=`## \u6807\u9898

\`\`\`markdown
# h1
## h2
### h3
#### h4
##### h5
###### h6
\`\`\`

> # h1
> ## h2
> ### h3
> #### h4
> ##### h5
> ###### h6

- \u521B\u5EFA\u6807\u9898
  1. \u8F93\u5165 1-6 \u4E2A \`#\` \u5E76\u8F93\u5165\u7A7A\u683C
  2. \u5728\u6807\u9898\u4E2D\u95F4\u6216\u7ED3\u5C3E\u70B9\u51FB \`<Enter>\`
- \u5220\u9664\u6807\u9898
  - \u5728\u6807\u9898\u8D77\u59CB\u5904\u70B9\u51FB \`<Enter>\` \u4EE5\u5C06\u6807\u9898\u8F6C\u6362\u6210\u6BB5\u843D
`;var Tt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:Pt});const St=`## \u94FE\u63A5

\`\`\`
[title](url)
\`\`\`

> [title](#)

- \u521B\u5EFA\u94FE\u63A5
  - \u8F93\u5165\u94FE\u63A5 url \u5E76\u8F93\u5165\u7A7A\u683C\u4F1A\u81EA\u52A8\u8F6C\u6362
`;var Et=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:St});const Ct=`## \u5217\u8868

\`\`\`markdown
- \u65E0\u5E8F\u5217\u8868
- ...
  - \u7F29\u8FDB\u5217\u8868

1. \u6709\u5E8F\u5217\u8868
\`\`\`

> - \u65E0\u5E8F\u5217\u8868
> - ...
>   - \u7F29\u8FDB\u5217\u8868
> 
> 1. \u6709\u5E8F\u5217\u8868 1
> 2. \u6709\u5E8F\u5217\u8868 2

\u4F7F\u7528\u4EE5\u4E0B\u65B9\u5F0F\u63A7\u5236 Markdown \u5217\u8868\uFF1A
- \u65B0\u5EFA\u5217\u8868\uFF1A
  1. \u8F93\u5165 \`-\` \u52A0\u7A7A\u683C\u63D2\u5165\u65E0\u5E8F\u5217\u8868
  2. \u8F93\u5165 \`number.\` \u52A0\u7A7A\u683C\u63D2\u5165\u6709\u5E8F\u5217\u8868
- \u5217\u8868\u7F29\u8FDB\uFF1A
  1. \u5728\u5217\u8868\u9879\u4E2D\u8F93\u5165 \`<Tab>\` \u751F\u6210\u4E0B\u7EA7\u5217\u8868 
  2. \u5728\u5217\u8868\u9879\u4E2D\u8F93\u5165 \`-\` \u6216 \`<number>\`\u3002
- \u53D6\u6D88\u5217\u8868
  1. \u5728\u7A7A\u5217\u8868\u9879\u4E2D\u76F4\u63A5\u8F93\u5165 \`<Enter>\`
`;var It=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:Ct});const Mt={"./slate-markdown/elements/blockquote/instructions.md":Nt,"./slate-markdown/elements/heading/instructions.md":Tt,"./slate-markdown/elements/link/instructions.md":Et,"./slate-markdown/elements/list/instructions.md":It},Dt=Object.values(Mt).map(t=>t.plainText).join(`

`);function Lt(){const t=p.exports.useRef(null),[e,n]=p.exports.useState("");return p.exports.useEffect(()=>{const r=setInterval(()=>{var a,f;n((f=(a=t.current)==null?void 0:a.markdown)!=null?f:"")},1e3);return()=>clearInterval(r)},[]),V(D,{children:["\u5DE6\u8FB9\u662F\u7F16\u8F91\u5668\uFF0C\u53F3\u8FB9\u662F\u7F16\u8F91\u5668\u5185\u5BB9\u5B9E\u9645\u7684 markdown",i("button",{onClick:()=>{var a;const r=t.current.editor;be.insert(r,(a=r.selection)!=null?a:[r.children.length-1],{url:"https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_92x30dp.png",alt:"",title:""})},children:"add img"}),V("div",{style:{display:"flex"},children:[i(U,{ref:t,initialMarkdown:Dt}),i("textarea",{onChange:r=>{n(r.currentTarget.value),t.current.markdown=r.currentTarget.value},value:e})]})]})}Be.render(i(Ae.StrictMode,{children:i(Lt,{})}),document.getElementById("root"));
