var xt=Object.defineProperty,wt=Object.defineProperties;var vt=Object.getOwnPropertyDescriptors;var ie=Object.getOwnPropertySymbols;var De=Object.prototype.hasOwnProperty,Ie=Object.prototype.propertyIsEnumerable;var ye=(t,e,n)=>e in t?xt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,N=(t,e)=>{for(var n in e||(e={}))De.call(e,n)&&ye(t,n,e[n]);if(ie)for(var n of ie(e))Ie.call(e,n)&&ye(t,n,e[n]);return t},O=(t,e)=>wt(t,vt(e));var _e=(t,e)=>{var n={};for(var r in t)De.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&ie)for(var r of ie(t))e.indexOf(r)<0&&Ie.call(t,r)&&(n[r]=t[r]);return n};var D=(t,e,n)=>(ye(t,typeof e!="symbol"?e+"":e,n),n);import{E as z,u as le,r as y,a as h,j as c,c as Z,T as ce,l as U,f as Be,b as Fe,d as j,F as B,e as xe,g as we,h as ve,i as ue,R as K,P as S,N as w,k as L,m as Le,n as Tt,o as b,p as je,q as W,s as $e,t as St,v as Et,w as kt,x as ee,y as qe,z as te,A as He,B as Ue,C as Te,D as Mt,G as Pt,_ as pe,H as fe,I as Se,J as We,K as Ct,L as Ve,M as Ke,O as Qe,Q as Ge,S as Ye,U as Nt,V as At,W as Rt,X as Ot,Y as de,Z as zt,$ as Dt,a0 as It,a1 as Bt,a2 as Ft,a3 as Lt,a4 as jt,a5 as Xe,a6 as $t,a7 as Je,a8 as Ee,a9 as qt,aa as Ht,ab as Ut,ac as ke,ad as Wt,ae as Me}from"./vendor.b629596d.js";const Vt=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}};Vt();var T;(function(t){t[t.flow=16]="flow",t[t.list=32]="list",t[t.phrasing=48]="phrasing",t[t.staticPhrasing=49]="staticPhrasing",t[t.value=64]="value",t[t.table=80]="table",t[t.tableRow=96]="tableRow"})(T||(T={}));function Q(t,e){return t===e||t<e&&(t^e)<16}function F(t){return O(N({},t),{register(e){e.define(O(N({},t),{isEditable:typeof t.isEditable=="boolean"?t.isEditable:!0}))}})}function R(t,e){return z.isElement(t)?e instanceof Array?e.indexOf(t.type)>=0:t.type===e:!1}function Ze({icon:t,active:e,disabled:n,action:r,tips:s}){const a=le(),o=y.exports.useCallback(g=>{r&&g.button===0&&(g.preventDefault(),g.stopPropagation(),n||h.withoutNormalizing(a,()=>{r(g)}))},[r]),l=c("span",{className:Z("a-editor-toolbar-item",{active:e,disabled:n}),onMouseDown:o,children:t});return s?c(ce,{content:c("span",{className:"toolbar-item-tips",children:s}),children:l}):l}U.add(Be,Fe);function Kt({extraWidth:t,isEmpty:e,element:n,items:r,setActive:s}){return c(ce,{appendTo:"parent",arrow:!1,content:Qt(r),hideOnClick:!1,interactive:!0,onHide:()=>s(!1),onShow:()=>s(!0),children:j("div",{className:"line-operations",contentEditable:!1,children:[c("span",{className:"icon",children:c(B,{icon:e?Fe:Be})}),c("div",{className:"spacer",style:{width:t,height:"100%"}})]})})}const Qt=t=>c("div",{className:"block-toolbar",children:t.map((e,n)=>c("div",{className:"toolbar-group",children:e.map(r=>c(Ze,{action:r.action,active:r.active,disabled:r.disabled,icon:r.icon,tips:r.tips},r.key))},n))});U.add(xe,we,ve,ue);function et(t,e){if(!!e)return typeof e=="function"?e(t):e}function Gt(t,e){const n=e==null?void 0:e.current;return n?t.factory.lineActions.map(r=>t.getActions(n,r).map(({action:{key:s,icon:a,tips:o},state:l})=>({key:s,disabled:l.disabled,active:l.active,icon:et(l,a),tips:et(l,o),action:g=>{t.runAction(s,n,g)}}))):[]}function tt(){const[t,e]=y.exports.useState(0);return()=>{e(n=>n+1)}}const nt=y.exports.createContext({getEditorDOMRect:()=>new DOMRect});function ne({element:t,children:e}){const[n,r]=y.exports.useState(null),s=y.exports.useRef(),a=le(),o=Gt(a,s.current),l=tt(),[g,i]=y.exports.useState(0),{getEditorDOMRect:m}=y.exports.useContext(nt),v=y.exports.useCallback(()=>{var k;const p=(k=n==null?void 0:n.getBoundingClientRect())!=null?k:new DOMRect,{x:d=0}=p,{x:_}=m();return i(d-_),p},[m,n]);y.exports.useLayoutEffect(()=>{var p,d;if(n){const _=document.createRange();_.selectNode(n.childNodes.item(0));const k=K.toSlateRange(a,_,{exactMatch:!1});let M=S.common(k.anchor.path,k.focus.path);for(;M.length!==0;){if(h.isBlock(a,w.get(a,M))){s.current=h.pathRef(a,M);break}M=S.parent(M)}}else s.current&&((d=(p=s.current).unref)==null||d.call(p)),s.current=void 0},[n]);const[x,E]=y.exports.useState(!1),u=(()=>{const p=t.children[0];return t.children.length===1&&L.isText(p)&&p.text===""})();return Le()?typeof e=="function"?e({active:x,pathRef:s.current}):e:c(Tt,{appendTo:document.body,arrow:!1,getReferenceClientRect:v,hideOnClick:!1,interactive:!0,interactiveBorder:12,offset:[0,8],onTrigger:l,placement:"left",popperOptions:{modifiers:[{name:"flip",options:{allowedAutoPlacements:["left"]}}]},ref:r,render:()=>c(Kt,{element:t,extraWidth:g,isEmpty:u,items:o,setActive:E}),children:typeof e=="function"?e({active:x,pathRef:s.current}):e})}const Yt=["markdown","javascript","typescript","jsx","tsx","sql","bash","go","rust","json","log"],re=Symbol("prism_token"),rt=({attributes:t,element:e,children:n},r)=>c("pre",O(N({},t),{className:Z({active:r},e.lang?`language-${e.lang}`:void 0),children:c("code",{className:"prism-code",children:n})})),st=F({type:"code",isInline:!1,isLeaf:!1,wrappingParagraph:!1,contentType:T.flow,contentModelType:T.value,render:(t,e)=>{const{element:n}=e;return Le()?rt(e,!1):c(ne,{element:n,children:({active:s,pathRef:a})=>c(ce,{appendTo:document.body,content:c("select",{className:"lang-selector",contentEditable:!1,onChange:o=>{(a==null?void 0:a.current)&&b.setNodes(t,{lang:o.currentTarget.value},{at:a.current})},tabIndex:void 0,value:n.lang||void 0,children:Yt.map(o=>c("option",{children:o},o))}),interactive:!0,placement:"top-start",children:rt(e,s)})})},toggle:{prefix:/^`{3}(?: (\w+))?$/,toggle:(t,e,n)=>t.runAction("toggle-codeblock",e),onTrigger:(t,e,n)=>{if(n.length>1)return;const r=/^`{3}(?: (\w+))?$/.exec(t);return r?{lang:r[1]||"markdown",meta:void 0}:{lang:"markdown",meta:void 0}}},events:{},decorate:(t,[e,n],r)=>{if(L.isText(e)&&r.lang){const s=je.languages[r.lang];if(!s)return[];const a=[],o=je.tokenize(e.text,s);let l=0;for(const g of o){const i=ot(g),m=l+i;typeof g!="string"&&a.push({[re]:g.type,anchor:{path:n,offset:l},focus:{path:n,offset:m}}),l=m}return a}return[]}}),ot=t=>typeof t=="string"?t.length:typeof t.content=="string"?t.content.length:t.content.reduce((e,n)=>e+ot(n),0);var Xt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",SYMBOL_PRISM_TOKEN:re,default:st}),C;(function(t){t.strong="strong",t.emphasis="emphasis",t.delete="delete",t.inlineCode="inlineCode"})(C||(C={}));const se=F({isLeaf:!0,contentType:T.staticPhrasing,contentModelType:T.value,canContainsContentModelTypeOf:t=>t.inlineCode?T.value:(t.strong||t.emphasis||t.delete,T.phrasing),normalize:(t,e,n,r)=>{if(e.text===""){const s=[C.strong,C.emphasis,C.delete,C.inlineCode].filter(a=>!!e[a]);s.length>0&&b.unsetNodes(t,s,{at:n})}},render(t,{leaf:e,children:n,attributes:r}){let s=n;return e[re]&&(s=c("span",{className:Z(e[re]?`token ${e[re]}`:void 0,r.className),children:s})),e.delete&&(s=c("del",{children:s})),e.emphasis&&(s=c("em",{children:s})),e.strong&&(s=c("strong",{children:s})),e.inlineCode&&(s=c("code",{children:s})),c("span",O(N({},r),{children:s}))},toggleDecorator:(t,e,n)=>{const r=it(t),s=a=>r(w.get(t,a.anchor.path),a.anchor.path);Pe(t,e,n)?W.isCollapsed(e)?s(e)&&h.addMark(t,n,!1):b.setNodes(t,{[n]:!1},{match:r,split:!0}):W.isCollapsed(e)?s(e)&&(h.addMark(t,n,!0),n===C.inlineCode?(h.addMark(t,C.inlineCode,!1),h.addMark(t,C.emphasis,!1),h.addMark(t,C.delete,!1)):h.addMark(t,C.inlineCode,!1)):(b.setNodes(t,{[n]:!0},{match:r,split:!0}),n===C.inlineCode?b.unsetNodes(t,[C.delete,C.emphasis,C.strong],{match:r,split:!0}):b.unsetNodes(t,C.inlineCode,{match:r,split:!0}))}});function Pe(t,e,n){if(!K.hasRange(t,e))return!1;const r=h.marks(t);return r?!!r[n]:!1}const at=(t,e)=>{const[n]=h.nodes(t,{at:e,match:r=>!t.isEditable(r)});return!n},ge=(t,e)=>{const n=Ce(t),[r]=h.nodes(t,{at:e,match:n});return!!r},it=t=>(e,n)=>{const r=Ce(t);if(!L.isText(e))return!1;const s=w.parent(t,n);return z.isElement(s)?r(s,S.parent(n)):!1},Ce=t=>(e,n)=>{if(z.isElement(e)){const r=t.factory.customElementMap.get(e.type);return r&&r.contentModelType?Q(r.contentModelType,T.phrasing):!1}else return!1};function Ne(t,e,n,r){if(W.isRange(e)){if(!K.hasRange(t,e))return!1}else if(S.isPath(e)){if(!h.hasPath(t,e))return!1}else if(!K.hasRange(t,{anchor:e,focus:e}))return!1;if(S.isPath(e)){const a=w.get(t,e);return R(a,n)&&(r?r(a):!0)}const[s]=h.nodes(t,{at:W.isRange(e)?h.unhangRange(t,e):e,match:a=>!h.isEditor(a)&&R(a,n)&&(r?r(a):!0)});return!!s}var Jt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",get TextNodeDecorator(){return C},isDecoratorActive:Pe,isRangeEditable:at,isRangeCustomTextPropsEnabled:ge,isCustomTextPropsEnabled:it,isPhrasing:Ce,isElementActive:Ne,default:se});U.add($e);const Ae=F({type:"link",isInline:!0,isLeaf:!1,contentType:T.phrasing,contentModelType:T.staticPhrasing,normalize:(t,e,n,r)=>{w.string(e).trim().length===0&&(b.removeNodes(t,{at:n}),r())},render:(t,{element:e,attributes:n,children:r})=>c("a",O(N({href:e.url,onClick:()=>window.open(e.url,"_blank"),style:{display:"inline-flex",cursor:"pointer"}},n),{children:r})),insert:(t,e,s)=>{var a=s,{text:n}=a,r=_e(a,["text"]);b.insertNodes(t,[N({type:"link",children:[{text:n}]},r),{text:" "}],{at:e,select:!0}),St.isPoint(e)&&b.move(t,{distance:1})},match:{regexp:Et()}});var Zt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ae});class en{constructor(e,n){D(this,"state",[]);this.factory=e,this.editor=n}process(e){const[n,r]=e;if(h.isEditor(n))return this.state=[],[];if(z.isElement(n)){const s=this.factory.customElementMap.get(n.type);if(s&&!s.isInline){const a=s;if(a.decorate)return this.state.push({element:n,path:r,config:a}),[]}}if(this.state.length>0){for(const s of this.state.reverse())if(S.isAncestor(s.path,r))return s.config.decorate(this.editor,e,s.element)}return[]}}const tn=kt({proto:!1,circles:!1});class nn{constructor(){D(this,"blockConfigs",[]);D(this,"inlineConfigs",[]);D(this,"textConfig");D(this,"inlineSet",new Set);D(this,"voidSet",new Set);D(this,"nonEditableSet",new Set);D(this,"customElementMap",new Map);D(this,"contentTypeMap",new Map);D(this,"contentModelTypeMap",new Map);D(this,"serializerPlugins",[]);D(this,"deserializerPlugins",[]);D(this,"serializeProcessor",ee());D(this,"deserializeProcessor",ee());D(this,"deserializeHTMLProcessor",ee());D(this,"editorWrapHandlers",[]);D(this,"editorMountedHandlers",[])}freezeProcessors(){this.serializeProcessor.use(this.serializerPlugins).use(qe).use(te).use(He,{emphasis:"*",strong:"*",listItemIndent:"one",fence:"`",bullet:"-"}).freeze(),this.deserializeProcessor.use(Ue).use(te).use(Te).use(this.deserializerPlugins).freeze(),this.deserializeHTMLProcessor.use(Mt).use(Pt).use(te).use(Te).use(this.deserializerPlugins).freeze()}configProcessor(...e){this.configSerializeProcessor(...e),this.configDeserializeProcessor(...e)}configSerializeProcessor(...e){this.serializerPlugins.push(...e)}configDeserializeProcessor(...e){this.deserializerPlugins.push(...e)}use(e){return e(this),this}define(e){return e.isLeaf?this.textConfig=e:(e.isInline?(this.inlineSet.add(e.type),this.inlineConfigs.push(e)):this.blockConfigs.push(e),this.customElementMap.set(e.type,e),this.contentModelTypeMap.set(e.type,e.contentModelType),this.contentTypeMap.set(e.type,e.contentType),e.contentModelType===null&&this.voidSet.add(e.type),e.isEditable&&this.nonEditableSet.add(e.type)),this}onWrapEditor(e){this.editorWrapHandlers.push(e)}onEditorMounted(e){this.editorMountedHandlers.push(e)}triggerEditorMounted(e){this.editorMountedHandlers.forEach(n=>n(e))}generateMarkdown(e){return this.serializeProcessor.stringify(this.serializeProcessor.runSync({type:"root",children:tn(e)}))}parseMarkdown(e){return this.deserializeProcessor.processSync(e).result}wrapEditor(e){const{isVoid:n,isInline:r,normalizeNode:s,insertBreak:a,insertFragment:o,setFragmentData:l}=e;e.factory=this;function g(i){h.isEditor(i)?(console.group("#root"),i.children.forEach(g),console.groupEnd()):z.isElement(i)?(console.group(i.type),i.children.forEach(g),console.groupEnd()):console.debug("text")}return window.debugPrintTree=()=>g(e),window.debugEditor=e,e.updateSelectionToolbar=e.hideSelectionToolbar=e.toggleSelectionToolbar=()=>{},e.isContent=(i,m)=>z.isElement(i)?this.contentTypeMap.get(i.type)===m:L.isText(i)?this.textConfig.contentType===m:!1,e.canContainsContent=(i,m)=>{if(h.isEditor(i))return m===T.flow;if(z.isElement(i)){const v=this.contentModelTypeMap.get(i.type);return v?Q(m,v):!1}else return L.isText(i)?Q(m,se.canContainsContentModelTypeOf(i)):!1},e.getContentType=i=>z.isElement(i)?this.contentTypeMap.get(i.type)||null:L.isText(i)&&this.textConfig.contentType||null,e.getContentModelType=i=>h.isEditor(i)?T.flow:z.isElement(i)?this.contentModelTypeMap.get(i.type)||null:L.isText(i)?this.textConfig.contentModelType:null,e.getContentTypePair=i=>z.isElement(i)?[this.contentTypeMap.get(i.type)||null,this.contentModelTypeMap.get(i.type)||null]:L.isText(i)?[this.textConfig.contentType||null,this.textConfig.contentModelType||null]:[null,null],e.toggle=(i,m,v)=>{const x=e.canToggle(i,m,!0);if(!x)return!1;const[[E,u],f]=x,p=typeof v=="object"?v:{};switch(f){case G.replace:return b.unsetNodes(e,Object.keys(w.extractProps(E)),{at:u}),b.setNodes(e,O(N({type:m.type},p),{children:[]}),{at:u}),!0;case G.wrap:return b.wrapNodes(e,N({type:m.type},p),{at:u}),!0;case G.custom:throw new Error("TODO: ToggleStrategy.custom");default:throw new Error("unknown ToggleStrategy: "+f)}},e.canToggle=(i,m,v)=>{const[x]=i,[E,u]=e.getContentTypePair(x);if(m.contentType!==E)return!1;if(m.contentModelType===u)return[i,G.replace];if(m.contentModelType===E)return[i,G.wrap];if(!v)return!1;const f=w.ancestors(e,i[1],{reverse:!0});for(const p of f){const d=e.canToggle(p,m,!1);if(d)return d}return!1},e.unwrap=(i,m)=>{if(!e.canUnwrap(i,m))return!1;const[v,x]=i,E=[[[]]];let u=[[v,[]]],f=0;for(;f<m.length-1;){const p=[];for(const[d,_]of u)for(const[k,M]of d.children.entries())p.push([M,_.concat(k)]);f+=1,u=p,E.push(p.map(([,d])=>d))}for(const p of E.reverse())for(const d of p.reverse())b.unwrapNodes(e,{at:x.concat(d),split:!0});return!0},e.canUnwrap=([i,m],v)=>{if(v.length===0)return!0;const x=e.getContentModelType(w.parent(e,m)),E=v[v.length-1].contentModelType;if(!x||!E||!Q(E,x))return!1;let u=[[i,[]]],f=0;for(;f<v.length;){const p=[];for(const[d,_]of u){if(!R(d,v[f].type))return!1;for(const[k,M]of d.children.entries())p.push([M,_.concat(k)])}f+=1,u=p}return!0},e.wrap=(i,m,v)=>{if(!e.canWrap(i,m,v))return!1;const[,x]=i;let E=m.length-1;for(;E>=0;){const u=m[E],f=v[E];b.wrapNodes(e,Object.assign({type:u.type,children:[]},f),{at:x}),E--}return!0},e.canWrap=(i,m,v)=>{console.assert(m.length===v.length,"editor.canWrap: configs.length should be equals to params.length");const[x,E]=i,u=w.parent(e,E);let f=0,p=e.getContentModelType(u);for(;f<m.length;){const _=m[f];if(p===null||!Q(_.contentType,p))return!1;p=_.contentModelType,f+=1}if(p===null)return!1;const d=e.getContentType(x);return d?Q(d,p):!1},e.nearest=(i,m)=>{const[v,x]=i;if(R(v,m.type))return i;for(const E of w.ancestors(e,x,{reverse:!0}))if(R(E[0],m.type))return E},e.isVoid=i=>this.voidSet.has(i.type)||n(i),e.isInline=i=>this.inlineSet.has(i.type)||r(i),e.isEditable=i=>z.isElement(i)?this.nonEditableSet.has(i.type):!0,e.normalizeNode=i=>{let m=!0;const v=()=>{m=!1};h.withoutNormalizing(e,()=>{var u;const[x,E]=i;if(z.isElement(x)){const f=(u=this.customElementMap.get(x.type))==null?void 0:u.normalize;f&&f(e,x,E,v)}L.isText(x)&&this.textConfig.normalize&&this.textConfig.normalize(e,x,E,v),h.isEditor(x)&&(x.children.length===0?b.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:[0]}):R(x.children[x.children.length-1],"paragraph")||b.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:[x.children.length]}))}),m&&s(i)},e.insertBreak=()=>{if(e.selection){const i=w.parent(e,e.selection.anchor.path);if(e.getContentModelType(i)!==T.phrasing){b.insertText(e,`
`);return}}a()},e.insertFragment=i=>{if(e.selection){const m=w.parent(e,e.selection.anchor.path);if(e.getContentModelType(m)===T.value){const x=this.serializeProcessor.stringify(this.serializeProcessor.runSync({type:"root",children:i}));b.insertText(e,x);return}}o(i)},e.setFragmentData=i=>{l(i),i.setData("text/plain",this.generateMarkdown(e.getFragment()))},this.editorWrapHandlers.forEach(i=>i(e)),e}createDefaultEditableProps(e){const n=u=>{var p;const{selection:f}=e;if(f&&W.isCollapsed(f)){const d=f.anchor,_=w.get(e,d.path),k=w.parent(e,d.path);if(L.isText(_)&&z.isElement(k)&&k.type==="paragraph"&&u.data===" "&&!S.hasPrevious(d.path)){const M=_.text.slice(0,d.offset);for(const{toggle:A}of this.blockConfigs)if(!(typeof A.estimatePrefixLength=="number"&&M.length>A.estimatePrefixLength)&&((p=A.prefix)==null?void 0:p.test(M))){const I=A.onTrigger(M,e,S.parent(d.path));if(typeof I!="undefined"){b.delete(e,{at:{path:d.path,offset:0},distance:d.offset}),A.toggle(e,S.parent(d.path),I),u.preventDefault();return}}}if(L.isText(_)&&!R(k,"link")&&u.data===" "){for(const M of this.inlineConfigs)if(M.match){const A=M.match.regexp.exec(_.text.slice(0,d.offset));if(A){const I=A[0],H=A.index,Y=A.index+I.length,ae={anchor:{path:d.path,offset:H},focus:{path:d.path,offset:Y}};Ae.insert(e,ae,{url:I,title:"",text:I}),u.preventDefault();return}}}if(h.isInline(e,k)){const M=S.parent(d.path).concat(k.children.length);b.insertNodes(e,{text:u.data||""},{at:M}),b.move(e,{distance:1}),u.preventDefault();return}}},r=(u,f)=>p=>{const{selection:d}=e;if(d&&W.isCollapsed(d)){const _=d.anchor,k=S.parent(_.path),M=w.get(e,k);if(z.isElement(M)){const A=this.customElementMap.get(M.type);if(!A||A.isInline)return;const I=f(A.events);if(I&&I(e,_.path)){p.preventDefault();return}if(rn(e,_)){if(A){const H=u(A.events);if(H&&H(e,_.path)){p.preventDefault();return}}if(M.type==="paragraph"){const H=w.parent(e,k);if(!S.hasPrevious(k)&&z.isElement(H)){const Y=this.customElementMap.get(H.type);if(Y==null?void 0:Y.wrappingParagraph){const ae=u(Y.events);if(ae&&ae(e,_.path)){p.preventDefault();return}}}}}}}},s=r(u=>u.onStartDelete,u=>u.onDeleteText),a=r(u=>u.onStartEnter,u=>u.onInsertParagraph),l=(u=>f=>{const{selection:p}=e;if(p&&W.isCollapsed(p)){const d=p.anchor,_=S.parent(d.path),k=w.parent(e,d.path);if(z.isElement(k)){const M=this.customElementMap.get(k.type);if(M){const A=u(M.events);if(A&&A(e,d.path)){f.preventDefault();return}}if(k.type==="paragraph"){const A=w.parent(e,_);if(z.isElement(A)){const I=this.customElementMap.get(A.type);if(I==null?void 0:I.wrappingParagraph){const H=u(I.events);if(H&&H(e,d.path)){f.preventDefault();return}}}}}}})(u=>u.onTab),g=new en(this,e),i=u=>g.process(u),m=(u,f)=>{const p=f?h.rangeRef(e,f):null;e.uploadFile&&Promise.all(u.map(e.uploadFile)).then(d=>d.map((_,k)=>({type:"image",url:_,title:void 0,alt:u[k].name,children:[{text:""}]}))).then(d=>{var _;b.insertNodes(e,d,{at:(_=p==null?void 0:p.current)!=null?_:h.last(e,[])[1]})}).catch(console.error)},v=(u,f)=>{const p=[...u.files].filter(d=>/image\/*/.test(d.type));p.length>0&&m(p,f)};return{renderElement:u=>{const f=this.customElementMap.get(u.element.type);return f?f.render(e,u):(console.warn(`${u.element.type} not impl`),y.exports.createElement("div",u.attributes,u.children))},renderLeaf:u=>this.textConfig?this.textConfig.render(e,u):y.exports.createElement("span",u.attributes,u.children),decorate:i,onDOMBeforeInput:u=>{lt(e,()=>{switch(console.log(u.inputType),u.inputType){case"insertText":n(u);break;case"deleteContentBackward":s(u);break;case"insertParagraph":a(u);break}})},onKeyDown:u=>{lt(e,()=>{if(pe("tab",u)){l(u);return}if(pe(["ctrl+enter"],u)){b.insertText(e,`
`);return}if(e.selection){if(pe("meta+b",u)){se.toggleDecorator(e,e.selection,C.strong),u.preventDefault();return}if(pe("meta+i",u)){se.toggleDecorator(e,e.selection,C.emphasis),u.preventDefault();return}}})},onSelect:u=>{const f=window.getSelection();f&&(f.isCollapsed?e.hideSelectionToolbar():f.rangeCount>0&&e.updateSelectionToolbar(f.getRangeAt(0)))},onBlur:u=>{e.hideSelectionToolbar()},onClick:()=>{},onPaste:u=>{const f=u.clipboardData;if(!!f){if(f.types.indexOf("application/x-slate-fragment")<0){if(f.types.indexOf("text/html")>=0){const p=f.getData("text/html"),d=this.deserializeHTMLProcessor.processSync(p).result;e.insertFragment(d),u.preventDefault()}else if(f.types.indexOf("text/plain")>=0){const p=f.getData("text/plain"),d=this.deserializeProcessor.processSync(p).result;e.insertFragment(d),u.preventDefault()}}v(f,e.selection)}},onDrop:u=>{v(u.dataTransfer,K.findEventRange(e,u))}}}createDefaultChildren(e){return[]}}function rn(t,e){return e.offset===0&&!S.hasPrevious(e.path)&&L.isText(w.get(t,e.path))}function lt(t,e){let n=!0;h.withoutNormalizing(t,()=>{e(()=>{n=!1})}),n||h.normalize(t)}U.add(fe);const $=F({type:"blockquote",isInline:!1,isLeaf:!1,wrappingParagraph:!0,contentType:T.flow,contentModelType:T.flow,render:(t,{children:e,attributes:n})=>c("blockquote",O(N({},n),{children:e})),toggle:{prefix:/^>$/,toggle:(t,e,n)=>n?t.runAction("indent-blockquote",e):!1,onTrigger(){return!0}},events:{onStartDelete:(t,e)=>{const n=w.parent(t,S.parent(e));return R(n,"blockquote")?t.runAction("outdent-blockquote",S.parent(e)):!1}}});var sn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$});const on=t=>{let e=!1,n=!1;const r=()=>{e=!0,t.preventDefault()},s=()=>{n=!0,t.stopPropagation()};return{nativeEvent:t,currentTarget:t.currentTarget,target:t.target,bubbles:t.bubbles,cancelable:t.cancelable,defaultPrevented:t.defaultPrevented,eventPhase:t.eventPhase,isTrusted:t.isTrusted,preventDefault:r,isDefaultPrevented:()=>e,stopPropagation:s,isPropagationStopped:()=>n,persist:()=>{},timeStamp:t.timeStamp,type:t.type}};var P;(function(t){t.selection="selection",t.phrasing="phrasing",t.toplevel="toplevel"})(P||(P={}));function an({key:t,type:e,tips:n,defaultParams:r={},action:s,computeState:a,hotkeys:o,icon:l}){const g=N({active:!1,disabled:!1},r),i={key:t,type:e,hotkeys:o!=null?o:[],tips:n!=null?n:null,icon:l!=null?l:null,computeState:a!=null?a:()=>g,action:(m,v,x)=>{const E=i.computeState(m,v);return console.log("run action",t,v,E),E.disabled?!1:s(m,v,E,x)}};return i}function he(t,e,n){const r=n!=null?n:t.selection;if(!!r)switch(e){case P.phrasing:{const s=h.path(t,r),a=w.get(t,s);if(t.getContentModelType(a)===T.phrasing||!L.isText(a)&&t.getContentType(a)===T.flow)return s;for(const[l,g]of w.ancestors(t,s))if(t.getContentModelType(l)===T.phrasing)return g;break}case P.selection:return h.range(t,r);case P.toplevel:{const s=h.path(t,r);if(s.length>=1)return[s[0]];break}}}function ln(t){t.actions=[],t.actionMap=new Map,t.actionTypes={[P.selection]:[],[P.phrasing]:[],[P.toplevel]:[]},t.defineAction=e=>{const n=an(e);t.actionMap.set(n.key,n),t.actionTypes[n.type].push(n),t.actions.push(n)},t.onWrapEditor(e=>{e.runAction=(n,r,s)=>{const a=t.actionMap.get(n);if(!a||(r=he(e,a.type,r),!r))return!1;const o=r;let l;return h.withoutNormalizing(e,()=>{l=a.action(e,o,s!=null?s:on(new Event("fake")))}),l},e.getActions=(n,r)=>{let s=t.actions;r&&(s=r.map(o=>t.actionMap.get(o)).filter(o=>!!o));const a={[P.toplevel]:he(e,P.toplevel,n),[P.selection]:he(e,P.selection,n),[P.phrasing]:he(e,P.phrasing,n)};return s.map(o=>{const l=a[o.type];return{state:l?o.computeState(e,l):{active:!1,disabled:!0},action:o}})}}),t.lineActions||(t.lineActions=[["toggle-heading-1","toggle-heading-2","toggle-heading-3","toggle-heading-4","toggle-heading-5","toggle-heading-6"],["toggle-ordered-list","toggle-unordered-list","indent-list","outdent-list"],["toggle-blockquote","toggle-codeblock","toggle-table"]]),t.selectionActions||(t.selectionActions=[C.strong,C.emphasis,C.delete,C.inlineCode,"toggle-link","table-insert-row-right","table-insert-row-left","table-insert-row-above","table-insert-row-below"])}function cn(t){t.defineAction({key:"toggle-blockquote",icon:c(B,{icon:fe}),type:P.phrasing,computeState:(e,n)=>{const r=[w.get(e,n),n],s=e.nearest(r,$),a=!!s;let o;return s?o=!e.canUnwrap(s,[$]):o=!e.canToggle(r,$,!1),{active:a,disabled:o,blockquoteEntry:s}},action:(e,n,r)=>{if(r.active){if(r.blockquoteEntry)return e.unwrap(r.blockquoteEntry,[$])}else return e.toggle([w.get(e,n),n],$,void 0);return!1}}),t.defineAction({key:"indent-blockquote",icon:c(B,{icon:fe}),type:P.phrasing,computeState:(e,n)=>({active:!1,disabled:!e.canToggle([w.get(e,n),n],$,!1)}),action:(e,n)=>e.toggle([w.get(e,n),n],$,void 0)}),t.defineAction({key:"outdent-blockquote",icon:c(B,{icon:fe}),type:P.phrasing,computeState:(e,n)=>{const r=[w.get(e,n),n],s=e.nearest(r,$),a=!!s,o=!s||!e.canUnwrap(s,[$]);return{active:a,disabled:o,blockquoteEntry:s}},action:(e,n,r)=>r.blockquoteEntry?e.unwrap(r.blockquoteEntry,[$]):!1})}var un=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:cn});function pn(t){t.defineAction({key:"toggle-codeblock",type:P.phrasing,icon:c(B,{icon:ue}),computeState:(e,n)=>{const r=w.get(e,n),s=R(r,"code");let a;if(s)a=!1;else{const o=w.parent(e,n),l=e.getContentModelType(o);l?a=!Q(st.contentType,l):a=!0}return{active:s,disabled:a}},action:(e,n,r)=>{const s=w.get(e,n);if(r.active)b.unsetNodes(e,Object.keys(w.extractProps(s)),{at:n}),b.setNodes(e,{type:"paragraph"},{at:n});else{const a=w.string(s);b.removeNodes(e,{at:n}),b.insertNodes(e,{type:"code",lang:"markdown",meta:void 0,children:[{text:a}]},{at:n,select:!0})}return!0}})}var fn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:pn});const me=F({type:"heading",isInline:!1,isLeaf:!1,wrappingParagraph:!1,contentType:T.flow,contentModelType:T.phrasing,render:(t,{element:e,children:n,attributes:r})=>c(ne,{element:e,children:({active:s})=>y.exports.createElement(`h${e.depth}`,Object.assign(r,{className:Z({active:s})}),n)}),toggle:{prefix:/^#{1,6}$/,estimatePrefixLength:6,toggle:(t,e,n)=>{n?t.runAction(`toggle-heading-${n.depth}`,e):t.runAction("toggle-paragraph",e)},onTrigger:t=>({depth:t.length})},events:{onInsertParagraph:t=>{if(!t.selection)return!1;const e=h.point(t,t.selection),n=S.parent(h.path(t,t.selection));return h.isStart(t,e,n)?t.runAction("toggle-paragraph",n):h.isEnd(t,e,n)?t.runAction("insert-paragraph",S.next(n)):(b.splitNodes(t,{at:t.selection}),t.runAction("toggle-paragraph",S.next(n)))}}});var dn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:me});U.add(Se);const X=F({type:"paragraph",isLeaf:!1,isInline:!1,wrappingParagraph:!1,contentType:T.flow,contentModelType:T.phrasing,toggle:{},events:{},render(t,{element:e,attributes:n,children:r}){return c(ne,{element:e,children:({active:s})=>c("p",O(N({className:Z({active:s})},n),{children:r}))})}});var gn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:X});function hn(t){[1,2,3,4,5,6].forEach(e=>{const n=`H${e}`;t.defineAction({key:`toggle-heading-${e}`,type:P.phrasing,defaultParams:{depth:e},icon:c("span",{children:n}),computeState:(r,s)=>{const a=[w.get(r,s),s],o=r.nearest(a,me),l=!!o&&o[0].depth===e;let g;return o?g=!r.canToggle(o,X,!1):g=!r.canToggle(a,me,!0),{active:l,disabled:g,depth:e}},action:(r,s,a)=>{const o=[w.get(r,s),s];return a.active?r.toggle(o,X,void 0):r.toggle(o,me,{depth:e})}})})}var mn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:hn});function ct(t,e){e&&(typeof e=="function"?e(t):e.current=t)}function bn(t,e){return n=>{ct(n,t),ct(n,e)}}const Re=y.exports.forwardRef(function(s,r){var{children:t,attributes:a}=s,o=a,{ref:e}=o,n=_e(o,["ref"]);return c("span",O(N({className:"void-element",contentEditable:!1,ref:bn(r,e)},n),{children:t}))});Re.displayName="VoidElement";U.add(We);const ut=F({type:"image",isInline:!0,isLeaf:!1,contentType:T.staticPhrasing,contentModelType:null,render:(t,{element:e,attributes:n,children:r})=>j(Re,{attributes:n,children:[c("img",{alt:e.alt,src:e.url,title:e.title}),r]}),insert:(t,e,n)=>{b.insertNodes(t,[{text:" "},N({type:"image",children:[]},n),{text:" "}],{at:e})}});var yn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ut});function _n({schema:t,onSubmit:e,defaultValues:n}){return c("div",{contentEditable:!1,children:c(Ct,{className:"action-form",formData:n,onSubmit:r=>e(r.formData),schema:t})})}function xn(t,e){return y.exports.useCallback(()=>t.selection?K.toDOMRange(t,t.selection).getBoundingClientRect():e.getBoundingClientRect(),[t,e])}function wn(t,e){return y.exports.useCallback(()=>{t("user canceled"),e.current&&e.current.hide()},[t])}function vn(){const t=y.exports.useRef(),e=y.exports.useCallback(n=>{t.current=n},[t]);return[t,e]}function Tn(t,e,n,r){const s=y.exports.useCallback(a=>{var o;e(a),(o=r.current)==null||o.hide()},[e,r]);return y.exports.useMemo(()=>c(_n,{defaultValues:n,onSubmit:s,schema:t}),[t,s])}function Sn({editor:t,el:e,reject:n,resolve:r,schema:s,defaultValues:a}){const[o,l]=vn(),g=xn(t,e),i=wn(n,o),m=Tn(s,r,a,o);return c(ce,{content:m,getReferenceClientRect:g,interactive:!0,onClickOutside:i,onMount:l,placement:"right-start",visible:!0,children:c("span",{})})}function Oe(t,e,n,r){return new Promise((s,a)=>{t.setActionForm(c(Sn,{defaultValues:r,editor:t,el:e,reject:a,resolve:s,schema:n}))}).catch(s=>{if(s==="user canceled")return Promise.resolve(void 0);throw s})}const En="\u6DFB\u52A0\u56FE\u7247",kn="object",Mn={src:{title:"\u94FE\u63A5",type:"string",format:"url"},alt:{title:"\u66FF\u4EE3\u6587\u672C\uFF08alt\uFF09",type:"string"}},Pn=["src","alt"];var Cn={title:En,type:kn,properties:Mn,required:Pn};function Nn(t){t.defineAction({key:"toggle-image",type:P.selection,icon:c(B,{icon:We}),computeState:(e,n)=>{const r=Ne(e,n,"image"),s=!S.equals(S.parent(n.focus.path),S.parent(n.anchor.path))||!ge(e,n);return{active:r,disabled:s}},action:(e,n,r,s)=>{if(r.active)return b.unwrapNodes(e,{at:h.unhangRange(e,n),match:a=>!h.isEditor(a)&&z.isElement(a)&&a.type==="image"}),!0;{const a=h.rangeRef(e,n);return Oe(e,s.target,Cn,{alt:h.string(e,n),src:""}).then(o=>{if(!!a.current&&o){const{src:l,alt:g}=o;h.withoutNormalizing(e,()=>{ut.insert(e,n,{url:l,title:"",alt:g})})}}).finally(()=>{a.unref()}),!1}}})}var An=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:Nn});const Rn="\u6DFB\u52A0\u8D85\u94FE\u63A5",On="object",zn={src:{title:"\u94FE\u63A5",type:"string",format:"url"},text:{title:"\u663E\u793A\u6587\u672C",type:"string"}},Dn=["src","text"];var In={title:Rn,type:On,properties:zn,required:Dn};function Bn(t){t.defineAction({key:"toggle-link",type:P.selection,icon:c(B,{icon:$e}),computeState:(e,n)=>{const r=Ne(e,n,"link"),s=!S.equals(S.parent(n.focus.path),S.parent(n.anchor.path))||!ge(e,n);return{active:r,disabled:s}},action:(e,n,r,s)=>{if(r.active)return b.unwrapNodes(e,{at:h.unhangRange(e,n),match:a=>!h.isEditor(a)&&z.isElement(a)&&a.type==="link"}),!0;{const a=h.rangeRef(e,n);return Oe(e,s.target,In,{text:h.string(e,n),src:""}).then(o=>{if(!!a.current&&o){const{src:l,text:g}=o;h.withoutNormalizing(e,()=>{Ae.insert(e,n,{url:l,title:"",text:g})})}}).finally(()=>{a.unref()}),!1}}})}var Fn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:Bn});U.add(Ve,Ke);const V=F({type:"listItem",isLeaf:!1,isInline:!1,wrappingParagraph:!0,contentType:T.list,contentModelType:T.flow,normalize:(t,e,n,r)=>{if(e.children.length>0)if(R(e.children[0],"list")){b.moveNodes(t,{at:n.concat(0),to:S.parent(n)}),r();return}else{const o=e.children.length-1;if(e.children.length>1&&R(e.children[o],"paragraph")){const l=S.next(n);b.moveNodes(t,{at:n.concat(o),to:l}),b.wrapNodes(t,{type:"listItem",checked:e.checked,spread:e.spread,children:[]},{at:l}),r();return}}else{b.removeNodes(t,{at:n}),r();return}const s=w.parent(t,n);t.getContentModelType(s)!==T.list&&(b.wrapNodes(t,{type:"list",ordered:!1,start:void 0,spread:void 0,children:[]},{at:n}),r())},render(t,{element:e,attributes:n,children:r}){return c("li",O(N({},n),{children:r}))},toggle:{},events:{onStartDelete:(t,e)=>t.runAction("outdent-list",S.parent(e)),onStartEnter:(t,e)=>w.string(w.get(t,e))?!1:t.runAction("outdent-list",S.parent(e)),onTab:(t,e)=>t.runAction("indent-list",S.parent(e))}});var Ln=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:V});U.add(Qe,Ge);const q=F({type:"list",isLeaf:!1,isInline:!1,wrappingParagraph:!0,contentType:T.flow,contentModelType:T.list,normalize:(t,e,n,r)=>{if(e.children.length===0){b.removeNodes(t,{at:n}),r();return}if(S.hasPrevious(n)){const s=w.get(t,S.previous(n));if(R(s,"list")&&Boolean(s.ordered)===Boolean(e.ordered)&&s.start===void 0&&e.start===void 0){b.mergeNodes(t,{at:n}),r();return}}},render(t,{element:e,attributes:n,children:r}){return e.ordered?c("ol",O(N({},n),{start:e.start,children:r})):c("ul",O(N({},n),{children:r}))},toggle:{prefix:/^(?:-|\d+\.)$/,toggle:(t,e,n)=>{if(n===!1)throw new Error("should never reach");{let r;return t.runActionParams=n,t.nearest([w.get(t,e),e],q)?r=t.runAction("indent-list",e):r=t.runAction(`toggle-${n.ordered?"ordered":"unordered"}-list`,e),t.runActionParams=void 0,r}},onTrigger:t=>{if(t==="-")return{ordered:!1,start:void 0,spread:void 0};{const e=parseInt(t);return{ordered:!0,start:e===1?void 0:e,spread:void 0}}}},events:{}});var jn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:q});const pt=t=>{let e,n;if(t.runActionParams&&typeof t.runActionParams=="object"){const{ordered:r,start:s}=t.runActionParams;typeof r=="boolean"&&(e=r),typeof s=="number"&&(n=s)}return{ordered:e,start:n}};function $n(t){t.defineAction({key:"indent-list",type:P.phrasing,icon:c(B,{icon:Ve}),computeState:(e,n)=>{const r=[w.get(e,n),n],s=e.nearest(r,V),a=e.nearest(s!=null?s:r,q),o=!1,l=!a||!s||!S.hasPrevious(s[1])||a[0].children.length<=1;return N({active:o,disabled:l,listEntry:a,listItemEntry:s},pt(e))},action:(e,n,r)=>{var o;const{listEntry:s,listItemEntry:a}=r;return!a||!s?!1:e.wrap(a,[V,q],[{spread:void 0,checked:void 0},{ordered:(o=r.ordered)!=null?o:s[0].ordered,spread:void 0,start:r.start}])?(b.mergeNodes(e,{at:a[1]}),!0):!1}}),t.defineAction({key:"outdent-list",type:P.phrasing,icon:c(B,{icon:Ke}),computeState:(e,n)=>{const r=[w.get(e,n),n],s=e.nearest(r,V),a=e.nearest(s!=null?s:r,q);return{active:!1,disabled:!a||!s,listEntry:a,listItemEntry:s}},action:(e,n,r)=>{const{listEntry:s,listItemEntry:a}=r;if(!a||!s)return!1;const o=h.pathRef(e,a[1]),l=S.next(a[1]);if(h.hasPath(e,l)&&b.splitNodes(e,{at:l}),b.splitNodes(e,{at:a[1]}),o.current){const g=S.parent(o.current),i=[w.get(e,g),g];e.unwrap(i,[q,V]),b.splitNodes(e,{at:g})}return o.unref(),!0}}),[!0,!1].forEach(e=>{const n={ordered:e,spread:void 0,start:void 0},r={spread:void 0,checked:void 0};t.defineAction({key:`toggle-${e?"ordered":"unordered"}-list`,type:P.phrasing,icon:c(B,{icon:e?Qe:Ge}),computeState:(s,a)=>{const o=[w.get(s,a),a],l=s.nearest(o,q),g=l?Boolean(l[0].ordered)===Boolean(e):!1;let i;return l?g?i=!s.canUnwrap(l,[q,V]):i=!0:i=!s.canWrap(o,[q,V],[n,r]),{active:g,disabled:i,listEntry:l}},action:(s,a,o)=>{const l=[w.get(s,a),a],{ordered:g,start:i}=pt(s);return o.listEntry?o.active?s.unwrap(o.listEntry,[q,V]):(b.setNodes(s,{ordered:g,start:i},{at:o.listEntry[1]}),!0):s.wrap(l,[q,V],[Object.assign({},n,{start:i}),r])}})})}var qn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:$n});function Hn(t){t.defineAction({key:"toggle-paragraph",type:P.phrasing,icon:c(B,{icon:Se}),computeState:(e,n)=>{const r=[w.get(e,n),n],s=e.nearest(r,X),a=!!s;let o;return s?o=!0:o=!e.canToggle(r,X,!0),{active:a,disabled:o}},action:(e,n,r)=>{const s=[w.get(e,n),n];return r.active?!1:e.toggle(s,X,void 0)}}),t.defineAction({key:"insert-paragraph",type:P.toplevel,icon:c(B,{icon:Se}),computeState:()=>({active:!1,disabled:!1}),action:(e,n,r)=>(b.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:n,select:!0}),!0)})}var Un=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:Hn});const be=y.exports.createContext({isHeader:!1});var Wn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",TableContext:be});const ft=F({type:"tableCell",isInline:!1,isLeaf:!1,contentType:T.tableRow,contentModelType:T.phrasing,wrappingParagraph:!1,events:{onStartDelete:(t,e)=>!0,onInsertParagraph:(t,e)=>(t.insertText(`
`),!0)},toggle:{},render:(t,{element:e,attributes:n,children:r})=>c(be.Consumer,{children:({isHeader:s})=>s?c("th",O(N({},n),{children:r})):c("td",O(N({},n),{children:r}))})});var Vn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ft});U.add(Ye);const dt=F({type:"table",isInline:!1,isLeaf:!1,contentType:T.flow,contentModelType:T.table,wrappingParagraph:!1,events:{},toggle:{},render:(t,{element:e,attributes:n,children:r})=>{const[s,...a]=r,o={isHeader:!0,align:e.align},l={isHeader:!1,align:e.align};return c(ne,{element:e,children:j("table",O(N({},n),{children:[c(be.Provider,{value:o,children:c("thead",{children:s})}),c(be.Provider,{value:l,children:c("tbody",{children:a})})]}))})}});var Kn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:dt});const Qn=F({type:"tableRow",isInline:!1,isLeaf:!1,contentType:T.table,contentModelType:T.tableRow,wrappingParagraph:!1,events:{},toggle:{},render:(t,{element:e,attributes:n,children:r})=>c("tr",O(N({},n),{children:r}))});var Gn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Qn});const Yn="\u6DFB\u52A0\u56FE\u7247",Xn="object",Jn={cols:{title:"\u5217\u6570",type:"number",min:2},rows:{title:"\u884C\u6570",type:"number",min:2}},Zn=["cols","rows"];var er={title:Yn,type:Xn,properties:Jn,required:Zn};const tr=t=>{let e,n;if(t.runActionParams&&typeof t.runActionParams=="object"){const{rows:r,cols:s}=t.runActionParams;typeof r=="boolean"&&(e=r),typeof s=="number"&&(n=s)}return{rows:e,cols:n}},ze=t=>t.children.length>0?t.children[0].children.length:0;function gt(t,e,n){let r;return t.selection&&([r]=h.nodes(t,{at:t.selection,mode:"lowest",match:s=>R(s,"tableRow")})),r?r[1]:e.concat(n)}function ht(t,e){let n;if(t.selection){const r=t.selection.focus.path,s=t.nearest([w.get(t,r),r],ft);s&&(n=s[1][s[1].length-1])}return typeof n!="number"&&(n=e),n}function mt(t,e,n){b.insertNodes(t,{type:"tableRow",children:Array(n).fill(0).map(()=>({type:"tableCell",children:[{text:""}]}))},{at:e})}function bt(t,e,n){for(const[r]of Array(e[0].children.length).fill(0).entries()){const s=e[1].concat(r,n);b.insertNodes(t,{type:"tableCell",children:[{text:""}]},{at:s})}}function nr(t){t.defineAction({key:"toggle-table",type:P.phrasing,icon:c(B,{icon:Ye}),computeState:(e,n)=>{const r=w.get(e,n),s=R(r,"table");let a,o;if(s)o=!1,a=[r,n];else{const l=w.parent(e,n),g=e.getContentModelType(l);g?o=!Q(dt.contentType,g):o=!0}return{active:s,disabled:o,tableEntry:a}},action:(e,n,r,s)=>{if(tr(e),r.active){if(!r.tableEntry)return!1;const[a,o]=r.tableEntry,l=[...w.texts(a)].map(([g])=>g.text).join(" ");return b.removeNodes(e,{at:o}),b.insertNodes(e,{type:"paragraph",children:[{text:l}]},{at:o}),!0}else{const a=h.pathRef(e,n);return Oe(e,s.target,er,{cols:2,rows:2}).then(o=>{const l=a.current;!l||o&&h.withoutNormalizing(e,()=>{const{cols:g,rows:i}=o;b.removeNodes(e,{at:l}),b.insertNodes(e,{type:"table",align:void 0,children:Array(i).fill(0).map(()=>({type:"tableRow",children:Array(g).fill(0).map(()=>({type:"tableCell",children:[{text:""}]}))}))},{at:l})})}).finally(()=>a.unref()),!0}}}),t.defineAction({key:"table-insert-row-above",type:P.selection,icon:c(Nt,{}),computeState:(e,n)=>{const[r]=h.nodes(e,{at:n,mode:"lowest",match:s=>R(s,"table")});return{active:!1,disabled:!r,tableEntry:r}},action:(e,n,r)=>{if(!r.tableEntry)return!1;const[s,a]=r.tableEntry,o=gt(e,a,0),l=ze(s);return mt(e,o,l),!0}}),t.defineAction({key:"table-insert-row-below",type:P.selection,icon:c(At,{}),computeState:(e,n)=>{const[r]=h.nodes(e,{at:n,mode:"lowest",match:s=>R(s,"table")});return{active:!1,disabled:!r,tableEntry:r}},action:(e,n,r)=>{if(!r.tableEntry)return!1;const[s,a]=r.tableEntry,o=gt(e,a,s.children.length-1);o[o.length-1]+=1;const l=ze(s);return mt(e,o,l),!0}}),t.defineAction({key:"table-insert-row-left",type:P.selection,icon:c(Rt,{}),computeState:(e,n)=>{const[r]=h.nodes(e,{at:n,mode:"lowest",match:s=>R(s,"table")});return{active:!1,disabled:!r,tableEntry:r}},action:(e,n,r)=>{if(!r.tableEntry)return!1;const s=ht(e,0);return bt(e,r.tableEntry,s),!0}}),t.defineAction({key:"table-insert-row-right",type:P.selection,icon:c(Ot,{}),computeState:(e,n)=>{const[r]=h.nodes(e,{at:n,mode:"lowest",match:s=>R(s,"table")});return{active:!1,disabled:!r,tableEntry:r}},action:(e,n,r)=>{if(!r.tableEntry)return!1;const s=ht(e,ze(r.tableEntry[0])-1)+1;return bt(e,r.tableEntry,s),!0}})}var rr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:nr});function sr(t){[{key:C.strong,icon:xe,tips:c(de,{children:"\u52A0\u7C97"})},{key:C.emphasis,icon:we,tips:c(de,{children:"\u659C\u4F53"})},{key:C.inlineCode,icon:ue,tips:c(de,{children:"\u884C\u5185\u4EE3\u7801"})},{key:C.delete,icon:ve,tips:c(de,{children:"\u5220\u9664"})}].forEach(({icon:e,key:n,tips:r})=>{t.defineAction({key:n,type:P.selection,icon:c(B,{icon:e}),tips:r,computeState:(s,a)=>{const o=Pe(s,a,n),l=!ge(s,a);return{active:o,disabled:l}},action:(s,a,o,l)=>(se.toggleDecorator(s,a,n),!0)})})}var or=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",register:sr}),ar=F({type:"thematicBreak",isLeaf:!1,isInline:!1,wrappingParagraph:!1,contentType:T.flow,contentModelType:null,render(t,{element:e,children:n,attributes:r}){return c(ne,{element:e,children:j(Re,{attributes:r,children:[c("hr",{}),n]})})},toggle:{prefix:/^---$/,estimatePrefixLength:3,toggle:(t,e,n)=>{n?(b.removeNodes(t,{at:e}),b.insertNodes(t,{type:"paragraph",children:[{text:""}]},{at:e}),b.insertNodes(t,{type:"thematicBreak",children:[]},{at:e}),K.deselect(t),b.select(t,h.start(t,S.next(e)))):b.setNodes(t,{type:"thematicBreak",children:[{text:""}]},{at:e})},onTrigger:(t,e,n)=>{if(!(n.length>1))return!0}},events:{}}),ir=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ar});const lr={"./blockquote/BlockquoteNode.tsx":sn,"./blockquote/action.tsx":un,"./code/CodeNode.tsx":Xt,"./code/actions.tsx":fn,"./heading/HeadingNode.tsx":dn,"./heading/actions.tsx":mn,"./image/ImageNode.tsx":yn,"./image/action.tsx":An,"./link/LinkNode.tsx":Zt,"./link/action.tsx":Fn,"./list/ListItemNode.tsx":Ln,"./list/ListNode.tsx":jn,"./list/actions.tsx":qn,"./paragraph/ParagraphNode.tsx":gn,"./paragraph/actions.tsx":Un,"./table/TableCellNode.tsx":Vn,"./table/TableNode.tsx":Kn,"./table/TableRowNode.tsx":Gn,"./table/actions.tsx":rr,"./table/context.tsx":Wn,"./text/TextNode.tsx":Jt,"./text/actions.tsx":or,"./thematic-break/ThematicBreakNode.tsx":ir};function cr(t){for(const[e,{default:n,register:r}]of Object.entries(lr)){const s=r||(n==null?void 0:n.register);typeof s=="function"&&(console.debug("auto detected",e),s(t))}}U.add(xe,we,ve,ue);function yt(t,e){if(!!e)return typeof e=="function"?e(t):e}function ur(t,e){var r;if(!e)return[];const n=(r=K.toSlateRange(t,e,{exactMatch:!0}))!=null?r:t.selection;if(n){if(!at(t,n))return[];const[s]=h.nodes(t,{at:n,match:a=>{const o=a.type;if(o){const l=t.factory.customElementMap.get(o);if(l&&l.contentModelType!==T.value)return!0}return!1}});if(!s)return[]}return t.getActions(n!=null?n:void 0,t.factory.selectionActions).map(({action:{key:s,icon:a,tips:o},state:l})=>({key:s,disabled:l.disabled,active:l.active,icon:yt(l,a),tips:yt(l,o),action:g=>{t.runAction(s,n!=null?n:void 0,g)}})).filter(s=>!s.disabled)}function pr(){const t=le(),e=y.exports.useRef(null),n=y.exports.useRef(),[r,s]=y.exports.useState(!0),a=tt(),[o,l]=y.exports.useState([]);t.hideSelectionToolbar=()=>s(!0);const g=y.exports.useMemo(()=>({getBoundingClientRect(){return n.current?n.current.getBoundingClientRect():{width:0,height:0}}}),[t,n]),{styles:i,attributes:m,update:v}=zt(g,e.current,{placement:"top",modifiers:[{name:"computeStyles",options:{adaptive:!1}},{name:"offset",options:{offset:[0,8]}}]});return t.updateSelectionToolbar=x=>{if(x){const u=!n.current;n.current=x,u&&setTimeout(()=>{t.updateSelectionToolbar()},0)}const E=ur(t,n.current);l(E),E.length>0?(s(!1),v&&v()):s(!0),a()},t.toggleSelectionToolbar=x=>{r?t.updateSelectionToolbar(x):t.hideSelectionToolbar()},c("div",O(N({className:"ti-hovering-toolbar",ref:e,style:O(N({},i.popper),{opacity:r?0:1,pointerEvents:r?"none":"initial"})},m.popper),{children:o.map(x=>c(Ze,{action:x.action,active:x.active,disabled:x.disabled,icon:x.icon,tips:x.tips},x.key))}))}function fr(t){const e=t.createDefaultChildren.bind(t);t.createDefaultChildren=n=>{const r=e(n);return r.push(y.exports.createElement(pr,{key:"selection-toolbar"})),r}}var G;(function(t){t[t.replace=1]="replace",t[t.wrap=2]="wrap",t[t.unwrap=3]="unwrap",t[t.custom=4]="custom"})(G||(G={}));const J=y.exports.forwardRef(({disabled:t=!1,initialMarkdown:e="",config:n,uploadFile:r,value:s,onChange:a,children:o},l)=>{const g=y.exports.useMemo(()=>{const _=new nn;return _.use(ln),_.use(fr),cr(_),n&&n(_),_.freezeProcessors(),_},[]),i=y.exports.useMemo(()=>{const _=Dt(It(Bt()));return _.onAlert=(k,M)=>{console.warn(k,M)},g.wrapEditor(_)},[g]);y.exports.useEffect(()=>{l&&(typeof l=="function"?l(i):l.current=i)},[i,l]),y.exports.useEffect(()=>{e&&(i.markdown=e)},[i]);const m=y.exports.useMemo(()=>g.createDefaultEditableProps(i),[g,i]),v=y.exports.useRef(null),x=y.exports.useMemo(()=>({getEditorDOMRect(){var _,k;return(k=(_=v.current)==null?void 0:_.getBoundingClientRect())!=null?k:new DOMRect}}),[v]),[E,u]=y.exports.useState();i.setActionForm=u,r&&(i.uploadFile=r);const f=y.exports.useMemo(()=>{if(E)return Ft.exports.createPortal(E,document.body)},[E]),p=y.exports.useCallback(_=>{a(_)},[a]);y.exports.useEffect(()=>{g.triggerEditorMounted(i)},[i]);const d=y.exports.useMemo(()=>g.createDefaultChildren(i),[g,i]);return j(Lt,{editor:i,onChange:p,value:s,children:[d,j(nt.Provider,{value:x,children:[c("div",{className:"ti-community-editor-container",ref:v,children:c(jt,N({as:"article",className:"ti-community-editor markdown-body",readOnly:t},m))}),o]}),f]})});J.displayName="TiEditor";J.propTypes={disabled:Xe.bool,initialMarkdown:Xe.string};J.defaultProps={disabled:!1,initialMarkdown:""};const dr=t=>{console.log(t)};var gr=F({type:"section",isLeaf:!1,isInline:!1,isEditable:!1,contentType:T.flow,contentModelType:T.flow,wrappingParagraph:!1,normalize:(t,e,n,r)=>{e.children.length===0&&(b.removeNodes(t,{at:n}),r())},render(t,{attributes:e,children:n}){return c("section",O(N({},e),{"data-slate-zero-width":!0,onBeforeInputCapture:dr,children:n}))},events:{},toggle:{}});const hr=()=>t=>{$t(t,n=>"children"in n&&"type"in n,n=>{for(let r=n.children.length-1;r>=0;--r){const s=n.children[r];s.type==="section"&&n.children.splice(r,1,...s.children)}})};function mr(t,e,n){for(const r of e)if((Je.isNodeOperation(r)||Je.isTextOperation(r))&&W.includes(n,r.path))return!0;return!1}function oe({section:t,value:e=[],onChange:n}){const r=le(),s=y.exports.useRef(n),a=y.exports.useRef([]);return s.current=n,y.exports.useEffect(()=>{const o=r.factory.registerOnChange(()=>{const g=r.getSectionRange(t);if(!!g&&mr(r,r.operations,g)){const i=r.getSection(t);a.current=i,s.current(i)}}),l=r.factory.registerOnSectionLayout(g=>{t===g&&e!==a.current&&(a.current=e,r.setSection(t,e))});return()=>{o(),l()}},[r]),y.exports.useEffect(()=>{e!==a.current&&r.setSection(t,e)},[e]),null}function _t(t){gr.register(t),t.configSerializeProcessor(hr);let e=[];t.configSections=o=>{e=o};const n=new WeakMap;t.onWrapEditor(o=>{const{normalizeNode:l,deleteFragment:g,deleteBackward:i,deleteForward:m,insertFragment:v,runAction:x,onChange:E}=o,u=[];n.set(o,u),o.insertFragment=f=>{v(f.filter(p=>!R(p,"section")))},o.runAction=(f,p,d)=>{if(p){const _=h.range(o,p);let k=!1;for(const M of u)if(M.current&&W.includes(_,M.current)){k=!0;break}if(k)return o.onAlert("\u65E0\u6CD5\u64CD\u4F5C\u56FA\u5B9A\u5185\u5BB9",""),!1}return x(f,p,d)},o.deleteFragment=f=>{if(o.selection){let p=!1;for(const d of u)if(d.current&&W.includes(o.selection,d.current)){p=!0;break}if(p){o.onAlert("\u65E0\u6CD5\u5220\u9664\u56FA\u5B9A\u5185\u5BB9","");return}}g(f)},o.deleteBackward=f=>{if(o.selection){const p=h.before(o,o.selection,{unit:f});if(p&&R(h.node(o,p,{depth:1})[0],"section")){o.onAlert("\u65E0\u6CD5\u5220\u9664\u56FA\u5B9A\u5185\u5BB9","");return}}i(f)},o.deleteForward=f=>{if(o.selection){const p=h.after(o,o.selection,{unit:f});if(p&&R(h.node(o,p,{depth:1})[0],"section")){o.onAlert("\u65E0\u6CD5\u5220\u9664\u56FA\u5B9A\u5185\u5BB9","");return}}m(f)},o.normalizeNode=f=>{l(f)},Object.defineProperty(o,"markdown",{get(){console.warn("editor.markdown was disabled for layout plugin, use editor.getSectionMarkdown instead")},set(){console.warn("editor.markdown was disabled for layout plugin, use editor.setSectionMarkdown instead")}}),o.getSectionSpan=f=>{if(f>=u.length)return;let p=u[f].current;if(!p)return;let d;if(f<u.length-1?d=u[f+1].current:d=[o.children.length-1],!!d&&(p=S.next(p),S.hasPrevious(d)?d=S.previous(d):d=p,S.isBefore(d,p)&&(d=p),!(!h.hasPath(o,p)||!h.hasPath(o,d))))return[p,d]},o.getSectionRange=f=>{const p=o.getSectionSpan(f);if(!p)return;const[d,_]=p,k=h.start(o,d),M=h.end(o,_);return{anchor:k,focus:M}},o.getSection=f=>{const p=o.getSectionSpan(f);if(!p)return[];const[...d]=h.nodes(o,{at:p,mode:"highest",match:_=>!h.isEditor(_)});return d.map(([_])=>_)},o.getSectionMarkdown=f=>t.generateMarkdown(o.getSection(f)),o.setSection=(f,p)=>{const d=o.getSectionRange(f);!d||(b.select(o,d),o.insertFragment(p))},o.setSectionMarkdown=(f,p)=>{o.setSection(f,t.parseMarkdown(p))},o.onChange=()=>{E(),Object.values(s).forEach(f=>f())},o.onSectionLayout=f=>{Object.values(a).forEach(p=>p(f))}}),t.onEditorMounted(o=>{const l=n.get(o);if(!l)throw new Error;const g=(i,m)=>(b.insertNodes(o,[i,{type:"paragraph",children:[{text:""}]}],{at:[m*2]}),h.pathRef(o,[m*2]));Ee.withoutSaving(o,()=>{h.withoutNormalizing(o,()=>{if(e.length&&l.length===0){for(let i=0;i<e.length;++i)l[i]=g(e[i],i);return}})});for(let i=0;i<e.length;++i)o.onSectionLayout(i)});let r=0;const s={},a={};t.registerOnChange=o=>{const l=++r;return s[l]=o,()=>{delete s[r]}},t.registerOnSectionLayout=o=>{const l=++r;return a[l]=o,()=>{delete a[r]}}}ee().use(qe).use(te).use(He,{emphasis:"*",strong:"*",listItemIndent:"one",fence:"`",bullet:"-"}).freeze();ee().use(Ue).use(te).use(Te).freeze();const br=`### \u5F15\u7528 (blockquote)

\`\`\`markdown
> blockquote
> 
> yeah
\`\`\`

> blockquote
> 
> yeah

- \u6DFB\u52A0\u5F15\u7528
  - \u8F93\u5165 \`>\` \u5E76\u8F93\u5165\u7A7A\u683C
- \u5220\u9664\u5F15\u7528
  - \u5728\u5F15\u7528\u8D77\u59CB\u5904\u70B9\u51FB \`<Backspace>\`
`;var yr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:br});const _r=`### Codes

### Usage

- \u8F93\u5165 \\\`\\\`\\\` \u52A0\u7A7A\u683C

### Examples

\`\`\`javascript
console.log('hello world')
\`\`\`

\`\`\`sql
SELECT * FROM hello_world;
\`\`\`

`;var xr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:_r});const wr=`### \u6807\u9898

\`\`\`markdown
# h1
## h2
### h3
#### h4
##### h5
###### h6
\`\`\`

> # h1
> ## h2
> ### h3
> #### h4
> ##### h5
> ###### h6

- \u521B\u5EFA\u6807\u9898
  1. \u8F93\u5165 1-6 \u4E2A \`#\` \u5E76\u8F93\u5165\u7A7A\u683C
  2. \u5728\u6807\u9898\u4E2D\u95F4\u6216\u7ED3\u5C3E\u70B9\u51FB \`<Enter>\`
- \u5220\u9664\u6807\u9898
  - \u5728\u6807\u9898\u8D77\u59CB\u5904\u70B9\u51FB \`<Enter>\` \u4EE5\u5C06\u6807\u9898\u8F6C\u6362\u6210\u6BB5\u843D
`;var vr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:wr});const Tr=`### Image

![google logo](https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_92x30dp.png "google")
`;var Sr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:Tr});const Er=`### \u94FE\u63A5

\`\`\`
[title](url)
\`\`\`

> [title](#)

- \u521B\u5EFA\u94FE\u63A5
  - \u8F93\u5165\u94FE\u63A5 url \u5E76\u8F93\u5165\u7A7A\u683C\u4F1A\u81EA\u52A8\u8F6C\u6362
`;var kr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:Er});const Mr=`### \u5217\u8868

\`\`\`markdown
- \u65E0\u5E8F\u5217\u8868
- ...
  - \u7F29\u8FDB\u5217\u8868

1. \u6709\u5E8F\u5217\u8868
\`\`\`

> - \u65E0\u5E8F\u5217\u8868
> - ...
>   - \u7F29\u8FDB\u5217\u8868
> 
> 1. \u6709\u5E8F\u5217\u8868 1
> 2. \u6709\u5E8F\u5217\u8868 2

\u4F7F\u7528\u4EE5\u4E0B\u65B9\u5F0F\u63A7\u5236 Markdown \u5217\u8868\uFF1A
- \u65B0\u5EFA\u5217\u8868\uFF1A
  1. \u8F93\u5165 \`-\` \u52A0\u7A7A\u683C\u63D2\u5165\u65E0\u5E8F\u5217\u8868
  2. \u8F93\u5165 \`number.\` \u52A0\u7A7A\u683C\u63D2\u5165\u6709\u5E8F\u5217\u8868
- \u5217\u8868\u7F29\u8FDB\uFF1A
  1. \u5728\u5217\u8868\u9879\u4E2D\u8F93\u5165 \`<Tab>\` \u751F\u6210\u4E0B\u7EA7\u5217\u8868 
  2. \u5728\u5217\u8868\u9879\u4E2D\u8F93\u5165 \`-\` \u6216 \`<number>\`\u3002
- \u53D6\u6D88\u5217\u8868
  1. \u5728\u7A7A\u5217\u8868\u9879\u4E2D\u76F4\u63A5\u8F93\u5165 \`<Enter>\`
`;var Pr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:Mr});const Cr=`### Table

| foo | bar |
| :-- | :-: |
| baz | qux |

`;var Nr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:Cr});const Ar=`# a-editor

## \u6280\u672F\u6808

- core
  - [slate](https://www.slatejs.org/)
  - [remark](https://remark.js.org/)
  - [remark-slate-transformer](https://github.com/inokawa/remark-slate-transformer)
- code highlight
  - [prism](https://prismjs.com/)

## \u6837\u5F0F\u914D\u7F6E

### \u4EE3\u7801\u9AD8\u4EAE

\u5728 \`src/slate-markdown/elements/code/style.less\` \u6DFB\u52A0\u5BF9\u5E94 token \u6837\u5F0F\u3002

abc
deb

## \u7528\u6CD5
`,Rr={"./slate-markdown/elements/blockquote/instructions.md":yr,"./slate-markdown/elements/code/instructions.md":xr,"./slate-markdown/elements/heading/instructions.md":vr,"./slate-markdown/elements/image/instructions.md":Sr,"./slate-markdown/elements/link/instructions.md":kr,"./slate-markdown/elements/list/instructions.md":Pr,"./slate-markdown/elements/table/instructions.md":Nr},Or=Ar+`

`+Object.values(Rr).map(t=>t.plainText).join(`

`);function zr(t){t.use(_t),t.configSections([{type:"section",children:[{type:"heading",depth:1,children:[{text:"section 1",inlineCode:!0},{text:" \u65E0\u6CD5\u4FEE\u6539\u6216\u5220\u9664\uFF0C\u4F7F\u7528\u65B9\u6CD5\u67E5\u770B "},{text:"plugins/layout",inlineCode:!0}]},{type:"blockquote",children:[{type:"paragraph",children:[{text:"\u7528\u4E8E\u56FA\u5B9A\u7684\u5185\u5BB9\u7ED3\u6784"}]}]}]},{type:"section",children:[{type:"heading",depth:1,children:[{text:"section 2",inlineCode:!0}]}]}]),t.onEditorMounted(e=>{setTimeout(()=>{Ee.withoutSaving(e,()=>{e.setSectionMarkdown(0,"write something here"),e.setSectionMarkdown(1,Or)})})})}async function Dr(t){return new Promise((e,n)=>{const r=new FileReader;r.onloadend=function(){setTimeout(()=>{e(r.result)},500)},r.onerror=function(){n(r.error)},r.readAsDataURL(t)})}function Ir(){const[t,e]=y.exports.useState([]),n=y.exports.useCallback(l=>{e(l)},[t]),[r,s]=y.exports.useState([]),[a,o]=y.exports.useState([]);return c("div",{children:j(J,{config:zr,onChange:n,uploadFile:Dr,value:t,children:[c(oe,{onChange:s,section:0,value:r}),c(oe,{onChange:o,section:1,value:a})]})})}async function Br(t){return new Promise((e,n)=>{const r=new FileReader;r.onloadend=function(){setTimeout(()=>{e(r.result)},500)},r.onerror=function(){n(r.error)},r.readAsDataURL(t)})}function Fr(){const[t,e]=y.exports.useState([{type:"paragraph",children:[{text:"here to input"}]}]),n=y.exports.useCallback(r=>{e(r)},[t]);return c("div",{children:c(J,{onChange:n,uploadFile:Br,value:t})})}function Lr(t){t.use(_t),t.configSections([{type:"section",children:[{type:"heading",depth:1,children:[{text:"section 1",inlineCode:!0}]},{type:"blockquote",children:[{type:"paragraph",children:[{text:"\u7528\u4E8E\u56FA\u5B9A\u7684\u5185\u5BB9\u7ED3\u6784"}]}]}]},{type:"section",children:[{type:"heading",depth:1,children:[{text:"section 2",inlineCode:!0}]}]},{type:"section",children:[{type:"heading",depth:1,children:[{text:"section 3",inlineCode:!0}]}]}]),t.onEditorMounted(e=>{setTimeout(()=>{Ee.withoutSaving(e,()=>{e.setSectionMarkdown(0,"write something here"),e.setSectionMarkdown(1,"write something here"),e.setSectionMarkdown(2,"write something here")})})})}async function jr(t){return new Promise((e,n)=>{const r=new FileReader;r.onloadend=function(){setTimeout(()=>{e(r.result)},500)},r.onerror=function(){n(r.error)},r.readAsDataURL(t)})}function $r(){const[t,e]=y.exports.useState([]),n=y.exports.useCallback(i=>{e(i)},[t]),[r,s]=y.exports.useState([]),[a,o]=y.exports.useState([]),[l,g]=y.exports.useState([]);return c("div",{children:j(J,{config:Lr,onChange:n,uploadFile:jr,value:t,children:[c(oe,{onChange:s,section:0,value:r}),c(oe,{onChange:o,section:1,value:a}),c(oe,{onChange:g,section:2,value:l})]})})}qt.render(c(Ht.StrictMode,{children:c(Ut,{basename:"https://634750802.github.io/a-editor/",children:j("div",{children:[j("nav",{children:[c(ke,{to:"/",children:"Full example"}),c(ke,{to:"/empty",children:"Empty example"}),c(ke,{to:"/sections",children:"Sections example"})]}),c("main",{children:j(Wt,{children:[c(Me,{component:Fr,exact:!0,path:"/empty"}),c(Me,{component:$r,exact:!0,path:"/sections"}),c(Me,{component:Ir,path:"/"})]})})]})})}),document.getElementById("root"));
