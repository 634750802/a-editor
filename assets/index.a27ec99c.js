var Ze=Object.defineProperty,et=Object.defineProperties;var tt=Object.getOwnPropertyDescriptors;var se=Object.getOwnPropertySymbols;var Pe=Object.prototype.hasOwnProperty,Me=Object.prototype.propertyIsEnumerable;var pe=(t,e,n)=>e in t?Ze(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,N=(t,e)=>{for(var n in e||(e={}))Pe.call(e,n)&&pe(t,n,e[n]);if(se)for(var n of se(e))Me.call(e,n)&&pe(t,n,e[n]);return t},C=(t,e)=>et(t,tt(e));var Ne=(t,e)=>{var n={};for(var s in t)Pe.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&se)for(var s of se(t))e.indexOf(s)<0&&Me.call(t,s)&&(n[s]=t[s]);return n};var z=(t,e,n)=>(pe(t,typeof e!="symbol"?e+"":e,n),n);import{E as S,u as fe,r as T,a as x,j as c,c as X,T as re,l as j,f as Ee,b as Ce,d as K,F as A,e as ge,g as de,h as he,i as oe,R as F,P as w,N as p,k as O,m as nt,n as g,o as Se,p as B,q as H,s as st,t as Ie,v as rt,w as ot,x as me,y as at,z as lt,A as it,B as Re,C as ct,D as ut,_ as ae,G as ze,H as De,I as Oe,J as Le,K as Ae,L as je,M as $e,O as Be,Q as pt,S as ft,U as gt,V as dt,W as ht,X as mt,Y as yt,Z as bt,$ as vt,a0 as xt,a1 as Tt,a2 as wt,a3 as qe,a4 as _t,a5 as kt}from"./vendor.ab7e8949.js";const Pt=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}};Pt();var _;(function(t){t[t.flow=16]="flow",t[t.list=32]="list",t[t.phrasing=48]="phrasing",t[t.staticPhrasing=49]="staticPhrasing",t[t.value=64]="value",t[t.table=80]="table",t[t.tableRow=96]="tableRow"})(_||(_={}));function U(t,e){return t===e||t<e&&(t^e)<16}function D(t){return C(N({},t),{register(e){e.define(t)}})}function I(t,e){return S.isElement(t)?e instanceof Array?e.indexOf(t.type)>=0:t.type===e:!1}function Fe({icon:t,active:e,disabled:n,action:s,tips:r}){const o=fe(),i=T.exports.useCallback(k=>{s&&k.button===0&&(k.preventDefault(),k.stopPropagation(),n||x.withoutNormalizing(o,()=>{s(k)}))},[s]),d=c("span",{className:X("toolbar-item",{active:e,disabled:n}),onMouseDown:i,children:t});return r?c(re,{content:c("span",{className:"toolbar-item-tips",children:r}),children:d}):d}j.add(Ee,Ce);function Mt({extraWidth:t,isEmpty:e,element:n,items:s,setActive:r}){return c(re,{appendTo:"parent",arrow:!1,content:Nt(s),hideOnClick:!1,interactive:!0,onHide:()=>r(!1),onShow:()=>r(!0),children:K("div",{className:"line-operations",contentEditable:!1,children:[c("span",{className:"icon",children:c(A,{icon:e?Ce:Ee})}),c("div",{className:"spacer",style:{width:t,height:"100%"}})]})})}const Nt=t=>c("div",{className:"block-toolbar",children:t.map((e,n)=>c("div",{className:"toolbar-group",children:e.map(s=>c(Fe,{action:s.action,active:s.active,disabled:s.disabled,icon:s.icon,tips:s.tips},s.key))},n))});j.add(ge,de,he,oe);function Et(t,e){const n=e==null?void 0:e.current;return t.factory.blockConfigs.map(s=>s.toolbarItems.map(({key:r,isDisabled:o,isActive:i,action:d,icon:k,tips:M})=>({key:r,disabled:n?o(t,n):!1,active:n?i(t,n):!1,icon:k,action:n?l=>{d(t,n,l),l.preventDefault(),l.stopPropagation()}:()=>{},tips:M}))).filter(s=>s.length>0)}function He(){const[t,e]=T.exports.useState(0);return()=>{e(n=>n+1)}}const Ue=T.exports.createContext({getEditorDOMRect:()=>new DOMRect});function J({element:t,children:e}){const[n,s]=T.exports.useState(null),r=T.exports.useRef(),o=fe(),i=Et(o,r.current),d=He(),[k,M]=T.exports.useState(0),{getEditorDOMRect:l}=T.exports.useContext(Ue),a=T.exports.useCallback(()=>{var m;const y=(m=n==null?void 0:n.getBoundingClientRect())!=null?m:new DOMRect,{x:b=0}=y,{x:v}=l();return M(b-v),y},[l,n]);T.exports.useLayoutEffect(()=>{var y,b;if(n){const v=document.createRange();v.selectNode(n.childNodes.item(0));const m=F.toSlateRange(o,v,{exactMatch:!1});let P=w.common(m.anchor.path,m.focus.path);for(;P.length!==0;){if(x.isBlock(o,p.get(o,P))){r.current=x.pathRef(o,P);break}P=w.parent(P)}}else r.current&&((b=(y=r.current).unref)==null||b.call(y)),r.current=void 0},[n]);const[u,h]=T.exports.useState(!1),f=(()=>{const y=t.children[0];return t.children.length===1&&O.isText(y)&&y.text===""})();return c(nt,{appendTo:document.body,arrow:!1,getReferenceClientRect:a,hideOnClick:!1,interactive:!0,interactiveBorder:12,offset:[0,8],onTrigger:d,placement:"left",popperOptions:{modifiers:[{name:"flip",options:{allowedAutoPlacements:["left"]}}]},ref:s,render:()=>c(Mt,{element:t,extraWidth:k,isEmpty:f,items:i,setActive:h}),children:typeof e=="function"?e({active:u,pathRef:r.current}):e})}const Ct=["markdown","javascript","typescript","jsx","tsx","sql","bash","go","rust","json","log"],Z=Symbol("prism_token"),St=[{key:"code-block",icon:c(A,{icon:oe}),isActive:(t,e)=>I(p.get(t,e),"code"),isDisabled:(t,e)=>{const n=p.get(t,e);if(I(n,"code"))return!1;const s=p.parent(t,e),r=t.getContentModelType(s);return r?!U(We.contentType,r):!0},tips:c(B,{children:"\u4EE3\u7801\u5757"}),action:(t,e,n)=>{const s=p.get(t,e);if(I(s,"code"))g.unsetNodes(t,Object.keys(p.extractProps(s)),{at:e}),g.setNodes(t,{type:"paragraph"},{at:e});else{const r=p.string(s);g.removeNodes(t,{at:e}),g.insertNodes(t,{type:"code",lang:"markdown",meta:void 0,children:[{text:r}]},{at:e,select:!0})}}}],We=D({type:"code",isInline:!1,isLeaf:!1,wrappingParagraph:!1,contentType:_.flow,contentModelType:_.value,render:(t,{element:e,children:n,attributes:s})=>c(J,{element:e,children:({active:r,pathRef:o})=>c(re,{appendTo:document.body,content:c("select",{className:"lang-selector",contentEditable:!1,onChange:i=>{(o==null?void 0:o.current)&&g.setNodes(t,{lang:i.currentTarget.value},{at:o.current})},tabIndex:void 0,value:e.lang||void 0,children:Ct.map(i=>c("option",{children:i},i))}),interactive:!0,placement:"top-start",children:c("pre",C(N({},s),{className:X({active:r},e.lang?`language-${e.lang}`:void 0),children:c("code",{className:"prism-code",children:n})}))})}),toggle:{prefix:/^`{3}(?: (\w+))?$/,toggle:(t,e,n)=>{if(n){const s=p.string(p.get(t,e));g.removeNodes(t,{at:e}),g.insertNodes(t,C(N({type:"code"},n),{children:[{text:s}]}),{at:e}),g.select(t,e.concat(0))}else g.unsetNodes(t,["meta","lang"],{at:e}),g.setNodes(t,{type:"paragraph"},{at:e})},onTrigger:(t,e,n)=>{if(n.length>1)return;const s=/^`{3}(?: (\w+))?$/.exec(t);return s?{lang:s[1]||"markdown",meta:void 0}:{lang:"markdown",meta:void 0}}},events:{},toolbarItems:St,decorate:(t,[e,n],s)=>{if(O.isText(e)&&s.lang){const r=Se.languages[s.lang];if(!r)return[];const o=[],i=Se.tokenize(e.text,r);let d=0;for(const k of i){const M=Ve(k),l=d+M;typeof k!="string"&&o.push({[Z]:k.type,anchor:{path:n,offset:d},focus:{path:n,offset:l}}),d=l}return o}return[]}}),Ve=t=>typeof t=="string"?t.length:typeof t.content=="string"?t.content.length:t.content.reduce((e,n)=>e+Ve(n),0);var It=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",SYMBOL_PRISM_TOKEN:Z,default:We}),E;(function(t){t.strong="strong",t.emphasis="emphasis",t.delete="delete",t.inlineCode="inlineCode"})(E||(E={}));const Q=D({isLeaf:!0,contentType:_.staticPhrasing,contentModelType:_.value,canContainsContentModelTypeOf:t=>t.inlineCode?_.value:(t.strong||t.emphasis||t.delete,_.phrasing),normalize:(t,e,n,s)=>{if(e.text===""){const r=[E.strong,E.emphasis,E.delete,E.inlineCode].filter(o=>!!e[o]);r.length>0&&g.unsetNodes(t,r,{at:n})}},render(t,{leaf:e,children:n,attributes:s}){let r=n;return e[Z]&&(r=c("span",{className:X(e[Z]?`token ${e[Z]}`:void 0,s.className),children:r})),e.delete&&(r=c("del",{children:r})),e.emphasis&&(r=c("em",{children:r})),e.strong&&(r=c("strong",{children:r})),e.inlineCode&&(r=c("code",{children:r})),c("span",C(N({},s),{children:r}))},toggleDecorator:(t,e,n)=>{const s=Ke(t),r=o=>s(p.get(t,o.anchor.path),o.anchor.path);ye(t,e,n)?H.isCollapsed(e)?r(e)&&x.addMark(t,n,!1):g.setNodes(t,{[n]:!1},{match:s,split:!0}):H.isCollapsed(e)?r(e)&&(x.addMark(t,n,!0),n===E.inlineCode?(x.addMark(t,E.inlineCode,!1),x.addMark(t,E.emphasis,!1),x.addMark(t,E.delete,!1)):x.addMark(t,E.inlineCode,!1)):(g.setNodes(t,{[n]:!0},{match:s,split:!0}),n===E.inlineCode?g.unsetNodes(t,[E.delete,E.emphasis,E.strong],{match:s,split:!0}):g.unsetNodes(t,E.inlineCode,{match:s,split:!0}))},toolbarItems:[{key:E.strong,icon:ge,tips:c(B,{children:"\u52A0\u7C97"})},{key:E.emphasis,icon:de,tips:c(B,{children:"\u659C\u4F53"})},{key:E.inlineCode,icon:oe,tips:c(B,{children:"\u884C\u5185\u4EE3\u7801"})},{key:E.delete,icon:he,tips:c(B,{children:"\u5220\u9664"})}].map(({key:t,icon:e,tips:n})=>({key:t,icon:c(A,{icon:e}),isActive:(s,r)=>ye(s,r,t),isDisabled:(s,r)=>!le(s,r),action:(s,r,o)=>{Q.toggleDecorator(s,r,t)},tips:n}))});function ye(t,e,n){if(!F.hasRange(t,e))return!1;const s=x.marks(t);return s?!!s[n]:!1}const le=(t,e)=>{const n=be(t),[s]=x.nodes(t,{at:e,match:n});return!!s},Ke=t=>(e,n)=>{const s=be(t);if(!O.isText(e))return!1;const r=p.parent(t,n);return S.isElement(r)?s(r,w.parent(n)):!1},be=t=>(e,n)=>{if(S.isElement(e)){const s=t.factory.customElementMap.get(e.type);return s&&s.contentModelType?U(s.contentModelType,_.phrasing):!1}else return!1};function ee(t,e,n,s){if(H.isRange(e)){if(!F.hasRange(t,e))return!1}else if(w.isPath(e)){if(!x.hasPath(t,e))return!1}else if(!F.hasRange(t,{anchor:e,focus:e}))return!1;if(w.isPath(e)){const o=p.get(t,e);return I(o,n)&&(s?s(o):!0)}const[r]=x.nodes(t,{at:H.isRange(e)?x.unhangRange(t,e):e,match:o=>!x.isEditor(o)&&I(o,n)&&(s?s(o):!0)});return!!r}var Rt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",get TextNodeDecorator(){return E},isDecoratorActive:ye,isRangeCustomTextPropsEnabled:le,isCustomTextPropsEnabled:Ke,isPhrasing:be,isElementActive:ee,default:Q});function zt({schema:t,onSubmit:e,defaultValues:n}){return c("div",{contentEditable:!1,children:c(st,{className:"action-form",formData:n,onSubmit:s=>e(s.formData),schema:t})})}function Dt(t,e){return T.exports.useCallback(()=>t.selection?F.toDOMRange(t,t.selection).getBoundingClientRect():e.getBoundingClientRect(),[t,e])}function Ot(t,e){return T.exports.useCallback(()=>{t("user canceled"),e.current&&e.current.hide()},[t])}function Lt(){const t=T.exports.useRef(),e=T.exports.useCallback(n=>{t.current=n},[t]);return[t,e]}function At(t,e,n,s){const r=T.exports.useCallback(o=>{var i;e(o),(i=s.current)==null||i.hide()},[e,s]);return T.exports.useMemo(()=>c(zt,{defaultValues:n,onSubmit:r,schema:t}),[t,r])}function jt({editor:t,el:e,reject:n,resolve:s,schema:r,defaultValues:o}){const[i,d]=Lt(),k=Dt(t,e),M=Ot(n,i),l=At(r,s,o,i);return c(re,{content:l,getReferenceClientRect:k,interactive:!0,onClickOutside:M,onMount:d,placement:"right-start",visible:!0,children:c("span",{})})}function ve(t,e,n,s){return new Promise((r,o)=>{t.setActionForm(c(jt,{defaultValues:s,editor:t,el:e,reject:o,resolve:r,schema:n}))}).catch(r=>{if(r==="user canceled")return Promise.resolve(void 0);throw r})}const $t="\u6DFB\u52A0\u8D85\u94FE\u63A5",Bt="object",qt={src:{title:"\u94FE\u63A5",type:"string",format:"url"},text:{title:"\u663E\u793A\u6587\u672C",type:"string"}},Ft=["src","text"];var Ht={title:$t,type:Bt,properties:qt,required:Ft};j.add(Ie);const xe=D({type:"link",isInline:!0,isLeaf:!1,contentType:_.phrasing,contentModelType:_.staticPhrasing,normalize:(t,e,n,s)=>{p.string(e).trim().length===0&&(g.removeNodes(t,{at:n}),s())},render:(t,{element:e,attributes:n,children:s})=>c("a",C(N({href:e.url,onClick:()=>window.open(e.url,"_blank"),style:{display:"inline-flex",cursor:"pointer"}},n),{children:s})),insert:(t,e,r)=>{var o=r,{text:n}=o,s=Ne(o,["text"]);g.insertNodes(t,[N({type:"link",children:[{text:n}]},s),{text:" "}],{at:e,select:!0}),rt.isPoint(e)&&g.move(t,{distance:1})},match:{regexp:ot()},toolbarItems:[{key:"link",icon:c(A,{icon:Ie}),tips:c(B,{children:"\u8D85\u94FE\u63A5"}),isActive:(t,e)=>ee(t,e,"link"),isDisabled:(t,e)=>!w.equals(w.parent(e.focus.path),w.parent(e.anchor.path))||!le(t,e),action:(t,e,n)=>{ee(t,e,"link")?g.unwrapNodes(t,{at:x.unhangRange(t,e),match:s=>!x.isEditor(s)&&S.isElement(s)&&s.type==="link"}):ve(t,n.target,Ht,{text:x.string(t,e),src:""}).then(s=>{if(s){const{src:r,text:o}=s;x.withoutNormalizing(t,()=>{xe.insert(t,e,{url:r,title:"",text:o})})}})}}]});var Ut=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:xe});class Wt{constructor(e,n){z(this,"state",[]);this.factory=e,this.editor=n}process(e){const[n,s]=e;if(x.isEditor(n))return this.state=[],[];if(S.isElement(n)){const r=this.factory.customElementMap.get(n.type);if(r&&!r.isInline){const o=r;if(o.decorate)return this.state.push({element:n,path:s,config:o}),[]}}if(this.state.length>0){for(const r of this.state.reverse())if(w.isAncestor(r.path,s))return r.config.decorate(this.editor,e,r.element)}return[]}}class Vt{constructor(){z(this,"blockConfigs",[]);z(this,"inlineConfigs",[]);z(this,"textConfig");z(this,"inlineSet",new Set);z(this,"voidSet",new Set);z(this,"customElementMap",new Map);z(this,"contentTypeMap",new Map);z(this,"contentModelTypeMap",new Map);z(this,"serializeProcessor",me());z(this,"deserializeProcessor",me());z(this,"deserializeHTMLProcessor",me())}freezeProcessors(){this.serializeProcessor.use(at).use(lt,{emphasis:"*",strong:"*",listItemIndent:"one",fence:"`",bullet:"-"}).freeze(),this.deserializeProcessor.use(it).use(Re).freeze(),this.deserializeHTMLProcessor.use(ct).use(ut).use(Re).freeze()}configProcessor(e){this.configSerializeProcessor(e),this.configDeserializeProcessor(e),e(this.deserializeHTMLProcessor)}configSerializeProcessor(e){e(this.serializeProcessor)}configDeserializeProcessor(e){e(this.deserializeProcessor)}define(e){return e.isLeaf?this.textConfig=e:(e.isInline?(this.inlineSet.add(e.type),this.inlineConfigs.push(e)):this.blockConfigs.push(e),this.customElementMap.set(e.type,e),this.contentModelTypeMap.set(e.type,e.contentModelType),this.contentTypeMap.set(e.type,e.contentType),e.contentModelType===null&&this.voidSet.add(e.type)),this}wrapEditor(e,n){const{isVoid:s,isInline:r,normalizeNode:o,insertBreak:i,insertFragment:d,setFragmentData:k}=e;e.factory=this;function M(l){x.isEditor(l)?(console.group("#root"),l.children.forEach(M),console.groupEnd()):S.isElement(l)?(console.group(l.type),l.children.forEach(M),console.groupEnd()):console.debug("text")}return window.debugPrintTree=()=>M(e),window.debugEditor=e,Object.defineProperty(e,"markdown",{enumerable:!1,configurable:!1,get:()=>this.serializeProcessor.stringify(this.serializeProcessor.runSync({type:"root",children:e.children})),set:l=>{n(this.deserializeProcessor.processSync(l).result),x.setNormalizing(e,!0)}}),e.updatePopper=e.hidePopper=e.togglePopper=()=>{},e.isContent=(l,a)=>S.isElement(l)?this.contentTypeMap.get(l.type)===a:O.isText(l)?this.textConfig.contentType===a:!1,e.canContainsContent=(l,a)=>{if(x.isEditor(l))return a===_.flow;if(S.isElement(l)){const u=this.contentModelTypeMap.get(l.type);return u?U(a,u):!1}else return O.isText(l)?U(a,Q.canContainsContentModelTypeOf(l)):!1},e.getContentType=l=>S.isElement(l)?this.contentTypeMap.get(l.type)||null:O.isText(l)&&this.textConfig.contentType||null,e.getContentModelType=l=>x.isEditor(l)?_.flow:S.isElement(l)?this.contentModelTypeMap.get(l.type)||null:O.isText(l)?this.textConfig.contentModelType:null,e.getContentTypePair=l=>S.isElement(l)?[this.contentTypeMap.get(l.type)||null,this.contentModelTypeMap.get(l.type)||null]:O.isText(l)?[this.textConfig.contentType||null,this.textConfig.contentModelType||null]:[null,null],e.toggle=(l,a,u)=>{const h=e.canToggle(l,a,!0);if(!h)return!1;const[[f,y],b]=h,v=typeof u=="object"?u:{};switch(b){case V.replace:return g.unsetNodes(e,Object.keys(p.extractProps(f))),g.setNodes(e,C(N({type:a.type},v),{children:[]}),{at:y}),!0;case V.wrap:return g.wrapNodes(e,N({type:a.type},v),{at:y}),!0;case V.custom:throw new Error("TODO: ToggleStrategy.custom");default:throw new Error("unknown ToggleStrategy: "+b)}},e.canToggle=(l,a,u)=>{const[h]=l,[f,y]=e.getContentTypePair(h);if(a.contentType!==f)return!1;if(a.contentModelType===y)return[l,V.replace];if(a.contentModelType===f)return[l,V.wrap];if(!u)return!1;const b=p.ancestors(e,l[1],{reverse:!0});for(const v of b){const m=e.canToggle(v,a,!1);if(m)return m}return!1},e.unwrap=(l,a)=>{if(!e.canUnwrap(l,a))return!1;const[u,h]=l,f=[[[]]];let y=[[u,[]]],b=0;for(;b<a.length-1;){const v=[];for(const[m,P]of y)for(const[L,Y]of m.children.entries())v.push([Y,P.concat(L)]);b+=1,y=v,f.push(v.map(([,m])=>m))}for(const v of f.reverse())for(const m of v.reverse())g.unwrapNodes(e,{at:h.concat(m),split:!0});return!0},e.canUnwrap=([l,a],u)=>{if(u.length===0)return!0;const h=e.getContentModelType(p.parent(e,a)),f=u[u.length-1].contentModelType;if(!h||!f||!U(f,h))return!1;let y=[[l,[]]],b=0;for(;b<u.length;){const v=[];for(const[m,P]of y){if(!I(m,u[b].type))return!1;for(const[L,Y]of m.children.entries())v.push([Y,P.concat(L)])}b+=1,y=v}return!0},e.wrap=(l,a,u)=>{if(!e.canWrap(l,a,u))return!1;const[,h]=l;let f=a.length-1;for(;f>=0;){const y=a[f],b=u[f];g.wrapNodes(e,Object.assign({type:y.type,children:[]},b),{at:h}),f--}return!0},e.canWrap=(l,a,u)=>{console.assert(a.length===u.length,"editor.canWrap: configs.length should be equals to params.length");const[h,f]=l,y=p.parent(e,f);let b=0,v=e.getContentModelType(y);for(;b<a.length;){const P=a[b];if(v===null||!U(P.contentType,v))return!1;v=P.contentModelType,b+=1}if(v===null)return!1;const m=e.getContentType(h);return m?U(m,v):!1},e.nearest=(l,a)=>{const[u,h]=l;if(I(u,a.type))return l;for(const f of p.ancestors(e,h,{reverse:!0}))if(I(f[0],a.type))return f},e.getAndRemoveMark=l=>{if(e.marks){const a=e.marks[l];return e.removeMark(l),a}},e.isVoid=l=>this.voidSet.has(l.type)||s(l),e.isInline=l=>this.inlineSet.has(l.type)||r(l),e.normalizeNode=l=>{let a=!0;const u=()=>{a=!1};x.withoutNormalizing(e,()=>{var y;const[h,f]=l;if(S.isElement(h)){const b=(y=this.customElementMap.get(h.type))==null?void 0:y.normalize;b&&b(e,h,f,u)}O.isText(h)&&this.textConfig.normalize&&this.textConfig.normalize(e,h,f,u),x.isEditor(h)&&(h.children.length===0?g.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:[0]}):I(h.children[h.children.length-1],"paragraph")||g.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:[h.children.length]}))}),a&&o(l)},e.insertBreak=()=>{if(e.selection){const l=p.parent(e,e.selection.anchor.path);if(e.getContentModelType(l)!==_.phrasing){g.insertText(e,`
`);return}}i()},e.insertFragment=l=>{if(e.selection){const a=p.parent(e,e.selection.anchor.path);if(e.getContentModelType(a)===_.value){const h=this.serializeProcessor.stringify(this.serializeProcessor.runSync({type:"root",children:l}));g.insertText(e,h);return}}d(l)},e.setFragmentData=l=>{k(l),l.setData("text/plain",this.serializeProcessor.stringify(this.serializeProcessor.runSync({type:"root",children:e.getFragment()})))},e}createDefaultEditableProps(e){const n=a=>{var h;const{selection:u}=e;if(u&&H.isCollapsed(u)){const f=u.anchor,y=p.get(e,f.path),b=p.parent(e,f.path);if(O.isText(y)&&S.isElement(b)&&b.type==="paragraph"&&a.data===" "&&!w.hasPrevious(f.path)){const v=y.text.slice(0,f.offset);for(const{toggle:m}of this.blockConfigs)if(!(typeof m.estimatePrefixLength=="number"&&v.length>m.estimatePrefixLength)&&((h=m.prefix)==null?void 0:h.test(v))){const P=m.onTrigger(v,e,w.parent(f.path));if(typeof P!="undefined"){g.delete(e,{at:{path:f.path,offset:0},distance:f.offset}),m.toggle(e,w.parent(f.path),P),a.preventDefault();return}}}if(O.isText(y)&&!I(b,"link")&&a.data===" "){for(const v of this.inlineConfigs)if(v.match){const m=v.match.regexp.exec(y.text.slice(0,f.offset));if(m){const P=m[0],L=m.index,Y=m.index+P.length,Je={anchor:{path:f.path,offset:L},focus:{path:f.path,offset:Y}};xe.insert(e,Je,{url:P,title:"",text:P}),a.preventDefault();return}}}if(x.isInline(e,b)){const v=w.parent(f.path).concat(b.children.length);g.insertNodes(e,{text:a.data||""},{at:v}),g.move(e,{distance:1}),a.preventDefault();return}}},s=a=>u=>{const{selection:h}=e;if(h&&H.isCollapsed(h)){const f=h.anchor;if(Kt(e,f)){const y=w.parent(f.path),b=p.get(e,y);if(S.isElement(b)){const v=this.customElementMap.get(b.type);if(v){const m=a(v.events);if(m&&m(e,f.path)){u.preventDefault();return}}if(b.type==="paragraph"){const m=p.parent(e,y);if(!w.hasPrevious(y)&&S.isElement(m)){const P=this.customElementMap.get(m.type);if(P==null?void 0:P.wrappingParagraph){const L=a(P.events);if(L&&L(e,f.path)){u.preventDefault();return}}}}}}}},r=s(a=>a.onStartDelete),o=s(a=>a.onStartEnter),d=(a=>u=>{const{selection:h}=e;if(h&&H.isCollapsed(h)){const f=h.anchor,y=w.parent(f.path),b=p.parent(e,f.path);if(S.isElement(b)){const v=this.customElementMap.get(b.type);if(v){const m=a(v.events);if(m&&m(e,f.path)){u.preventDefault();return}}if(b.type==="paragraph"){const m=p.parent(e,y);if(S.isElement(m)){const P=this.customElementMap.get(m.type);if(P==null?void 0:P.wrappingParagraph){const L=a(P.events);if(L&&L(e,f.path)){u.preventDefault();return}}}}}}})(a=>a.onTab),k=new Wt(this,e);return{renderElement:a=>{const u=this.customElementMap.get(a.element.type);return u?u.render(e,a):(console.warn(`${a.element.type} not impl`),T.exports.createElement("div",a.attributes,a.children))},renderLeaf:a=>this.textConfig?this.textConfig.render(e,a):T.exports.createElement("span",a.attributes,a.children),decorate:a=>k.process(a),onDOMBeforeInput:a=>{Qe(e,()=>{switch(console.log(a.inputType),a.inputType){case"insertText":n(a);break;case"deleteContentBackward":r(a);break;case"insertParagraph":o(a);break}})},onKeyDown:a=>{Qe(e,()=>{if(ae("tab",a)){d(a);return}if(ae(["ctrl+enter"],a)){g.insertText(e,`
`);return}if(e.selection){if(ae("meta+b",a)){Q.toggleDecorator(e,e.selection,E.strong),a.preventDefault();return}if(ae("meta+i",a)){Q.toggleDecorator(e,e.selection,E.emphasis),a.preventDefault();return}}})},onSelect:a=>{const u=window.getSelection();u&&(u.isCollapsed?e.hidePopper():u.rangeCount>0&&e.updatePopper(u.getRangeAt(0)))},onBlur:a=>{e.hidePopper()},onClick:()=>{const a=window.getSelection();if(a&&a.isCollapsed&&a.rangeCount>0){const u=a.getRangeAt(0),h=F.toSlateRange(e,u,{exactMatch:!0});h&&e.selection&&H.equals(h,e.selection)&&e.togglePopper(u)}},onPaste:a=>{const u=a.clipboardData;if(!!u&&u.types.indexOf("application/x-slate-fragment")<0){if(u.types.indexOf("text/html")>=0){const h=u.getData("text/html"),f=this.deserializeHTMLProcessor.processSync(h).result;e.insertFragment(f),a.preventDefault()}else if(u.types.indexOf("text/plain")>=0){const h=u.getData("text/plain"),f=this.deserializeProcessor.processSync(h).result;e.insertFragment(f),a.preventDefault()}}}}}}function Kt(t,e){return e.offset===0&&!w.hasPrevious(e.path)&&O.isText(p.get(t,e.path))}function Qe(t,e){let n=!0;x.withoutNormalizing(t,()=>{e(()=>{n=!1})}),n||x.normalize(t)}j.add(ze);const Qt=[{key:"blockquote",icon:c(A,{icon:ze}),isActive:(t,e)=>{const n=[p.get(t,e),e];return!!t.nearest(n,q)},isDisabled:(t,e)=>{const n=[p.get(t,e),e],s=t.nearest(n,q);return s?!t.canUnwrap(s,[q]):!t.canToggle(n,q,!1)},tips:c(B,{children:"\u5F15\u7528"}),action:(t,e,n)=>{const s=[p.get(t,e),e],r=t.nearest(s,q);return r?t.unwrap(r,[q]):t.toggle(s,q,void 0)}}],q=D({type:"blockquote",isInline:!1,isLeaf:!1,wrappingParagraph:!0,contentType:_.flow,contentModelType:_.flow,render:(t,{children:e,attributes:n})=>c("blockquote",C(N({},n),{children:e})),toggle:{prefix:/^>$/,toggle:(t,e,n)=>{n?g.wrapNodes(t,{type:"blockquote",children:[]},{at:e}):g.unwrapNodes(t,{at:w.parent(e)})},onTrigger(){return!0}},events:{onStartDelete:(t,e)=>{const n=p.parent(t,w.parent(e));return I(n,"blockquote")?(q.toggle.toggle(t,w.parent(e),!1),!0):!1}},toolbarItems:Qt});var Gt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:q});j.add(De);const te=D({type:"paragraph",isLeaf:!1,isInline:!1,wrappingParagraph:!1,contentType:_.flow,contentModelType:_.phrasing,toggle:{},events:{},render(t,{element:e,attributes:n,children:s}){return c(J,{element:e,children:({active:r})=>c("p",C(N({className:X({active:r})},n),{children:s}))})},toolbarItems:[{key:"insert-paragraph",isActive:()=>!1,isDisabled:(t,e)=>e.length>1,icon:c(A,{icon:De}),action:(t,e)=>{e.length>1||g.insertNodes(t,{type:"paragraph",children:[{text:""}]},{at:e})}}]});var Yt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:te});const Xt=[1,2,3,4,5,6].map(t=>{const e=(s,r)=>{const o=[p.get(s,r),r],i=s.nearest(o,W);return!!(i&&i[0].depth===t)},n=(s,r)=>{const o=[p.get(s,r),r],i=s.nearest(o,W);return i?!s.canToggle(i,te,!1):!s.canToggle(o,W,!0)};return{key:`heading-level-${t}`,icon:K(B,{children:["H",t]}),isActive:e,isDisabled:n,action:(s,r,o)=>{const i=[p.get(s,r),r],d=s.nearest(i,W);d&&d[0].depth===t?s.toggle(d,te,void 0):s.toggle(i,W,{depth:t})}}}),W=D({type:"heading",isInline:!1,isLeaf:!1,wrappingParagraph:!1,contentType:_.flow,contentModelType:_.phrasing,render:(t,{element:e,children:n,attributes:s})=>c(J,{element:e,children:({active:r})=>T.exports.createElement(`h${e.depth}`,Object.assign(s,{className:X({active:r})}),n)}),toggle:{prefix:/^#{1,6}$/,estimatePrefixLength:6,toggle:(t,e,n)=>{n?t.toggle([p.get(t,e),e],W,n):t.toggle([p.get(t,e),e],te,void 0)},onTrigger:t=>({depth:t.length})},events:{onStartEnter:(t,e)=>{const n=p.parent(t,e);return I(n,"heading")?(t.toggle([n,w.parent(e)],te,void 0),!0):!1}},toolbarItems:Xt});var Jt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:W});const Zt="\u6DFB\u52A0\u56FE\u7247",en="object",tn={src:{title:"\u94FE\u63A5",type:"string",format:"url"},alt:{title:"\u66FF\u4EE3\u6587\u672C\uFF08alt\uFF09",type:"string"}},nn=["src","alt"];var sn={title:Zt,type:en,properties:tn,required:nn};const Te=T.exports.forwardRef(function({children:t},e){return c("span",{className:"void-element",contentEditable:!1,ref:e,children:t})});Te.displayName="VoidElement";j.add(Oe);const Ge=D({type:"image",isInline:!0,isLeaf:!1,contentType:_.staticPhrasing,contentModelType:null,render:(t,{element:e,attributes:n,children:s})=>K(Te,{children:[c("img",N({alt:e.alt,src:e.url,title:e.title},n)),s]}),insert:(t,e,n)=>{g.insertNodes(t,[{text:" "},N({type:"image",children:[]},n),{text:" "}],{at:e})},toolbarItems:[{key:"image",icon:c(A,{icon:Oe}),tips:c(B,{children:"\u8D85\u94FE\u63A5"}),isActive:(t,e)=>ee(t,e,"image"),isDisabled:(t,e)=>!w.equals(w.parent(e.focus.path),w.parent(e.anchor.path))||!le(t,e),action:(t,e,n)=>{ee(t,e,"image")?g.removeNodes(t,{at:x.unhangRange(t,e),match:s=>!x.isEditor(s)&&S.isElement(s)&&s.type==="image"}):ve(t,n.target,sn,{alt:x.string(t,e),src:""}).then(s=>{if(s){const{src:r,alt:o}=s;x.withoutNormalizing(t,()=>{Ge.insert(t,e,{url:r,title:"",alt:o})})}})}}]});var rn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ge});j.add(Le,Ae);const Ye=[!0,!1].map(t=>{const e={ordered:t,spread:void 0,start:void 0},n={spread:void 0,checked:void 0};return{key:`list-${t?"ordered":"unordered"}`,icon:c(A,{icon:t?Le:Ae}),isActive:(s,r)=>{const o=[p.get(s,r),r],i=s.nearest(o,R);return i?Boolean(i[0].ordered)===Boolean(t):!1},isDisabled:(s,r)=>{const o=[p.get(s,r),r],i=s.nearest(o,R);return i?!s.canUnwrap(i,[R,G]):!s.canWrap(o,[R,G],[e,n])},action:(s,r,o)=>{const i=s.getAndRemoveMark("start"),d=[p.get(s,r),r],k=s.nearest(d,R);if(k){const[M,l]=k;M.ordered===t?s.unwrap(k,[R,G]):g.setNodes(s,{ordered:t,start:i},{at:l})}else s.wrap(d,[R,G],[Object.assign({},e,{start:i}),n])}}}),R=D({type:"list",isLeaf:!1,isInline:!1,wrappingParagraph:!0,contentType:_.flow,contentModelType:_.list,normalize:(t,e,n,s)=>{if(e.children.length===0){g.removeNodes(t,{at:n}),s();return}if(w.hasPrevious(n)){const r=p.get(t,w.previous(n));if(I(r,"list")&&Boolean(r.ordered)===Boolean(e.ordered)&&r.start===void 0&&e.start===void 0){g.mergeNodes(t,{at:n}),s();return}}},render(t,{element:e,attributes:n,children:s}){return e.ordered?c("ol",C(N({},n),{start:e.start,children:s})):c("ul",C(N({},n),{children:s}))},toggle:{prefix:/^(?:-|\d+\.)$/,toggle:Xe,onTrigger:t=>{if(t==="-")return{ordered:!1,start:void 0,spread:void 0};{const e=parseInt(t);return{ordered:!0,start:e===1?void 0:e,spread:void 0}}}},events:{},toolbarItems:Ye});function Xe(t,e,n){if(n===!1)throw new Error("should never reach");t.addMark("start",n.start),t.nearest([p.get(t,e),e],R)?(t.addMark("ordered",n.ordered),G.toolbarItems[0].action(t,e,{})):Ye[n.ordered?0:1].action(t,e,{})}var on=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",toggleList:Xe,default:R});j.add(je,$e);const ie=[{key:"indent-list-item",isActive:()=>!1,isDisabled:(t,e)=>{const n=t.nearest([p.get(t,e),e],R);return!n||n[0].children.length<=1},icon:c(A,{icon:je}),action:(t,e,n)=>{const s=t.getAndRemoveMark("ordered"),r=t.getAndRemoveMark("start"),o=[p.get(t,e),e],i=t.nearest(o,R);if(!i||i[0].children.length<=1)return;const d=t.nearest(o,ne);!d||!w.hasPrevious(d[1])||t.wrap(d,[ne,R],[{spread:void 0,checked:void 0},{ordered:s!=null?s:i[0].ordered,spread:void 0,start:r}])&&g.mergeNodes(t,{at:d[1]})}},{key:"outdent-list-item",isActive:()=>!1,isDisabled:(t,e)=>!t.nearest([p.get(t,e),e],R),icon:c(A,{icon:$e}),action:(t,e,n)=>{const s=[p.get(t,e),e];if(!t.nearest(s,R))return;const o=t.nearest(s,ne);if(!o)return;const i=x.pathRef(t,o[1]),d=w.next(o[1]);if(x.hasPath(t,d)&&g.splitNodes(t,{at:d}),g.splitNodes(t,{at:o[1]}),i.current){const k=w.parent(i.current),M=[p.get(t,k),k];t.unwrap(M,[R,ne]),g.splitNodes(t,{at:k})}i.unref()}}],ne=D({type:"listItem",isLeaf:!1,isInline:!1,wrappingParagraph:!0,contentType:_.list,contentModelType:_.flow,normalize:(t,e,n,s)=>{if(e.children.length>0)if(I(e.children[0],"list")){g.moveNodes(t,{at:n.concat(0),to:w.parent(n)}),s();return}else{const i=e.children.length-1;if(e.children.length>1&&I(e.children[i],"paragraph")){const d=w.next(n);g.moveNodes(t,{at:n.concat(i),to:d}),g.wrapNodes(t,{type:"listItem",checked:e.checked,spread:e.spread,children:[]},{at:d}),s();return}}else{g.removeNodes(t,{at:n}),s();return}const r=p.parent(t,n);t.getContentModelType(r)!==_.list&&(g.wrapNodes(t,{type:"list",ordered:!1,start:void 0,spread:void 0,children:[]},{at:n}),s())},render(t,{element:e,attributes:n,children:s}){return c("li",C(N({},n),{children:s}))},toggle:{},events:{onStartDelete:(t,e)=>(ie[1].action(t,w.parent(e),{}),!0),onStartEnter:(t,e)=>p.string(p.get(t,e))?!1:(ie[1].action(t,w.parent(e),{}),!0),onTab:(t,e)=>(ie[0].action(t,w.parent(e),{}),!0)},toolbarItems:ie});var G=ne,an=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:G});const ce=T.exports.createContext({isHeader:!1});var ln=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",TableContext:ce});const we=D({type:"tableCell",isInline:!1,isLeaf:!1,contentType:_.tableRow,contentModelType:_.phrasing,wrappingParagraph:!1,events:{},toggle:{},toolbarItems:[],render:(t,{element:e,attributes:n,children:s})=>c(ce.Consumer,{children:({isHeader:r})=>r?c("th",C(N({},n),{children:s})):c("td",C(N({},n),{children:s}))})});var cn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:we});const _e=D({type:"tableRow",isInline:!1,isLeaf:!1,contentType:_.table,contentModelType:_.tableRow,wrappingParagraph:!1,events:{},toggle:{},toolbarItems:[],render:(t,{element:e,attributes:n,children:s})=>c("tr",C(N({},n),{children:s}))});var un=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_e});const pn="\u6DFB\u52A0\u56FE\u7247",fn="object",gn={cols:{title:"\u5217\u6570",type:"number",min:2},rows:{title:"\u884C\u6570",type:"number",min:2}},dn=["cols","rows"];var hn={title:pn,type:fn,properties:gn,required:dn};j.add(Be);const mn=t=>t.children.length,ke=t=>t.children.length>0?t.children[0].children.length:0,yn=[{key:"toggle-table",icon:c(A,{icon:Be}),isActive:(t,e)=>I(p.get(t,e),"table"),isDisabled:(t,e)=>{const n=p.get(t,e);if(I(n,"table"))return!1;const s=p.parent(t,e),r=t.getContentModelType(s);return r?!U($.contentType,r):!0},action:(t,e,n)=>{const s=p.get(t,e);if(I(s,"table")){const r=[...p.texts(s)].map(([o])=>o.text).join(" ");g.removeNodes(t,{at:e}),g.insertNodes(t,{type:"paragraph",children:[{text:r}]},{at:e})}else ve(t,n.target,hn,{cols:2,rows:2}).then(r=>{r&&x.withoutNormalizing(t,()=>{const{cols:o,rows:i}=r;g.removeNodes(t,{at:e}),g.insertNodes(t,{type:"table",align:void 0,children:Array(i).fill(0).map(()=>({type:"tableRow",children:Array(o).fill(0).map(()=>({type:"tableCell",children:[{text:""}]}))}))},{at:e})})})}},{key:"table-insert-row-above",icon:c(pt,{}),isActive:()=>!1,isDisabled:(t,e)=>!t.nearest([p.get(t,e),e],$),action:(t,e,n)=>{const s=t.nearest([p.get(t,e),e],$);if(!s)return;let r;if(t.selection){const i=t.selection.focus.path,d=t.nearest([p.get(t,i),i],_e);d&&(r=d[1])}r||(r=s[1].concat(0));const o=ke(s[0]);g.insertNodes(t,{type:"tableRow",children:Array(o).fill(0).map(()=>({type:"tableCell",children:[{text:""}]}))},{at:r})}},{key:"table-insert-row-below",icon:c(ft,{}),isActive:()=>!1,isDisabled:(t,e)=>!t.nearest([p.get(t,e),e],$),action:(t,e,n)=>{const s=t.nearest([p.get(t,e),e],$);if(!s)return;let r;if(t.selection){const i=t.selection.focus.path,d=t.nearest([p.get(t,i),i],_e);d&&(r=d[1])}r||(r=s[1].concat(mn(s[0])-1)),r=w.next(r);const o=ke(s[0]);g.insertNodes(t,{type:"tableRow",children:Array(o).fill(0).map(()=>({type:"tableCell",children:[{text:""}]}))},{at:r})}},{key:"table-insert-row-left",icon:c(gt,{}),isActive:()=>!1,isDisabled:(t,e)=>!t.nearest([p.get(t,e),e],$),action:(t,e,n)=>{const s=t.nearest([p.get(t,e),e],$);if(!s)return;let r;if(t.selection){const o=t.selection.focus.path,i=t.nearest([p.get(t,o),o],we);i&&(r=i[1][i[1].length-1])}typeof r!="number"&&(r=0);for(const[o]of Array(s[0].children.length).fill(0).entries()){const i=s[1].concat(o,r);g.insertNodes(t,{type:"tableCell",children:[{text:""}]},{at:i})}}},{key:"table-insert-row-right",icon:c(dt,{}),isActive:()=>!1,isDisabled:(t,e)=>!t.nearest([p.get(t,e),e],$),action:(t,e,n)=>{const s=t.nearest([p.get(t,e),e],$);if(!s)return;let r;if(t.selection){const o=t.selection.focus.path,i=t.nearest([p.get(t,o),o],we);i&&(r=i[1][i[1].length-1])}typeof r!="number"&&(r=ke(s[0])-1),r+=1;for(const[o]of Array(s[0].children.length).fill(0).entries()){const i=s[1].concat(o,r);g.insertNodes(t,{type:"tableCell",children:[{text:""}]},{at:i})}}}],$=D({type:"table",isInline:!1,isLeaf:!1,contentType:_.flow,contentModelType:_.table,wrappingParagraph:!1,events:{},toggle:{},toolbarItems:yn,render:(t,{element:e,attributes:n,children:s})=>{const[r,...o]=s,i={isHeader:!0,align:e.align},d={isHeader:!1,align:e.align};return c(J,{element:e,children:K("table",C(N({},n),{children:[c(ce.Provider,{value:i,children:c("thead",{children:r})}),c(ce.Provider,{value:d,children:c("tbody",{children:o})})]}))})}});var bn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$}),vn=D({type:"thematicBreak",isLeaf:!1,isInline:!1,wrappingParagraph:!1,contentType:_.flow,contentModelType:null,render(t,{element:e,children:n,attributes:s}){return c(J,{element:e,children:K(Te,{children:[c("hr",N({},s)),n]})})},toggle:{prefix:/^---$/,estimatePrefixLength:3,toggle:(t,e,n)=>{n?(g.removeNodes(t,{at:e}),g.insertNodes(t,{type:"paragraph",children:[{text:""}]},{at:e}),g.insertNodes(t,{type:"thematicBreak",children:[]},{at:e}),F.deselect(t),g.select(t,x.start(t,w.next(e)))):g.setNodes(t,{type:"thematicBreak",children:[{text:""}]},{at:e})},onTrigger:(t,e,n)=>{if(!(n.length>1))return!0}},events:{},toolbarItems:[]}),xn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:vn});const Tn={"./blockquote/BlockquoteNode.tsx":Gt,"./code/CodeNode.tsx":It,"./heading/HeadingNode.tsx":Jt,"./image/ImageNode.tsx":rn,"./link/LinkNode.tsx":Ut,"./list/ListItemNode.tsx":an,"./list/ListNode.tsx":on,"./paragraph/ParagraphNode.tsx":Yt,"./table/TableCellNode.tsx":cn,"./table/TableNode.tsx":bn,"./table/TableRowNode.tsx":un,"./table/context.tsx":ln,"./text/TextNode.tsx":Rt,"./thematic-break/ThematicBreakNode.tsx":xn};function wn(t){for(const[e,{default:n}]of Object.entries(Tn))typeof(n==null?void 0:n.register)=="function"&&(console.debug("auto detected",e),n.register(t))}j.add(ge,de,he,oe);function _n(t,e){var r;if(!e)return[];const n=(r=F.toSlateRange(t,e,{exactMatch:!0}))!=null?r:t.selection;if(n){const[o]=x.nodes(t,{at:n,match:i=>{const d=i.type;if(d){const k=t.factory.customElementMap.get(d);if(k&&k.contentModelType!==_.value)return!0}return!1}});if(!o)return[]}return Q.toolbarItems.concat(t.factory.inlineConfigs.flatMap(o=>o.toolbarItems)).map(({key:o,isDisabled:i,isActive:d,action:k,icon:M,tips:l})=>({key:o,disabled:n?i(t,n):!1,active:n?d(t,n):!1,icon:M,action:n?a=>k(t,n,a):()=>{},tips:l}))}function kn(){const t=fe(),e=T.exports.useRef(null),n=T.exports.useRef(),[s,r]=T.exports.useState(!0),o=He(),[i,d]=T.exports.useState([]);t.hidePopper=()=>r(!0);const k=T.exports.useMemo(()=>({getBoundingClientRect(){return n.current?n.current.getBoundingClientRect():{width:0,height:0}}}),[t,n]),{styles:M,attributes:l,update:a}=ht(k,e.current,{placement:"top",modifiers:[{name:"computeStyles",options:{adaptive:!1}},{name:"offset",options:{offset:[0,8]}}]});return t.updatePopper=u=>{if(u){const f=!n.current;n.current=u,f&&setTimeout(()=>{t.updatePopper()},0)}const h=_n(t,n.current);d(h),h.length>0?(r(!1),a&&a()):r(!0),o()},t.togglePopper=u=>{s?t.updatePopper(u):t.hidePopper()},c("div",C(N({className:"ti-hovering-toolbar",ref:e,style:C(N({},M.popper),{opacity:s?0:1,pointerEvents:s?"none":"initial"})},l.popper),{children:i.map(u=>c(Fe,{action:u.action,active:u.active,disabled:u.disabled,icon:u.icon,tips:u.tips},u.key))}))}var V;(function(t){t[t.replace=1]="replace",t[t.wrap=2]="wrap",t[t.unwrap=3]="unwrap",t[t.custom=4]="custom"})(V||(V={}));const ue=T.exports.forwardRef(({disabled:t=!1,initialMarkdown:e="",config:n},s)=>{const[r,o]=T.exports.useState([]),i=T.exports.useMemo(()=>{const f=new Vt;return wn(f),n&&n(f),f.configProcessor(y=>{y.use(mt)}),f.freezeProcessors(),f},[]),d=T.exports.useMemo(()=>{const f=yt(bt(vt()));return i.wrapEditor(f,o)},[i]);T.exports.useEffect(()=>{s&&(typeof s=="function"?s(d):s.current=d)},[d,s]),T.exports.useEffect(()=>{d.markdown=e},[d]);const k=T.exports.useMemo(()=>i.createDefaultEditableProps(d),[i,d]),M=T.exports.useRef(null),l=T.exports.useMemo(()=>({getEditorDOMRect(){var f,y;return(y=(f=M.current)==null?void 0:f.getBoundingClientRect())!=null?y:new DOMRect}}),[M]),[a,u]=T.exports.useState();d.setActionForm=u;const h=T.exports.useMemo(()=>{if(a)return xt.exports.createPortal(a,document.body)},[a]);return K(Tt,{editor:d,onChange:o,value:r,children:[c(kn,{}),c(Ue.Provider,{value:l,children:c("div",{className:"ti-community-editor-container",ref:M,children:c(wt,N({as:"article",className:"ti-community-editor markdown-body"},k))})}),h]})});ue.displayName="TiEditor";ue.propTypes={disabled:qe.bool,initialMarkdown:qe.string};ue.defaultProps={disabled:!1,initialMarkdown:""};const Pn=`### \u5F15\u7528 (blockquote)

\`\`\`markdown
> blockquote
> 
> yeah
\`\`\`

> blockquote
> 
> yeah

- \u6DFB\u52A0\u5F15\u7528
  - \u8F93\u5165 \`>\` \u5E76\u8F93\u5165\u7A7A\u683C
- \u5220\u9664\u5F15\u7528
  - \u5728\u5F15\u7528\u8D77\u59CB\u5904\u70B9\u51FB \`<Backspace>\`
`;var Mn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:Pn});const Nn=`### Codes

### Usage

- \u8F93\u5165 \\\`\\\`\\\` \u52A0\u7A7A\u683C

### Examples

\`\`\`javascript
console.log('hello world')
\`\`\`

\`\`\`sql
SELECT * FROM hello_world;
\`\`\`

`;var En=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:Nn});const Cn=`### \u6807\u9898

\`\`\`markdown
# h1
## h2
### h3
#### h4
##### h5
###### h6
\`\`\`

> # h1
> ## h2
> ### h3
> #### h4
> ##### h5
> ###### h6

- \u521B\u5EFA\u6807\u9898
  1. \u8F93\u5165 1-6 \u4E2A \`#\` \u5E76\u8F93\u5165\u7A7A\u683C
  2. \u5728\u6807\u9898\u4E2D\u95F4\u6216\u7ED3\u5C3E\u70B9\u51FB \`<Enter>\`
- \u5220\u9664\u6807\u9898
  - \u5728\u6807\u9898\u8D77\u59CB\u5904\u70B9\u51FB \`<Enter>\` \u4EE5\u5C06\u6807\u9898\u8F6C\u6362\u6210\u6BB5\u843D
`;var Sn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:Cn});const In=`### Image

![google logo](https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_92x30dp.png "google")
`;var Rn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:In});const zn=`### \u94FE\u63A5

\`\`\`
[title](url)
\`\`\`

> [title](#)

- \u521B\u5EFA\u94FE\u63A5
  - \u8F93\u5165\u94FE\u63A5 url \u5E76\u8F93\u5165\u7A7A\u683C\u4F1A\u81EA\u52A8\u8F6C\u6362
`;var Dn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:zn});const On=`### \u5217\u8868

\`\`\`markdown
- \u65E0\u5E8F\u5217\u8868
- ...
  - \u7F29\u8FDB\u5217\u8868

1. \u6709\u5E8F\u5217\u8868
\`\`\`

> - \u65E0\u5E8F\u5217\u8868
> - ...
>   - \u7F29\u8FDB\u5217\u8868
> 
> 1. \u6709\u5E8F\u5217\u8868 1
> 2. \u6709\u5E8F\u5217\u8868 2

\u4F7F\u7528\u4EE5\u4E0B\u65B9\u5F0F\u63A7\u5236 Markdown \u5217\u8868\uFF1A
- \u65B0\u5EFA\u5217\u8868\uFF1A
  1. \u8F93\u5165 \`-\` \u52A0\u7A7A\u683C\u63D2\u5165\u65E0\u5E8F\u5217\u8868
  2. \u8F93\u5165 \`number.\` \u52A0\u7A7A\u683C\u63D2\u5165\u6709\u5E8F\u5217\u8868
- \u5217\u8868\u7F29\u8FDB\uFF1A
  1. \u5728\u5217\u8868\u9879\u4E2D\u8F93\u5165 \`<Tab>\` \u751F\u6210\u4E0B\u7EA7\u5217\u8868 
  2. \u5728\u5217\u8868\u9879\u4E2D\u8F93\u5165 \`-\` \u6216 \`<number>\`\u3002
- \u53D6\u6D88\u5217\u8868
  1. \u5728\u7A7A\u5217\u8868\u9879\u4E2D\u76F4\u63A5\u8F93\u5165 \`<Enter>\`
`;var Ln=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:On});const An=`### Table

| foo | bar |
| :-- | :-: |
| baz | qux |

`;var jn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",plainText:An});const $n=`# a-editor

## \u6280\u672F\u6808

- core
  - [slate](https://www.slatejs.org/)
  - [remark](https://remark.js.org/)
  - [remark-slate-transformer](https://github.com/inokawa/remark-slate-transformer)
- code highlight
  - [prism](https://prismjs.com/)

## \u6837\u5F0F\u914D\u7F6E

### \u4EE3\u7801\u9AD8\u4EAE

\u5728 \`src/slate-markdown/elements/code/style.less\` \u6DFB\u52A0\u5BF9\u5E94 token \u6837\u5F0F\u3002

abc
deb

## \u7528\u6CD5
`,Bn={"./slate-markdown/elements/blockquote/instructions.md":Mn,"./slate-markdown/elements/code/instructions.md":En,"./slate-markdown/elements/heading/instructions.md":Sn,"./slate-markdown/elements/image/instructions.md":Rn,"./slate-markdown/elements/link/instructions.md":Dn,"./slate-markdown/elements/list/instructions.md":Ln,"./slate-markdown/elements/table/instructions.md":jn},qn=$n+`

`+Object.values(Bn).map(t=>t.plainText).join(`

`);function Fn(t){t.configProcessor(e=>{})}function Hn(){return c("div",{children:c(ue,{config:Fn,initialMarkdown:qn})})}_t.render(c(kt.StrictMode,{children:c(Hn,{})}),document.getElementById("root"));
